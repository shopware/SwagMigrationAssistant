/*! For license information please see swag-migration-assistant.js.LICENSE.txt */
!function(n){var t={};function e(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return n[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=n,e.c=t,e.d=function(n,t,i){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:i})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var r in n)e.d(i,r,function(t){return n[t]}.bind(null,r));return i},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p=(window.__sw__.assetPath + '/bundles/swagmigrationassistant/'),e(e.s="xyFG")}({"+GCN":function(n,t,e){},"0NM5":function(n,t){Shopware.Component.extend("swag-migration-profile-shopware54-api-page-information","swag-migration-profile-shopware-api-page-information",{})},"0PM1":function(n,t,e){var i=e("EGLZ");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,e("ydqr").default)("5247ca04",i,!0,{})},"0S4A":function(n,t,e){var i={"./shopware/api/swag-migration-profile-shopware-api-credential-form/index.js":"uHlR","./shopware/api/swag-migration-profile-shopware-api-page-information/index.js":"9qDT","./shopware/local/swag-migration-profile-shopware-local-credential-form/index.js":"2F8/","./shopware54/api/swag-migration-profile-shopware54-api-credential-form/index.js":"Z/H8","./shopware54/api/swag-migration-profile-shopware54-api-page-information/index.js":"0NM5","./shopware54/local/swag-migration-profile-shopware54-local-credential-form/index.js":"ofCA","./shopware55/api/swag-migration-profile-shopware55-api-credential-form/index.js":"aurJ","./shopware55/api/swag-migration-profile-shopware55-api-page-information/index.js":"zTKk","./shopware55/local/swag-migration-profile-shopware55-local-credential-form/index.js":"tGC4","./shopware56/api/swag-migration-profile-shopware56-api-credential-form/index.js":"eVgB","./shopware56/api/swag-migration-profile-shopware56-api-page-information/index.js":"Vmm1","./shopware56/local/swag-migration-profile-shopware56-local-credential-form/index.js":"bvU6","./shopware57/api/swag-migration-profile-shopware57-api-credential-form/index.js":"bxWT","./shopware57/api/swag-migration-profile-shopware57-api-page-information/index.js":"1cyy","./shopware57/local/swag-migration-profile-shopware57-local-credential-form/index.js":"bSTh","./shopware6/api/swag-migration-profile-shopware6-api-credential-form/index.js":"VlXp","./shopware6/api/swag-migration-profile-shopware6-api-page-information/index.js":"S1H+","./shopware63/api/swag-migration-profile-shopware63-api-credential-form/index.js":"6wLD","./shopware63/api/swag-migration-profile-shopware63-api-page-information/index.js":"h4fl"};function r(n){var t=o(n);return e(t)}function o(n){if(!e.o(i,n)){var t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}return i[n]}r.keys=function(){return Object.keys(i)},r.resolve=o,n.exports=r,r.id="0S4A"},"0mlJ":function(n,t,e){},"1cyy":function(n,t){Shopware.Component.extend("swag-migration-profile-shopware57-api-page-information","swag-migration-profile-shopware-api-page-information",{})},"1d+x":function(n,t,e){var i=e("2j4I");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,e("ydqr").default)("fdf5587c",i,!0,{})},"2F8/":function(n,t,e){"use strict";e.r(t);Shopware.Component.register("swag-migration-profile-shopware-local-credential-form",{template:'<div class="swag-migration-wizard swag-migration-wizard-page-credentials"\n     @keypress.enter="onKeyPressEnter">\n\n    {% block swag_migration_wizard_page_credentials_content %}\n        <div class="swag-migration-wizard__content">\n\n            {% block swag_migration_wizard_page_credentials_information %}\n                <div class="swag-migration-wizard__content-information">\n\n                    {% block swag_migration_wizard_page_credentials_local_hint %}\n                        {{ $tc(\'swag-migration.wizard.pages.credentials.shopware55.local.contentInformation\') }}\n                    {% endblock %}\n                </div>\n            {% endblock %}\n\n            {% block swag_migration_wizard_page_credentials_credentials %}\n                <div class="swag-migration-wizard__form">\n\n                    {% block swag_migration_wizard_page_credentials_local_db_host_port_group %}\n                        <sw-container columns="1fr 80px"\n                                      gap="16px">\n\n                            {% block swag_migration_wizard_page_credentials_local_dbhost_field %}\n                                <sw-text-field v-autofocus\n                                               v-model="inputCredentials.dbHost"\n                                               name="sw-field--dbHost"\n                                               :label="$tc(\'swag-migration.wizard.pages.credentials.shopware55.local.dbHostLabel\')"\n                                               :placeholder="$tc(\'swag-migration.wizard.pages.credentials.shopware55.local.dbHostPlaceholder\')">\n                                </sw-text-field>\n                            {% endblock %}\n\n                            {% block swag_migration_wizard_page_credentials_local_dbport_field %}\n                                <sw-text-field v-model="inputCredentials.dbPort"\n                                               name="sw-field--dbPort"\n                                               :label="$tc(\'swag-migration.wizard.pages.credentials.shopware55.local.dbPortLabel\')">\n                                </sw-text-field>\n                            {% endblock %}\n                        </sw-container>\n                    {% endblock %}\n\n                    {% block swag_migration_wizard_page_credentials_local_dbuser_field %}\n                        <sw-text-field v-model="inputCredentials.dbUser"\n                                       name="sw-field--dbUser"\n                                       :label="$tc(\'swag-migration.wizard.pages.credentials.shopware55.local.dbUserLabel\')"\n                                       :placeholder="$tc(\'swag-migration.wizard.pages.credentials.shopware55.local.dbUserPlaceholder\')">\n                        </sw-text-field>\n                    {% endblock %}\n\n                    {% block swag_migration_wizard_page_credentials_local_dbpassword_field %}\n                        <sw-password-field v-model="inputCredentials.dbPassword"\n                                           name="sw-field--dbPassword"\n                                           :label="$tc(\'swag-migration.wizard.pages.credentials.shopware55.local.dbPasswordLabel\')"\n                                           :placeholder="$tc(\'swag-migration.wizard.pages.credentials.shopware55.local.dbPasswordPlaceholder\')">\n                        </sw-password-field>\n                    {% endblock %}\n\n                    {% block swag_migration_wizard_page_credentials_local_dbname_field %}\n                        <sw-text-field v-model="inputCredentials.dbName"\n                                       name="sw-field--dbName"\n                                       :label="$tc(\'swag-migration.wizard.pages.credentials.shopware55.local.dbNameLabel\')"\n                                       :placeholder="$tc(\'swag-migration.wizard.pages.credentials.shopware55.local.dbNamePlaceholder\')">\n                        </sw-text-field>\n                    {% endblock %}\n\n                    {% block swag_migration_wizard_page_credentials_local_installationroot_field %}\n                        <sw-text-field v-model="inputCredentials.installationRoot"\n                                       name="sw-field--installationRoot"\n                                       :label="$tc(\'swag-migration.wizard.pages.credentials.shopware55.local.installationRoot\')"\n                                       :placeholder="$tc(\'swag-migration.wizard.pages.credentials.shopware55.local.installationRootPlaceholder\')">\n                        </sw-text-field>\n                    {% endblock %}\n                </div>\n            {% endblock %}\n        </div>\n    {% endblock %}\n</div>',props:{credentials:{type:Object,default:function(){return{}}}},data:function(){return{inputCredentials:{dbHost:"",dbPort:"3306",dbUser:"",dbPassword:"",dbName:"",installationRoot:""}}},watch:{credentials:{immediate:!0,handler:function(n){null===n||Object.keys(n).length<1?this.emitCredentials(this.inputCredentials):(this.inputCredentials=n,this.emitOnChildRouteReadyChanged(this.areCredentialsValid(this.inputCredentials)))}},inputCredentials:{deep:!0,handler:function(n){this.emitCredentials(n)}}},methods:{areCredentialsValid:function(n){return""!==n.dbHost&&""!==n.dbPort&&""!==n.dbName&&""!==n.dbUser&&""!==n.dbPassword&&""!==n.installationRoot},emitOnChildRouteReadyChanged:function(n){this.$emit("onChildRouteReadyChanged",n)},emitCredentials:function(n){this.$emit("onCredentialsChanged",n),this.emitOnChildRouteReadyChanged(this.areCredentialsValid(n))},onKeyPressEnter:function(){this.$emit("onTriggerPrimaryClick")}}})},"2j4I":function(n,t,e){},"5tSd":function(n,t,e){var i=e("OIjB");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,e("ydqr").default)("186cec3a",i,!0,{})},"6wLD":function(n,t){Shopware.Component.extend("swag-migration-profile-shopware63-api-credential-form","swag-migration-profile-shopware6-api-credential-form",{})},"7YI0":function(n,t,e){var i=e("JprS");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,e("ydqr").default)("7047b6b2",i,!0,{})},"7YV2":function(n,t,e){var i=e("yYla");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,e("ydqr").default)("77f1b0aa",i,!0,{})},"7yQQ":function(n,t,e){var i=e("Nkou");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,e("ydqr").default)("0c1783ac",i,!0,{})},"8U36":function(n,t,e){},"9qDT":function(n,t,e){"use strict";e.r(t);Shopware.Component.register("swag-migration-profile-shopware-api-page-information",{template:'{% block swag_migration_wizard_page_plugin_information %}\n    <div class="swag-migration-wizard swag-migration-wizard-page-plugin-information">\n\n        {% block swag_migration_wizard_page_plugin_information_content %}\n            <div class="swag-migration-wizard__content">\n\n                {% block swag_migration_wizard_page_plugin_information_information %}\n                    <div class="swag-migration-wizard__content-information">\n\n                        {% block swag_migration_wizard_page_plugin_information_svg %}\n                            <img class="swag-migration-wizard__plugin" :src="\'/swagmigrationassistant/static/img/wizard-shopware55-api-plugin-information.svg\' | asset">\n                        {% endblock %}\n\n                        {% block swag_migration_wizard_page_plugin_information_title %}\n                            <h3 class="information__header">\n                                {{ $tc(\'swag-migration.wizard.pages.profileInformation.shopware55Api.contentTitle\') }}\n                            </h3>\n                        {% endblock %}\n\n                        {% block swag_migration_wizard_page_plugin_information_api_hint %}\n                            <p class="swag-migration-wizard__description">\n                                {{ $tc(\'swag-migration.wizard.pages.profileInformation.shopware55Api.contentInformation\') }}\n                            </p>\n                        {% endblock %}\n\n                        {% block swag_migration_wizard_page_plugin_information_plugin_link %}\n                            <div class="swag-migration-wizard__link">\n                                <a class="link" target="_blank" href="https://store.shopware.com/search?sSearch=Swag226607479310">{{ $tc(\'swag-migration.wizard.pages.profileInformation.shopware55Api.pluginLink\') }}</a>\n                            </div>\n                        {% endblock %}\n                    </div>\n                {% endblock %}\n            </div>\n        {% endblock %}\n    </div>\n{% endblock %}'})},Aydh:function(n,t,e){var i=e("ztaO");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,e("ydqr").default)("bcd1d754",i,!0,{})},"B+fC":function(n,t,e){var i=e("0S4A");i.keys().forEach((function(n){i(n)}))},B51V:function(n,t,e){},BBtY:function(n,t,e){},"BC/F":function(n,t,e){},BKUY:function(n,t,e){},BsIA:function(n,t,e){var i=e("f9FX");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,e("ydqr").default)("044fe11c",i,!0,{})},CnYE:function(n,t,e){},Cvnh:function(n,t,e){var i=e("BBtY");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,e("ydqr").default)("1bb847ba",i,!0,{})},E2Q1:function(n,t,e){var i=e("pc/6");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,e("ydqr").default)("07b5af00",i,!0,{})},E3WW:function(n,t,e){},EGLZ:function(n,t,e){},INxb:function(n,t,e){var i=e("ookL");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,e("ydqr").default)("23cf8c45",i,!0,{})},JprS:function(n,t,e){},LBB8:function(n,t,e){},"M7P/":function(n,t,e){},"NDa+":function(n,t,e){},Nkou:function(n,t,e){},OIjB:function(n,t,e){},PW7L:function(n,t,e){var i=e("CnYE");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,e("ydqr").default)("33c0ca2e",i,!0,{})},RmzT:function(n,t){var e=null;Shopware.WorkerNotification.register("newsletterRecipientTask",{name:"SwagMigrationAssistant\\Migration\\MessageQueue\\Message\\ProcessMediaMessage",fn:function(n,t){var i=t.$root,r=t.entry,o=t.notification,a=5*r.size,s={title:i.$t("swag-migration.worker-listener.mediaProcessing.title"),message:i.$tc("swag-migration.worker-listener.mediaProcessing.message",a),variant:"info",metadata:{size:a},growl:!1,isLoading:!0};a&&null===e&&(o.create(s).then((function(n){e=n})),n());null!==e&&(s.uuid=e,0===a&&(s.title=i.$t("swag-migration.worker-listener.mediaProcessing.titleSuccess"),s.message=i.$t("swag-migration.worker-listener.mediaProcessing.messageSuccess"),s.isLoading=!1),o.update(s));n()}})},"S1H+":function(n,t,e){"use strict";e.r(t);e("ha+8");Shopware.Component.register("swag-migration-profile-shopware6-api-page-information",{template:'{% block swag_migration_wizard_page_plugin_information_shopware6 %}\n    <div class="swag-migration-wizard swag-migration-wizard-page-plugin-information swag-migration-profile-shopware6-api-page-information">\n\n        {% block swag_migration_wizard_page_plugin_information_shopware6_content %}\n            <div class="swag-migration-wizard__content">\n\n                {% block swag_migration_wizard_page_plugin_information_shopware6_information %}\n                    <div class="swag-migration-wizard__content-information">\n\n                        {% block swag_migration_wizard_page_plugin_information_shopware6_icon %}\n                            <div class="swag-migration-profile-shopware6-api-page-information__icon sw-settings-item">\n                                <div class="sw-settings-item__icon background--enabled">\n                                    <sw-icon name="regular-cog">\n                                    </sw-icon>\n                                </div>\n                            </div>\n                        {% endblock %}\n\n                        {% block swag_migration_wizard_page_plugin_information_shopware6_title %}\n                            <h3 class="information__header">\n                                {{ $tc(\'swag-migration.wizard.pages.profileInformation.shopware6Api.contentTitle\') }}\n                            </h3>\n                        {% endblock %}\n\n                        {% block swag_migration_wizard_page_plugin_information_shopware6_api_hint %}\n                            <p class="swag-migration-wizard__description">\n                                {{ $tc(\'swag-migration.wizard.pages.profileInformation.shopware6Api.contentInformation\') }}\n                            </p>\n                        {% endblock %}\n\n                        {% block swag_migration_wizard_page_plugin_information_shopware6_plugin_link %}\n                            <div class="swag-migration-wizard__link">\n                                <a class="link"\n                                   target="_blank"\n                                   :href="$tc(\'swag-migration.wizard.pages.profileInformation.shopware6Api.link\')">\n                                    {{ $tc(\'swag-migration.wizard.pages.profileInformation.shopware6Api.pluginLink\') }}\n                                </a>\n                            </div>\n                        {% endblock %}\n                    </div>\n                {% endblock %}\n            </div>\n        {% endblock %}\n    </div>\n{% endblock %}\n'})},Tgxb:function(n,t,e){var i=e("M7P/");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,e("ydqr").default)("84b0e0a6",i,!0,{})},VlXp:function(n,t,e){"use strict";e.r(t);Shopware.Component.register("swag-migration-profile-shopware6-api-credential-form",{template:'<div class="swag-migration-wizard swag-migration-wizard-page-credentials"\n     @keypress.enter="onKeyPressEnter">\n\n    {% block swag_migration_wizard_page_credentials_content %}\n        <div class="swag-migration-wizard__content">\n\n            {% block swag_migration_wizard_page_credentials_information %}\n                <div class="swag-migration-wizard__content-information">\n\n                    {% block swag_migration_wizard_page_credentials_api_hint %}\n                        <p class="swag-migration-wizard__description">\n                            {{ $tc(\'swag-migration.wizard.pages.credentials.shopware6.api.contentInformation\') }}\n                        </p>\n                    {% endblock %}\n                </div>\n            {% endblock %}\n\n            {% block swag_migration_wizard_page_credentials_credentials %}\n                <div class="swag-migration-wizard__form">\n\n                    {% block swag_migration_wizard_page_credentials_apiuser_field %}\n                        <sw-text-field\n                                       v-autofocus\n                                       v-model="inputCredentials.apiUser"\n                                       name="sw-field--apiUser"\n                                       :label="$tc(\'swag-migration.wizard.pages.credentials.shopware6.api.apiUserLabel\')"\n                                       :placeholder="$tc(\'swag-migration.wizard.pages.credentials.shopware6.api.apiUserPlaceholder\')"\n                                       :helpText="$tc(\'swag-migration.wizard.pages.credentials.shopware6.api.apiUserTooltip\')"\n                                       validation="required"\n                                       required>\n\n                            {% block swag_migration_wizard_page_credentials_apiuser_icon %}\n                                <template #suffix>\n                                    <sw-icon name="regular-user"></sw-icon>\n                                </template>\n                            {% endblock %}\n                        </sw-text-field>\n                    {% endblock %}\n\n                    {% block swag_migration_wizard_page_credentials_apiPassword_field %}\n                        <sw-password-field\n                                       v-model="inputCredentials.apiPassword"\n                                       name="sw-field--apiPassword"\n                                       :label="$tc(\'swag-migration.wizard.pages.credentials.shopware6.api.apiPasswordLabel\')"\n                                       :placeholder="$tc(\'swag-migration.wizard.pages.credentials.shopware6.api.apiPasswordPlaceholder\')"\n                                       :helpText="$tc(\'swag-migration.wizard.pages.credentials.shopware6.api.apiPasswordTooltip\')"\n                                       validation="required"\n                                       required>\n                        </sw-password-field>\n                    {% endblock %}\n\n                    {% block swag_migration_wizard_page_credentials_endpoint_field %}\n                        <sw-url-field v-model="inputCredentials.endpoint"\n                                      :validation="inputCredentials.endpoint !== \'http://\' && inputCredentials.endpoint !== \'https://\'"\n                                      :label="$tc(\'swag-migration.wizard.pages.credentials.shopware6.api.endpointLabel\')"\n                                      :placeholder="$tc(\'swag-migration.wizard.pages.credentials.shopware6.api.endpointPlaceholder\')"\n                                      :switchLabel="$tc(\'swag-migration.wizard.pages.credentials.shopware6.api.endpointSSLLabel\')"\n                                      required>\n                        </sw-url-field>\n                    {% endblock %}\n                </div>\n            {% endblock %}\n        </div>\n    {% endblock %}\n</div>\n',props:{credentials:{type:Object,default:function(){return{}}}},data:function(){return{inputCredentials:{endpoint:"",apiUser:"",apiPassword:""}}},computed:{apiPasswordLength:function(){return null===this.inputCredentials.apiPassword?0:this.inputCredentials.apiPassword.length}},watch:{credentials:{immediate:!0,handler:function(n){null===n||Object.keys(n).length<1?this.emitCredentials(this.inputCredentials):(this.inputCredentials=n,this.emitOnChildRouteReadyChanged(this.areCredentialsValid(this.inputCredentials)))}},inputCredentials:{deep:!0,handler:function(n){delete n.bearer_token,this.emitCredentials(n)}}},methods:{areCredentialsValid:function(n){return this.apiPasswordValid(n.apiPassword)&&this.validateInput(n.endpoint)&&this.validateInput(n.apiUser)&&"http://"!==n.endpoint&&"https://"!==n.endpoint},validateInput:function(n){return null!==n&&""!==n},apiPasswordValid:function(n){return null!==n&&n.length>=1},emitOnChildRouteReadyChanged:function(n){this.$emit("onChildRouteReadyChanged",n)},emitCredentials:function(n){this.$emit("onCredentialsChanged",n),this.emitOnChildRouteReadyChanged(this.areCredentialsValid(n))},onKeyPressEnter:function(){this.$emit("onTriggerPrimaryClick")}}})},Vmm1:function(n,t){Shopware.Component.extend("swag-migration-profile-shopware56-api-page-information","swag-migration-profile-shopware-api-page-information",{})},W3Lf:function(n,t,e){var i=e("bttr");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,e("ydqr").default)("4aa4a96b",i,!0,{})},Wwg1:function(n,t,e){var i=e("BKUY");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,e("ydqr").default)("3bfcd9e5",i,!0,{})},"Z/H8":function(n,t){Shopware.Component.extend("swag-migration-profile-shopware54-api-credential-form","swag-migration-profile-shopware-api-credential-form",{})},aurJ:function(n,t){Shopware.Component.extend("swag-migration-profile-shopware55-api-credential-form","swag-migration-profile-shopware-api-credential-form",{})},bCZK:function(n,t,e){var i=e("BC/F");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,e("ydqr").default)("5fef7646",i,!0,{})},bSTh:function(n,t){Shopware.Component.extend("swag-migration-profile-shopware57-local-credential-form","swag-migration-profile-shopware-local-credential-form",{})},bttr:function(n,t,e){},bvU6:function(n,t){Shopware.Component.extend("swag-migration-profile-shopware56-local-credential-form","swag-migration-profile-shopware-local-credential-form",{})},bxWT:function(n,t){Shopware.Component.extend("swag-migration-profile-shopware57-api-credential-form","swag-migration-profile-shopware-api-credential-form",{})},docX:function(n,t,e){var i=e("B51V");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,e("ydqr").default)("502c0b8b",i,!0,{})},eVgB:function(n,t){Shopware.Component.extend("swag-migration-profile-shopware56-api-credential-form","swag-migration-profile-shopware-api-credential-form",{})},eswU:function(n,t,e){},f9FX:function(n,t,e){},fODa:function(n,t,e){var i=e("rN+u");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,e("ydqr").default)("5bd2d6f8",i,!0,{})},"gqG/":function(n,t,e){var i=e("eswU");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,e("ydqr").default)("0c0ed400",i,!0,{})},h4fl:function(n,t){Shopware.Component.extend("swag-migration-profile-shopware63-api-page-information","swag-migration-profile-shopware6-api-page-information",{})},hVVV:function(n,t,e){var i=e("0mlJ");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,e("ydqr").default)("fdf86514",i,!0,{})},"ha+8":function(n,t,e){var i=e("jsHs");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,e("ydqr").default)("1dad0a82",i,!0,{})},jRBE:function(n,t,e){var i=e("8U36");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,e("ydqr").default)("063c3630",i,!0,{})},jsHs:function(n,t,e){},kNMu:function(n,t,e){var i=e("E3WW");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,e("ydqr").default)("45b6e0e3",i,!0,{})},lD9V:function(n,t,e){var i=e("nBTr");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,e("ydqr").default)("2237e0a3",i,!0,{})},mTJm:function(n,t,e){},n22e:function(n,t,e){var i=e("NDa+");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,e("ydqr").default)("2eb53e70",i,!0,{})},nBTr:function(n,t,e){},odLf:function(n,t,e){},ofCA:function(n,t){Shopware.Component.extend("swag-migration-profile-shopware54-local-credential-form","swag-migration-profile-shopware-local-credential-form",{})},ookL:function(n,t,e){},ovuc:function(n,t,e){var i=e("LBB8");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,e("ydqr").default)("858fadd6",i,!0,{})},"pc/6":function(n,t,e){},pjlQ:function(n,t,e){var i=e("mTJm");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,e("ydqr").default)("8e1691dc",i,!0,{})},"rN+u":function(n,t,e){},rd1a:function(n,t,e){var i=e("odLf");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,e("ydqr").default)("a5fea7c0",i,!0,{})},tGC4:function(n,t){Shopware.Component.extend("swag-migration-profile-shopware55-local-credential-form","swag-migration-profile-shopware-local-credential-form",{})},uHlR:function(n,t,e){"use strict";e.r(t);var i=Shopware.Component,r=Shopware.Classes.ShopwareError;i.register("swag-migration-profile-shopware-api-credential-form",{template:'<div class="swag-migration-wizard swag-migration-wizard-page-credentials"\n     @keypress.enter="onKeyPressEnter">\n\n    {% block swag_migration_wizard_page_credentials_content %}\n        <div class="swag-migration-wizard__content">\n\n            {% block swag_migration_wizard_page_credentials_information %}\n                <div class="swag-migration-wizard__content-information">\n\n                    {% block swag_migration_wizard_page_credentials_api_hint %}\n                        <p class="swag-migration-wizard__description">\n                            {{ $tc(\'swag-migration.wizard.pages.credentials.shopware55.api.contentInformation\') }}\n                        </p>\n                    {% endblock %}\n                </div>\n            {% endblock %}\n\n            {% block swag_migration_wizard_page_credentials_credentials %}\n            <div class="swag-migration-wizard__form">\n\n                {% block swag_migration_wizard_page_credentials_apikey_field %}\n                    <sw-text-field v-autofocus\n                                   v-model="inputCredentials.apiKey"\n                                   name="sw-field--apiKey"\n                                   :label="$tc(\'swag-migration.wizard.pages.credentials.shopware55.api.apiKeyLabel\')"\n                                   :placeholder="$tc(\'swag-migration.wizard.pages.credentials.shopware55.api.apiKeyPlaceholder\')"\n                                   :helpText="$tc(\'swag-migration.wizard.pages.credentials.shopware55.api.apiKeyTooltip\')"\n                                   :error="apiKeyError">\n\n                        {% block swag_migration_wizard_page_credentials_apikey_icon %}\n                            <template #suffix>\n                                <sw-icon name="regular-key"></sw-icon>\n                            </template>\n                        {% endblock %}\n                    </sw-text-field>\n                {% endblock %}\n\n                {% block swag_migration_wizard_page_credentials_apiuser_field %}\n                    <sw-text-field v-model="inputCredentials.apiUser"\n                                   name="sw-field--apiUser"\n                                   :label="$tc(\'swag-migration.wizard.pages.credentials.shopware55.api.apiUserLabel\')"\n                                   :placeholder="$tc(\'swag-migration.wizard.pages.credentials.shopware55.api.apiUserPlaceholder\')"\n                                   :helpText="$tc(\'swag-migration.wizard.pages.credentials.shopware55.api.apiUserTooltip\')"\n                                   validation="required">\n\n                        {% block swag_migration_wizard_page_credentials_apiuser_icon %}\n                            <template #suffix>\n                                <sw-icon name="regular-user"></sw-icon>\n                            </template>\n                        {% endblock %}\n                    </sw-text-field>\n                {% endblock %}\n\n                {% block swag_migration_wizard_page_credentials_endpoint_field %}\n                    <sw-url-field v-model="inputCredentials.endpoint"\n                                  :validation="inputCredentials.endpoint !== \'http://\' && inputCredentials.endpoint !== \'https://\'"\n                                  :label="$tc(\'swag-migration.wizard.pages.credentials.shopware55.api.endpointLabel\')"\n                                  :placeholder="$tc(\'swag-migration.wizard.pages.credentials.shopware55.api.endpointPlaceholder\')"\n                                  :switchLabel="$tc(\'swag-migration.wizard.pages.credentials.shopware55.api.endpointSSLLabel\')">\n                    </sw-url-field>\n                {% endblock %}\n            </div>\n            {% endblock %}\n        </div>\n    {% endblock %}\n</div>\n',props:{credentials:{type:Object,default:function(){return{}}}},data:function(){return{inputCredentials:{endpoint:"",apiUser:"",apiKey:""},apiKeyErrorCode:""}},computed:{apiKeyLength:function(){return null===this.inputCredentials.apiKey?0:this.inputCredentials.apiKey.length},apiKeyError:function(){return""===this.apiKeyErrorCode?null:new r({code:this.apiKeyErrorCode,meta:{parameters:{length:this.apiKeyLength}}})}},watch:{credentials:{immediate:!0,handler:function(n){null===n||Object.keys(n).length<1?this.emitCredentials(this.inputCredentials):(this.inputCredentials=n,this.emitOnChildRouteReadyChanged(this.areCredentialsValid(this.inputCredentials)))}},inputCredentials:{deep:!0,handler:function(n){this.emitCredentials(n)}}},methods:{areCredentialsValid:function(n){return this.apiKeyValid(n.apiKey)&&this.validateInput(n.endpoint)&&this.validateInput(n.apiUser)&&"http://"!==n.endpoint&&"https://"!==n.endpoint},validateInput:function(n){return null!==n&&""!==n},apiKeyValid:function(n){return null===n||n.length<40||n.length>40?(this.apiKeyErrorCode="SWAG_MIGRATION_INVALID_API_KEY",!1):(this.apiKeyErrorCode="",!0)},emitOnChildRouteReadyChanged:function(n){this.$emit("onChildRouteReadyChanged",n)},emitCredentials:function(n){this.$emit("onCredentialsChanged",n),this.emitOnChildRouteReadyChanged(this.areCredentialsValid(n))},onKeyPressEnter:function(){this.$emit("onTriggerPrimaryClick")}}})},vYBh:function(n,t){var e=Shopware.Mixin,i=Shopware.Utils.debug;e.register("swag-wizard",{data:function(){return{routes:{},currentRoute:{name:"",index:0}}},computed:{routeIndex:function(){return Math.floor(this.currentRoute.index)},routeCount:function(){var n=this,t=[];return Object.keys(this.routes).forEach((function(e){t.includes(Math.floor(n.routes[e].index))||t.push(Math.floor(n.routes[e].index))})),t.length},routePrevious:function(){var n,t=this;return Object.keys(this.routes).forEach((function(e){t.routes[e].index<t.currentRoute.index&&(void 0===n||Math.floor(t.routes[e].index)>n.index)&&(n=t.routes[e])})),void 0!==n&&n},routeNext:function(){var n,t=this;return Object.keys(this.routes).forEach((function(e){Math.floor(t.routes[e].index)>t.routeIndex&&(void 0===n||Math.floor(t.routes[e].index)<n.index)&&(n=t.routes[e])})),void 0!==n&&n},navigateToPreviousPossible:function(){return!1!==this.routePrevious},navigateToNextPossible:function(){return!1!==this.routeNext}},created:function(){this.matchCurrentRoute(!1)},updated:function(){this.matchCurrentRoute(!0)},methods:{matchCurrentRoute:function(){var n,t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=Object.keys(this.routes).some((function(e){return t.routes[e].name===t.$router.currentRoute.name&&(n=t.routes[e],!0)}));i&&(this.currentRoute=n,e&&this.onChildRouteChanged())},onChildRouteChanged:function(){i.warn("swag-wizard Mixin",'When using the wizard mixin you have to implement your custom "onChildRouteChanged()" method.')},navigateToRoute:function(n){this.$router.push({name:n.name})},navigateToPrevious:function(){return!!this.navigateToPreviousPossible&&(this.navigateToRoute(this.routePrevious),!0)},navigateToNext:function(){return!!this.navigateToNextPossible&&(this.navigateToRoute(this.routeNext),!0)}}})},xmNA:function(n,t,e){var i=e("+GCN");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,e("ydqr").default)("0139343f",i,!0,{})},xyFG:function(n,t,e){"use strict";e.r(t);e("vYBh");Shopware.Component.extend("swag-migration-grid-extended","sw-grid",{template:'{% block sw_grid_body_slot_items %}\n    <sw-grid-row :class="extendedGridRowClasses(item, index)"\n                 :style="columnFlex"\n                 :key="item.id"\n                 :item="item"\n                 :index="index"\n                 @inline-edit-finish="onInlineEditFinish"\n                 @inline-edit-start="onInlineEditStart">\n\n        {% block sw_grid_body_item_selectable %}\n            <div v-if="selectable" class="sw-grid-column">\n                <div class="sw-grid__cell-content">\n                    <sw-checkbox-field :value="isSelected(item.id)"\n                                       :disabled="isDisabled(item)"\n                                       @change="selectItem($event, item)">\n                    </sw-checkbox-field>\n                </div>\n            </div>\n        {% endblock %}\n\n        <slot name="columns" :item="item">\n            {% block sw_grid_slot_columns %}{% endblock %}\n        </slot>\n    </sw-grid-row>\n{% endblock %}\n',props:{disabledAttribute:{type:String,default:"disabled"}},methods:{isDisabled:function(n){return n[this.disabledAttribute]},extendedGridRowClasses:function(n,t){var e={"is--selected":this.isSelected(n.id)&&!this.isDisabled(n),"is--deleted":n.isDeleted,"is--new":n.isLocal,"is--disabled":this.isDisabled(n)};return e["sw-grid__row--".concat(t)]=!0,e}}});Shopware.Component.register("swag-migration-history-selected-data",{template:'{% block swag_migration_history_selected_data %}\n    <div class="swag-migration-history-selected-data">\n        <template v-for="(snippet, index) in dataSnippets">\n\n            {% block swag_migration_history_selected_data_entityGroupSnippet %}\n                {{ $tc(snippet) }}<template v-if="index !== (dataSnippets.length - 1)">, </template>\n            {% endblock %}\n        </template>\n    </div>\n{% endblock %}',props:{entityGroups:{type:Array,default:function(){return[]}}},computed:{dataSnippets:function(){var n=[];return this.entityGroups.forEach((function(t){"processMediaFiles"!==t.id&&n.push(t.snippet)})),n}}});e("PW7L");function i(n){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function r(){r=function(){return n};var n={},t=Object.prototype,e=t.hasOwnProperty,o=Object.defineProperty||function(n,t,e){n[t]=e.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function g(n,t,e){return Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}),n[t]}try{g({},"")}catch(n){g=function(n,t,e){return n[t]=e}}function d(n,t,e,i){var r=t&&t.prototype instanceof p?t:p,a=Object.create(r.prototype),s=new P(i||[]);return o(a,"_invoke",{value:S(n,e,s)}),a}function u(n,t,e){try{return{type:"normal",arg:n.call(t,e)}}catch(n){return{type:"throw",arg:n}}}n.wrap=d;var m={};function p(){}function f(){}function h(){}var w={};g(w,s,(function(){return this}));var _=Object.getPrototypeOf,v=_&&_(_(M([])));v&&v!==t&&e.call(v,s)&&(w=v);var b=h.prototype=p.prototype=Object.create(w);function y(n){["next","throw","return"].forEach((function(t){g(n,t,(function(n){return this._invoke(t,n)}))}))}function k(n,t){function r(o,a,s,c){var l=u(n[o],n,a);if("throw"!==l.type){var g=l.arg,d=g.value;return d&&"object"==i(d)&&e.call(d,"__await")?t.resolve(d.__await).then((function(n){r("next",n,s,c)}),(function(n){r("throw",n,s,c)})):t.resolve(d).then((function(n){g.value=n,s(g)}),(function(n){return r("throw",n,s,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(n,e){function i(){return new t((function(t,i){r(n,e,t,i)}))}return a=a?a.then(i,i):i()}})}function S(n,t,e){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return E()}for(e.method=r,e.arg=o;;){var a=e.delegate;if(a){var s=C(a,e);if(s){if(s===m)continue;return s}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===i)throw i="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);i="executing";var c=u(n,t,e);if("normal"===c.type){if(i=e.done?"completed":"suspendedYield",c.arg===m)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(i="completed",e.method="throw",e.arg=c.arg)}}}function C(n,t){var e=t.method,i=n.iterator[e];if(void 0===i)return t.delegate=null,"throw"===e&&n.iterator.return&&(t.method="return",t.arg=void 0,C(n,t),"throw"===t.method)||"return"!==e&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+e+"' method")),m;var r=u(i,n.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,m;var o=r.arg;return o?o.done?(t[n.resultName]=o.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function x(n){var t={tryLoc:n[0]};1 in n&&(t.catchLoc=n[1]),2 in n&&(t.finallyLoc=n[2],t.afterLoc=n[3]),this.tryEntries.push(t)}function I(n){var t=n.completion||{};t.type="normal",delete t.arg,n.completion=t}function P(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(x,this),this.reset(!0)}function M(n){if(n){var t=n[s];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var i=-1,r=function t(){for(;++i<n.length;)if(e.call(n,i))return t.value=n[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:E}}function E(){return{value:void 0,done:!0}}return f.prototype=h,o(b,"constructor",{value:h,configurable:!0}),o(h,"constructor",{value:f,configurable:!0}),f.displayName=g(h,l,"GeneratorFunction"),n.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,h):(n.__proto__=h,g(n,l,"GeneratorFunction")),n.prototype=Object.create(b),n},n.awrap=function(n){return{__await:n}},y(k.prototype),g(k.prototype,c,(function(){return this})),n.AsyncIterator=k,n.async=function(t,e,i,r,o){void 0===o&&(o=Promise);var a=new k(d(t,e,i,r),o);return n.isGeneratorFunction(e)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},y(b),g(b,l,"Generator"),g(b,s,(function(){return this})),g(b,"toString",(function(){return"[object Generator]"})),n.keys=function(n){var t=Object(n),e=[];for(var i in t)e.push(i);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},n.values=M,P.prototype={constructor:P,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!n)for(var t in this)"t"===t.charAt(0)&&e.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function i(e,i){return a.type="throw",a.arg=n,t.next=e,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=e.call(o,"catchLoc"),c=e.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(n,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===n||"continue"===n)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=n,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),m},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.finallyLoc===n)return this.complete(e.completion,e.afterLoc),I(e),m}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.tryLoc===n){var i=e.completion;if("throw"===i.type){var r=i.arg;I(e)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(n,t,e){return this.delegate={iterator:M(n),resultName:t,nextLoc:e},"next"===this.method&&(this.arg=void 0),m}},n}function o(n,t,e,i,r,o,a){try{var s=n[o](a),c=s.value}catch(n){return void e(n)}s.done?t(c):Promise.resolve(c).then(i,r)}function a(n){return function(){var t=this,e=arguments;return new Promise((function(i,r){var a=n.apply(t,e);function s(n){o(a,i,r,s,c,"next",n)}function c(n){o(a,i,r,s,c,"throw",n)}s(void 0)}))}}function s(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,(o=r.key,a=void 0,a=function(n,t){if("object"!==i(n)||null===n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var r=e.call(n,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(o,"string"),"symbol"===i(a)?a:String(a)),r)}var o,a}var c=Shopware.State,l=Object.freeze({WAITING:-1,PREMAPPING:0,FETCH_DATA:1,WRITE_DATA:2,PROCESS_MEDIA_FILES:3,FINISHED:4}),g={};Object.keys(l).forEach((function(n){"WAITING"!==n&&"PREMAPPING"!==n&&"FINISHED"!==n&&(g[l[n]]=n)}));var d=function(){function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._migrationService=t,this._migrationProcessState=c.get("swagMigration/process")}var t,e,i;return t=n,(e=[{key:"changeStatus",value:function(n){var t=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null===e&&(e=this._migrationProcessState.statusIndex),new Promise((function(i,r){e!==l.WRITE_DATA?e!==l.PROCESS_MEDIA_FILES?e!==l.FINISHED?(t.onStatusPreparationFinished(e),i()):t.onFinish(n).then((function(){t.onStatusPreparationFinished(e),i.apply(void 0,arguments)})).catch((function(n){t.onStatusPreparationFinished(e),r(n)})):t.beforeProcessMedia(n).then((function(){t.onStatusPreparationFinished(e),i.apply(void 0,arguments)})).catch((function(n){t.onStatusPreparationFinished(e),r(n)})):t.beforeWriteProgress(n).then((function(){t.onStatusPreparationFinished(e),i.apply(void 0,arguments)})).catch((function(n){t.onStatusPreparationFinished(e),r(n)}))}))}},{key:"onStatusPreparationFinished",value:function(n){c.commit("swagMigration/process/setStatusIndex",n)}},{key:"beforeWriteProgress",value:function(n){var t=this;return new Promise(function(){var e=a(r().mark((function e(i,o){var a,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=!0,s=0;case 2:if(!a){e.next=11;break}return e.next=5,t._migrationService.updateWriteProgress(n).then((function(n){n=n.filter((function(n){return"processMediaFiles"!==n.id})),c.commit("swagMigration/process/setEntityGroups",n),a=!1})).catch((function(){s+=1}));case 5:if(!(s>=3)){e.next=9;break}return a=!1,o(),e.abrupt("return");case 9:e.next=2;break;case 11:i();case 12:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}())}},{key:"beforeProcessMedia",value:function(n){var t=this;return new Promise(function(){var e=a(r().mark((function e(i,o){var a,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=!0,s=0;case 2:if(!a){e.next=11;break}return e.next=5,t._migrationService.updateMediaFilesProgress(n).then((function(n){var t=n.filter((function(n){return"processMediaFiles"===n.id}));c.commit("swagMigration/process/setEntityGroups",t),a=!1})).catch((function(){s+=1}));case 5:if(!(s>=3)){e.next=9;break}return a=!1,o(),e.abrupt("return");case 9:e.next=2;break;case 11:i();case 12:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}())}},{key:"onFinish",value:function(n){var t=this;return new Promise(function(){var e=a(r().mark((function e(i,o){var a,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=!0,s=0;case 2:if(!a){e.next=11;break}return e.next=5,t._migrationService.finishMigration(n).then((function(){a=!1})).catch((function(){s+=1}));case 5:if(!(s>=3)){e.next=9;break}return a=!1,o(),e.abrupt("return");case 9:e.next=2;break;case 11:i();case 12:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}())}}])&&s(t.prototype,e),i&&s(t,i),Object.defineProperty(t,"prototype",{writable:!1}),n}();function u(n){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function m(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,i)}return e}function p(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?m(Object(e),!0).forEach((function(t){f(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):m(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function f(n,t,e){return(t=function(n){var t=function(n,t){if("object"!==u(n)||null===n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var i=e.call(n,t||"default");if("object"!==u(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"===u(t)?t:String(t)}(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var h=Shopware,w=h.Component,_=h.State,v=Shopware.Component.getComponentHelper(),b=v.mapState,y=v.mapGetters;w.register("swag-migration-loading-screen",{template:'{% block swag_migration_loading_screen %}\n    <div class="swag-migration-loading-screen">\n\n        {% block swag_migration_loading_screen_card %}\n            <sw-card\n                v-show="!isPaused"\n                class="swag-migration-loading-screen__card"\n                position-identifier="swag-migration-loading-screen__card"\n            >\n\n                {% block swag_migration_index_loading_screen_content %}\n                    <div class="swag-migration-loading-screen__content">\n\n                        {% block swag_migration_index_loading_screen_header %}\n                            <div class="swag-migration-loading-screen__header">\n\n                                {% block swag_migration_index_loading_screen_title %}\n                                    <div class="swag-migration-loading-screen__title">\n                                        {{ statusLong }}\n                                    </div>\n                                {% endblock %}\n\n                                {% block swag_migration_index_loading_screen_caption %}\n                                    <div class="swag-migration-loading-screen__caption">\n                                        {{ caption }}\n                                    </div>\n                                {% endblock %}\n                            </div>\n                        {% endblock %}\n\n                        {% block swag_migration_index_loading_screen_progress_bar %}\n                            <swag-migration-progress-bar\n                                    :title="progressBarTitle"\n                                    :leftPointDescription="progressBarLeftPointDescription"\n                                    :rightPointDescription="$tc(\'swag-migration.index.loadingScreenCard.status.finish\')"\n                                    :value="progressBarValue"\n                                    :maxValue="progressBarMaxValue"></swag-migration-progress-bar>\n                        {% endblock %}\n\n                        {% block swag_migration_index_loading_screen_alert %}\n                            <sw-alert class="swag-migration-loading-screen__hint" variant="success">\n                                {{ hint }}\n                                <template #customIcon>\n                                    <sw-icon class="swag-migration-loading-screen__alert-icon"\n                                             name="regular-lightbulb"\n                                             size="20px"\n                                             decorative>\n                                    </sw-icon>\n                                </template>\n                            </sw-alert>\n                        {% endblock %}\n                    </div>\n                {% endblock %}\n            </sw-card>\n        {% endblock %}\n\n        {% block swag_migration_index_loading_screen_pause_overlay %}\n            <swag-migration-pause-screen v-show="isPaused"></swag-migration-pause-screen>\n        {% endblock %}\n    </div>\n{% endblock %}\n',computed:p(p(p(p({},b("swagMigration/process",["statusIndex","currentEntityGroupId"])),b("swagMigration/ui",["isPaused"])),y("swagMigration/process",["displayEntityGroups"])),{},{currentStatus:function(){return g[this.statusIndex]},progressBarValue:function(){return this.displayEntityGroups.reduce((function(n,t){return n+t.currentCount}),0)},progressBarMaxValue:function(){return this.displayEntityGroups.reduce((function(n,t){return n+t.total}),0)},progressBarTitle:function(){return""===this.currentEntityGroupId?"":"".concat(this.$tc("swag-migration.index.selectDataCard.dataSelection.".concat(this.currentEntityGroupId)))},progressBarLeftPointDescription:function(){return void 0===this.currentStatus?"":"".concat(this.$tc("swag-migration.index.loadingScreenCard.status.".concat(this.currentStatus,".short")))},caption:function(){return void 0===this.currentStatus?"":this.$tc("swag-migration.index.loadingScreenCard.status.".concat(this.currentStatus,".caption"))},statusLong:function(){return void 0===this.currentStatus?"":this.$tc("swag-migration.index.loadingScreenCard.status.".concat(this.currentStatus,".long"))},hint:function(){return void 0===this.currentStatus?"":this.$tc("swag-migration.index.loadingScreenCard.status.".concat(this.currentStatus,".hint"))}}),created:function(){this.createdComponent()},methods:{createdComponent:function(){_.commit("swagMigration/process/resetProgress")}}});e("5tSd");Shopware.Component.register("swag-migration-result-screen",{template:'{% block swag_migration_result_screen %}\n    <div>\n\n        {% block swag_migration_result_screen_card %}\n            <sw-card class="swag-migration-result-screen" position-identifier="swag-migration-result-screen">\n\n                {% block swag_migration_result_screen_content %}\n                    <div class="swag-migration-result-screen__content">\n\n                        {% block swag_migration_result_screen_icon %}\n                            <div class="swag-migration-result-screen__bubble">\n                                <sw-icon class="swag-migration-result-screen__icon"\n                                         name="regular-thumbs-up"\n                                         size="36px"\n                                         decorative>\n                                </sw-icon>\n                            </div>\n                        {% endblock %}\n\n                        {% block swag_migration_result_screen_title %}\n                            <div class="swag-migration-result-screen__title">\n                                {{ $tc(\'swag-migration.index.loadingScreenCard.result.title\') }}\n                            </div>\n                            <div class="swag-migration-result-screen__caption">\n                                {{ $tc(\'swag-migration.index.loadingScreenCard.result.caption\') }}\n                            </div>\n                        {% endblock %}\n\n                        {% block swag_migration_result_screen_link %}\n                            <router-link class="swag-migration-result-screen__link"\n                                         :to="{ name: \'swag.migration.index.history.detail\', params: { id: runId } }">\n                                {{ $tc(\'swag-migration.index.loadingScreenCard.result.historyLink\') }}\n                            </router-link>\n                        {% endblock %}\n                    </div>\n                {% endblock %}\n            </sw-card>\n        {% endblock %}\n\n        {% block swag_migration_result_screen_survey_card %}\n            <sw-card class="swag-migration-result-survey" position-identifier="swag-migration-result-survey">\n\n                {% block swag_migration_result_screen_survey_content %}\n                    <div class="swag-migration-result-survey__content">\n\n                        {% block swag_migration_result_screen_survey_title %}\n                            <div class="swag-migration-result-survey__title">\n                                {{ $tc(\'swag-migration.index.loadingScreenCard.result.survey.title\') }}\n                            </div>\n                        {% endblock %}\n\n                        {% block swag_migration_result_screen_survey_caption %}\n                            <div class="swag-migration-result-survey__caption">\n                                {{ $tc(\'swag-migration.index.loadingScreenCard.result.survey.caption\') }}\n                            </div>\n                        {% endblock %}\n\n                        {% block swag_migration_result_screen_survey_link %}\n                            <a class="sw-button sw-button--small"\n                               :href="$tc(\'swag-migration.index.loadingScreenCard.result.survey.link\')"\n                               target="_blank"\n                               rel="noopener">\n                                {{ $tc(\'swag-migration.index.loadingScreenCard.result.survey.buttonText\') }}\n                                <sw-icon class="swag-migration-result-survey__external-icon" name="regular-external-link-s" size="8"></sw-icon>\n                            </a>\n                        {% endblock %}\n\n                        {% block swag_migration_result_screen_survey_icon %}\n                            <div>\n                                <img class="swag-migration-result-survey__icon"\n                                     :src="\'/swagmigrationassistant/static/img/wizard-result-survey-icon.svg\' | asset">\n                            </div>\n                        {% endblock %}\n                    </div>\n                {% endblock %}\n            </sw-card>\n        {% endblock %}\n    </div>\n{% endblock %}\n',props:{runId:{type:String,required:!0}}});e("7YI0");var k=Shopware,S=k.Component,C=k.State,x=Object.freeze({RUNNING:"running",INTERRUPTED:"interrupted",ABORTED:"aborted"});S.register("swag-migration-loading-screen-takeover",{template:'{% block swag_migration_loading_screen_takeover %}\n    <sw-card\n        class="swag-migration-loading-screen-takeover"\n        :isLoading="isLoading"\n        position-identifier="swag-migration-loading-screen-takeover"\n    >\n\n        {% block swag_migration_loading_screen_takeover_content %}\n            <div class="swag-migration-loading-screen-takeover__content">\n\n                {% block swag_migration_loading_screen_takeover_content_icon %}\n                    <div class="swag-migration-loading-screen-takeover__icon-wrapper">\n                        <sw-icon name="regular-comment" color="#189EFF" large></sw-icon>\n                    </div>\n                {% endblock %}\n\n                {% block swag_migration_loading_screen_takeover_content_title %}\n                    <h5 class="swag-migration-loading-screen-takeover__title">\n                        {{ $tc(titleSnippet) }}\n                    </h5>\n                {% endblock %}\n\n                {% block swag_migration_loading_screen_takeover_content_message %}\n                    {{ $tc(messageSnippet) }}\n                {% endblock %}\n\n                {% block swag_migration_loading_screen_takeover_hint %}\n                    <div class="swag-migration-loading-screen-takeover__actions">\n                        <sw-button v-if="state !== possibleState.ABORTED && !isTakeoverForbidden"\n                                   variant="ghost"\n                                   @click="onCheckButtonClick">\n                            {{ $tc(\'swag-migration.index.loadingScreenCard.takeoverScreen.buttonCheck\') }}\n                        </sw-button>\n                        <sw-button v-if="state === possibleState.ABORTED"\n                                   variant="ghost"\n                                   @click="onRedirect">\n                            {{ $tc(\'swag-migration.index.loadingScreenCard.takeoverScreen.buttonRedirect\') }}\n                        </sw-button>\n                    </div>\n                {% endblock %}\n            </div>\n\n            {% block swag_migration_loading_screen_takeover_modal %}\n                <sw-modal v-if="showTakeoverModal"\n                          class="swag-migration-loading-screen-takeover__modal"\n                          :title="$tc(\'swag-migration.index.loadingScreenCard.takeoverScreen.takeoverModal.title\')"\n                          variant="small"\n                          @modal-close="onCloseTakeoverModal">\n\n                    {% block swag_migration_loading_screen_takeover_modal_message %}\n                        <p class="swag-migration-loading-screen-takeover__modal-message">\n                            {{ $tc(\'swag-migration.index.loadingScreenCard.takeoverScreen.takeoverModal.message\') }}\n                        </p>\n                    {% endblock %}\n\n                    {% block swag_migration_loading_screen_takeover_modal_hint %}\n                        <p class="swag-migration-loading-screen-takeover__modal-hint">\n                            {{ $tc(\'swag-migration.index.loadingScreenCard.takeoverScreen.takeoverModal.hint\') }}\n                        </p>\n                    {% endblock %}\n\n                    {% block swag_migration_loading_screen_takeover_modal_footer %}\n                        <template #modal-footer>\n\n                            {% block swag_migration_loading_screen_takeover_modal_footer_cancelAction %}\n                                <sw-button size="small"\n                                           @click="onCloseTakeoverModal">\n                                    {{ $tc(\'swag-migration.index.loadingScreenCard.takeoverScreen.takeoverModal.cancel\') }}\n                                </sw-button>\n                            {% endblock %}\n\n                            {% block swag_migration_loading_screen_takeover_modal_footer_confirmAction %}\n                                <sw-button variant="primary"\n                                           size="small"\n                                           @click="onTakeover">\n                                    {{ $tc(\'swag-migration.index.loadingScreenCard.takeoverScreen.takeoverModal.confirm\') }}\n                                </sw-button>\n                            {% endblock %}\n                        </template>\n                    {% endblock %}\n                </sw-modal>\n            {% endblock %}\n\n            {% block swag_migration_loading_screen_abort_modal %}\n                <sw-modal v-if="showAbortModal"\n                          class="swag-migration-loading-screen-takeover__modal"\n                          :title="$tc(\'swag-migration.index.loadingScreenCard.takeoverScreen.abortModal.title\')"\n                          variant="small"\n                          @modal-close="onCloseAbortModal">\n\n                    {% block swag_migration_loading_screen_abort_modal_message %}\n                        <p class="swag-migration-loading-screen-takeover__modal-message">\n                            {{ $tc(\'swag-migration.index.loadingScreenCard.takeoverScreen.abortModal.message\') }}\n                        </p>\n                    {% endblock %}\n\n                    {% block swag_migration_loading_screen_abort_modal_hint %}\n                        <p class="swag-migration-loading-screen-takeover__modal-hint">\n                            {{ $tc(\'swag-migration.index.loadingScreenCard.takeoverScreen.abortModal.hint\') }}\n                        </p>\n                    {% endblock %}\n\n                    {% block swag_migration_loading_screen_abort_modal_footer %}\n                        <template #modal-footer>\n\n                            {% block swag_migration_loading_screen_abort_modal_footer_cancelAction %}\n                                <sw-button size="small"\n                                           @click="onCloseAbortModal">\n                                    {{ $tc(\'swag-migration.index.loadingScreenCard.takeoverScreen.abortModal.cancel\') }}\n                                </sw-button>\n                            {% endblock %}\n\n                            {% block swag_migration_loading_screen_abort_modal_footer_confirmAction %}\n                                <sw-button variant="primary"\n                                           size="small"\n                                           @click="onAbort">\n                                    {{ $tc(\'swag-migration.index.loadingScreenCard.takeoverScreen.abortModal.confirm\') }}\n                                </sw-button>\n                            {% endblock %}\n                        </template>\n                    {% endblock %}\n                </sw-modal>\n            {% endblock %}\n\n            {% block swag_migration_loading_screen_redirect_modal %}\n                <sw-modal v-if="showRedirectModal"\n                          class="swag-migration-loading-screen-takeover__modal"\n                          :title="$tc(\'swag-migration.index.loadingScreenCard.takeoverScreen.redirectModal.title\')"\n                          variant="small"\n                          @modal-close="onCloseRedirectModal">\n\n                    {% block swag_migration_loading_screen_redirect_modal_message %}\n                        <p class="swag-migration-loading-screen-takeover__modal-message">\n                            {{ $tc(\'swag-migration.index.loadingScreenCard.takeoverScreen.redirectModal.message\') }}\n                        </p>\n                    {% endblock %}\n\n                    {% block swag_migration_loading_screen_redirect_modal_footer %}\n                        <template #modal-footer>\n                            {% block swag_migration_loading_screen_redirect_modal_footer_confirmAction %}\n                                <sw-button variant="primary"\n                                           size="small"\n                                           @click="onRedirect">\n                                    {{ $tc(\'swag-migration.index.loadingScreenCard.takeoverScreen.redirectModal.confirm\') }}\n                                </sw-button>\n                            {% endblock %}\n                        </template>\n                    {% endblock %}\n                </sw-modal>\n            {% endblock %}\n        {% endblock %}\n    </sw-card>\n{% endblock %}\n',inject:{migrationWorkerService:"migrationWorkerService"},props:{isTakeoverForbidden:{type:Boolean},isMigrationInterrupted:{type:Boolean}},data:function(){return{isLoading:!0,possibleState:x,state:x.RUNNING,showTakeoverModal:!1,showAbortModal:!1,showRedirectModal:!1}},computed:{titleSnippet:function(){return this.isTakeoverForbidden?"swag-migration.index.loadingScreenCard.takeoverScreen.forbidden.title":"swag-migration.index.loadingScreenCard.takeoverScreen.".concat(this.state,".title")},messageSnippet:function(){return this.isTakeoverForbidden?"swag-migration.index.loadingScreenCard.takeoverScreen.forbidden.message":"swag-migration.index.loadingScreenCard.takeoverScreen.".concat(this.state,".message")}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.isMigrationInterrupted?this.state=x.INTERRUPTED:this.state=x.RUNNING,this.isLoading=!1},refreshState:function(){var n=this;return this.isLoading=!0,this.migrationWorkerService.isMigrationRunningInOtherTab().then((function(t){return t?(n.isLoading=!1,Promise.resolve()):n.migrationWorkerService.checkForRunningMigration().then((function(t){if(!1===t.isMigrationRunning)return n.isLoading=!1,void(n.state=x.ABORTED);n.isMigrationInterrupted?n.state=x.INTERRUPTED:n.state=x.RUNNING,n.isLoading=!1})).catch((function(){n.isLoading=!1}))})).catch((function(){n.isLoading=!1}))},onCheckButtonClick:function(){var n=this;return this.isLoading=!0,this.migrationWorkerService.checkForRunningMigration().then((function(t){return!1===t.isMigrationRunning?(n.isLoading=!1,void(n.showRedirectModal=!0)):t.status===l.PREMAPPING?(n.isLoading=!1,void(n.showAbortModal=!0)):(n.isLoading=!1,void(n.showTakeoverModal=!0))}))},onCloseTakeoverModal:function(){this.showTakeoverModal=!1},onTakeover:function(){var n=this;this.showTakeoverModal=!1,this.$nextTick((function(){n.$emit("onTakeoverMigration")}))},onCloseAbortModal:function(){this.showAbortModal=!1},onAbort:function(){var n=this;this.showAbortModal=!1,this.$nextTick((function(){n.$emit("onAbortMigration")}))},onCloseRedirectModal:function(){this.showRedirectModal=!1},onRedirect:function(){var n=this;this.showRedirectModal=!1,this.$nextTick((function(){C.commit("swagMigration/process/setIsMigrating",!1),C.commit("swagMigration/ui/setIsLoading",!1),n.$router.push({name:"swag.migration.index.main"})}))}}});e("n22e");Shopware.Component.register("swag-migration-loading-screen-connection-lost",{template:'{% block swag_migration_loading_screen_connection_lost %}\n    <sw-card class="swag-migration-loading-screen-connection-lost" position-identifier="swag-migration-loading-screen-connection-lost">\n\n        {% block swag_migration_loading_screen_connection_lost_content %}\n            <div class="swag-migration-loading-screen-connection-lost__content">\n\n                {% block swag_migration_loading_screen_connection_lost_content_icon %}\n                    <div class="swag-migration-loading-screen-connection-lost__icon-wrapper">\n                        <sw-icon name="regular-exclamation-triangle" color="#ffb75d" large></sw-icon>\n                    </div>\n                {% endblock %}\n\n                {% block swag_migration_loading_screen_connection_lost_content_title %}\n                    <h5 class="swag-migration-loading-screen-connection-lost__title">\n                        {{ $tc(\'swag-migration.index.loadingScreenCard.connectionLostScreen.title\') }}\n                    </h5>\n                {% endblock %}\n\n                {% block swag_migration_loading_screen_connection_lost_content_message %}\n                    <p class="swag-migration-loading-screen-connection-lost__content-message">\n                        {{ $tc(\'swag-migration.index.loadingScreenCard.connectionLostScreen.message\') }}\n                    </p>\n                {% endblock %}\n\n                {% block swag_migration_loading_screen_connection_lost_hint %}\n                    <div class="swag-migration-loading-screen-connection-lost__actions">\n                        <sw-button variant="ghost"\n                                   @click="onNavigateMainClick">\n                            {{ $tc(\'swag-migration.index.loadingScreenCard.connectionLostScreen.buttonNavigateToMain\') }}\n                        </sw-button>\n                    </div>\n                {% endblock %}\n            </div>\n        {% endblock %}\n    </sw-card>\n{% endblock %}\n',methods:{onNavigateMainClick:function(){window.location.reload()}}});e("jRBE");Shopware.Component.register("swag-migration-pause-screen",{template:'{% block swag_migration_pause_screen %}\n    <sw-card class="swag-migration-pause-screen" position-identifier="swag-migration-pause-screen">\n\n        {% block swag_migration_pause_screen_content %}\n            <div class="swag-migration-pause-screen__content">\n\n                {% block swag_migration_pause_screen_content_icon %}\n                    <div class="swag-migration-pause-screen__icon-wrapper">\n                        <sw-icon name="regular-sofa" color="#189eff" large></sw-icon>\n                    </div>\n                {% endblock %}\n\n                {% block swag_migration_pause_screen_content_title %}\n                    <h5 class="swag-migration-pause-screen__title">\n                        {{ $tc(\'swag-migration.index.loadingScreenCard.pauseScreen.title\') }}\n                    </h5>\n                {% endblock %}\n\n                {% block swag_migration_pause_screen_content_message %}\n                    <p class="swag-migration-pause-screen__content-message">\n                        {{ $tc(\'swag-migration.index.loadingScreenCard.pauseScreen.message\') }}\n                    </p>\n                {% endblock %}\n            </div>\n        {% endblock %}\n    </sw-card>\n{% endblock %}\n'});e("kNMu");function I(n){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function P(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,i)}return e}function M(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?P(Object(e),!0).forEach((function(t){E(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):P(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function E(n,t,e){return(t=function(n){var t=function(n,t){if("object"!==I(n)||null===n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var i=e.call(n,t||"default");if("object"!==I(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"===I(t)?t:String(t)}(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var R=Shopware,L=R.Component,O=R.Mixin,z=Shopware.Component.getComponentHelper(),T=z.mapState,N=z.mapGetters,$=Shopware.Utils.format,j=Shopware.Data.Criteria,D=Object.freeze({SUCCESS:"success",DANGER:"danger"});L.register("swag-migration-shop-information",{template:'{% block swag_migration_shop_information %}\n    <sw-card\n        class="swag-migration-shop-information"\n        :title="$tc(\'swag-migration.index.shopInfoCard.cardTitle\')"\n        position-identifier="swag-migration-shop-information"\n    >\n\n        {% block swag_migration_shop_information_content %}\n            <template #grid>\n                <sw-container rows="auto auto">\n                    <sw-card-section :divider="showMoreInformation ? \'bottom\' : \'\'">\n\n                        {% block swag_migration_shop_information_connection %}\n                            <div class="swag-migration-shop-information__connection">\n\n                                {% block swag_migration_shop_information_connection_avatar %}\n                                    <template v-if="profileIcon === null || profileIcon === \'\'">\n                                        <swag-migration-shop-avatar class="swag-migration-shop-information__connection-avatar"\n                                                                    color="#189EFF"\n                                                                    size="80px">\n                                            {{ shopFirstLetter }}\n                                        </swag-migration-shop-avatar>\n                                    </template>\n\n                                    <template v-else>\n                                        <img class="swag-migration-shop-information__profile-avatar"\n                                             :src="profileIcon | asset"\n                                             size="80px">\n                                    </template>\n                                {% endblock %}\n\n                                {% block swag_migration_shop_information_connection_info %}\n                                    <div class="swag-migration-shop-information__connection-info">\n\n                                        {% block swag_migration_shop_information_shop_system %}\n                                            <div class="swag-migration-shop-information__connection-name">\n                                                {{ connectionName }}\n                                            </div>\n                                        {% endblock %}\n\n                                        {% block swag_migration_shop_information_shop_domain %}\n                                            <div v-if="shopUrl !== \'\'" class="swag-migration-shop-information__shop-domain">\n                                                <span class="swag-migration-shop-information__shop-domain-prefix"\n                                                      :class="shopUrlPrefixClass">\n                                                    <sw-icon v-if="sslActive"\n                                                             class="swag-migration-shop-information__shop-domain-prefix-icon"\n                                                             name="regular-lock"\n                                                             size="12px">\n                                                    </sw-icon>\n                                                    <sw-icon v-else\n                                                             class="swag-migration-shop-information__shop-domain-prefix-icon"\n                                                             name="regular-lock-open-s"\n                                                             size="12px">\n                                                    </sw-icon>\n                                                    {{ shopUrlPrefix }}</span>{{ shopUrl }}\n                                            </div>\n                                        {% endblock %}\n\n                                        {% block swag_migration_shop_information_actions %}\n                                            <div class="swag-migration-shop-information__actions">\n\n                                                {% block swag_migration_shop_information_actions_editSettings %}\n                                                    <sw-button size="small"\n                                                               @click="onClickEditConnectionCredentials">\n                                                        {{ $tc(\'swag-migration.index.shopInfoCard.buttonEditSettings\') }}\n                                                    </sw-button>\n                                                {% endblock %}\n\n                                                {% block swag_migration_shop_information_actions_contextMenu %}\n                                                    <sw-context-button>\n                                                        <template #button>\n                                                            <sw-button size="small" square>\n                                                                <sw-icon name="solid-ellipsis-h-s" small></sw-icon>\n                                                            </sw-button>\n                                                        </template>\n\n                                                        {% block swag_migration_shop_information_actions_createConnectionItem %}\n                                                            <sw-context-menu-item @click="onClickCreateConnection">\n                                                                {{ $tc(\'swag-migration.index.shopInfoCard.buttonCreateConnection\') }}\n                                                            </sw-context-menu-item>\n                                                        {% endblock %}\n\n                                                        {% block swag_migration_shop_information_actions_selectConnectionItem %}\n                                                            <sw-context-menu-item @click="onClickSelectConnection">\n                                                                {{ $tc(\'swag-migration.index.shopInfoCard.buttonSelectConnection\') }}\n                                                            </sw-context-menu-item>\n                                                        {% endblock %}\n\n                                                        {% block swag_migration_shop_information_actions_profileInstallationItem %}\n                                                            <sw-context-menu-item @click="onClickProfileInstallation">\n                                                                {{ $tc(\'swag-migration.index.shopInfoCard.buttonProfileInstallation\') }}\n                                                            </sw-context-menu-item>\n                                                        {% endblock %}\n\n                                                        {% block swag_migration_shop_information_actions_removeCredentialsItem %}\n                                                            <sw-context-menu-item variant="danger" @click="showRemoveCredentialsConfirmModal = true">\n                                                                {{ $tc(\'swag-migration.index.shopInfoCard.buttonRemoveCredentials\') }}\n                                                            </sw-context-menu-item>\n                                                        {% endblock %}\n\n                                                        {% block swag_migration_shop_information_actions_resetChecksumsItem %}\n                                                            <sw-context-menu-item variant="danger" @click="showResetChecksumsConfirmModal = true">\n                                                                {{ $tc(\'swag-migration.index.shopInfoCard.buttonResetChecksums\') }}\n                                                            </sw-context-menu-item>\n                                                        {% endblock %}\n\n                                                        {% block swag_migration_shop_information_actions_divider %}\n                                                            <sw-context-menu-divider></sw-context-menu-divider>\n                                                        {% endblock %}\n\n                                                        {% block swag_migration_shop_information_actions_resetMigrationItem %}\n                                                            <sw-context-menu-item @click="openResetMigrationModal">\n                                                                {{ $tc(\'swag-migration.index.shopInfoCard.buttonResetMigration\') }}\n                                                            </sw-context-menu-item>\n                                                        {% endblock %}\n                                                    </sw-context-button>\n                                                {% endblock %}\n                                            </div>\n                                        {% endblock %}\n                                    </div>\n                                {% endblock %}\n\n                                {% block swag_migration_shop_information_connection %}\n                                    <div class="swag-migration-shop-information__connection">\n                                        <div class="swag-migration-shop-information__connection-badge">\n                                            <sw-label class="swag-migration-shop-information__connection-status"\n                                                      :variant="connectionBadgeVariant"\n                                                      appearance="pill">\n                                                <sw-color-badge class="swag-migration-shop-information__connection-status-dot"\n                                                                :variant="connectionBadgeVariant"\n                                                                rounded>\n                                                </sw-color-badge>\n                                                <span class="swag-migration-shop-information__connection-status-text">\n                                                    {{ $tc(connectionBadgeLabel) }}\n                                                </span>\n                                            </sw-label>\n                                        </div>\n                                    </div>\n                                {% endblock %}\n                            </div>\n                        {% endblock %}\n                    </sw-card-section>\n\n                    <sw-card-section v-if="showMoreInformation" secondary slim>\n                        <sw-container class="swag-migration-shop-information__metadata"\n                                      columns="repeat(auto-fit, minmax(250px, 1fr)"\n                                      gap="0px 15px">\n\n                            {% block swag_migration_shop_information_metadata_columns %}\n                                <div class="swag-migration-shop-information__metadata-columns">\n\n                                    {% block swag_migration_shop_information_metadata_column_left %}\n                                        {% block swag_migration_shop_information_metadata_profile %}\n                                            <sw-description-list>\n                                                <dt>{{ $tc(\'swag-migration.index.shopInfoCard.profile\') }}</dt>\n                                                <dd>{{ profile }}</dd>\n                                            </sw-description-list>\n                                        {% endblock %}\n\n                                        {% block swag_migration_shop_information_metadata_gateway %}\n                                            <sw-description-list>\n                                                    <dt>{{ $tc(\'swag-migration.index.shopInfoCard.gateway\') }}</dt>\n                                                    <dd>{{ $tc(gateway) }}</dd>\n                                            </sw-description-list>\n                                        {% endblock %}\n                                    {% endblock %}\n                                </div>\n                                <div class="swag-migration-shop-information__metadata-columns">\n\n                                    {% block swag_migration_shop_information_column_right %}\n                                        {% block swag_migration_shop_information_metadata_lastConnectionCheck %}\n                                            <sw-description-list>\n                                                <dt>{{ $tc(\'swag-migration.index.shopInfoCard.connectionCheck\') }}</dt>\n                                                <dd v-if="lastConnectionCheck !== \'-\'">\n                                                    {{ $tc(\'swag-migration.index.shopInfoCard.displayDateTime\', 0, lastConnectionCheckDateTimeParams) }}\n                                                </dd>\n                                                <dd v-else>-</dd>\n                                            </sw-description-list>\n                                        {% endblock %}\n\n                                        {% block swag_migration_shop_information_metadata_lastMigration %}\n                                            <sw-description-list>\n                                                    <dt>{{ $tc(\'swag-migration.index.shopInfoCard.lastMigration\') }}</dt>\n                                                    <dd v-if="lastMigrationDate !== \'-\'">\n                                                        {{ $tc(\'swag-migration.index.shopInfoCard.displayDateTime\', 0, lastMigrationDateTimeParams) }}\n                                                    </dd>\n                                                    <dd v-else>\n                                                        {{ $tc(\'swag-migration.index.shopInfoCard.noMigrationDoneYet\') }}\n                                                    </dd>\n                                            </sw-description-list>\n                                        {% endblock %}\n                                    {% endblock %}\n                                </div>\n                            {% endblock %}\n                        </sw-container>\n                    </sw-card-section>\n                </sw-container>\n\n                {% block swag_migration_shop_information_remove_credentials_confirm_modal %}\n                    <sw-modal v-if="showRemoveCredentialsConfirmModal"\n                              class="swag-migration-shop-information__confirm-modal"\n                              :title="$tc(\'swag-migration.index.shopInfoCard.removeCredentialsConfirmDialog.title\')"\n                              :isLoading="confirmModalIsLoading"\n                              size="460px"\n                              @modal-close="showRemoveCredentialsConfirmModal = false">\n\n                        {% block swag_migration_shop_information_remove_credentials_confirm_modal_content %}\n                            <p class="swag-migration-shop-information__confirm-modal-content">\n                                {{ $tc(\'swag-migration.index.shopInfoCard.removeCredentialsConfirmDialog.content\') }}\n                            </p>\n                        {% endblock %}\n\n                        {% block swag_migration_shop_information_remove_credentials_confirm_modal_content_hint %}\n                            <p class="swag-migration-shop-information__confirm-modal-content-hint">\n                                {{ $tc(\'swag-migration.index.shopInfoCard.removeCredentialsConfirmDialog.contentHint\') }}\n                            </p>\n                        {% endblock %}\n\n                        {% block swag_migration_shop_information_remove_credentials_confirm_modal_footer %}\n                            <template #modal-footer>\n\n                                {% block swag_migration_shop_information_remove_credentials_confirm_modal_abort %}\n                                    <sw-button size="small"\n                                               :disabled="confirmModalIsLoading"\n                                               @click="showRemoveCredentialsConfirmModal = false">\n                                        {{ $tc(\'swag-migration.index.shopInfoCard.removeCredentialsConfirmDialog.abortButtonText\') }}\n                                    </sw-button>\n                                {% endblock %}\n\n                                {% block swag_migration_shop_information_remove_credentials_confirm_modal_confirm %}\n                                    <sw-button size="small"\n                                               variant="primary"\n                                               :disabled="confirmModalIsLoading"\n                                               @click="onClickRemoveConnectionCredentials">\n                                        {{ $tc(\'swag-migration.index.shopInfoCard.removeCredentialsConfirmDialog.confirmButtonText\') }}\n                                    </sw-button>\n                                {% endblock %}\n                            </template>\n                        {% endblock %}\n                    </sw-modal>\n                {% endblock %}\n\n                {% block swag_migration_shop_information_reset_checksums_confirm_modal %}\n                    <sw-modal v-if="showResetChecksumsConfirmModal"\n                              class="swag-migration-shop-information__confirm-modal"\n                              :title="$tc(\'swag-migration.index.shopInfoCard.resetChecksumsConfirmDialog.title\')"\n                              :isLoading="confirmModalIsLoading"\n                              size="460px"\n                              @modal-close="showResetChecksumsConfirmModal = false">\n\n                        {% block swag_migration_shop_information_reset_checksums_confirm_modal_content %}\n                            <p class="swag-migration-shop-information__confirm-modal-content"\n                               v-html="$tc(\'swag-migration.index.shopInfoCard.resetChecksumsConfirmDialog.content\')">\n                            </p>\n                        {% endblock %}\n\n                        {% block swag_migration_shop_information_reset_checksums_confirm_modal_content_hint %}\n                            <p class="swag-migration-shop-information__confirm-modal-content-hint">\n                                {{ $tc(\'swag-migration.index.shopInfoCard.resetChecksumsConfirmDialog.contentHint\') }}\n                            </p>\n                        {% endblock %}\n\n                        {% block swag_migration_shop_information_reset_checksums_confirm_modal_footer %}\n                            <template #modal-footer>\n\n                                {% block swag_migration_shop_information_reset_checksums_confirm_modal_abort %}\n                                    <sw-button size="small"\n                                               :disabled="confirmModalIsLoading"\n                                               @click="showResetChecksumsConfirmModal = false">\n                                        {{ $tc(\'swag-migration.index.shopInfoCard.resetChecksumsConfirmDialog.abortButtonText\') }}\n                                    </sw-button>\n                                {% endblock %}\n\n                                {% block swag_migration_shop_information_reset_checksums_confirm_modal_confirm %}\n                                    <sw-button size="small"\n                                               variant="primary"\n                                               :disabled="confirmModalIsLoading"\n                                               @click="onClickResetChecksums">\n                                        {{ $tc(\'swag-migration.index.shopInfoCard.resetChecksumsConfirmDialog.confirmButtonText\') }}\n                                    </sw-button>\n                                {% endblock %}\n                            </template>\n                        {% endblock %}\n                    </sw-modal>\n                {% endblock %}\n\n                {% block swag_migration_shop_information_reset_migration_confirm_modal %}\n                    <sw-modal v-if="showResetMigrationConfirmModal"\n                              class="swag-migration-shop-information__reset-confirm-modal"\n                              :title="$tc(\'swag-migration.index.shopInfoCard.resetMigrationConfirmDialog.title\')"\n                              :isLoading="confirmModalIsLoading"\n                              @modal-close="onCloseResetModal">\n\n                        {% block swag_migration_shop_information_reset_migration_confirm_modal_icon %}\n                            <div class="swag-migration-shop-information__reset-confirm-modal-icon-wrapper">\n                                <sw-icon class="swag-migration-shop-information__confirm-modal-icon" name="regular-trophy" color="#37D046" size="40"></sw-icon>\n                            </div>\n                        {% endblock %}\n\n                        {% block swag_migration_shop_information_reset_migration_confirm_modal_header %}\n                            <p class="swag-migration-shop-information__reset-confirm-modal-header"\n                               v-html="$tc(\'swag-migration.index.shopInfoCard.resetMigrationConfirmDialog.header\')">\n                            </p>\n                        {% endblock %}\n\n                        {% block swag_migration_shop_information_reset_migration_confirm_modal_content %}\n                            <p class="swag-migration-shop-information__reset-confirm-modal-content"\n                               v-html="$tc(\'swag-migration.index.shopInfoCard.resetMigrationConfirmDialog.content\')">\n                            </p>\n                        {% endblock %}\n\n                        {% block swag_migration_shop_information_reset_migration_confirm_modal_content_hint %}\n                            <p class="swag-migration-shop-information__reset-confirm-modal-content-hint">\n                                {{ $tc(\'swag-migration.index.shopInfoCard.resetMigrationConfirmDialog.contentHint\') }}\n                            </p>\n                        {% endblock %}\n\n                        {% block swag_migration_shop_information_reset_migration_confirm_modal_footer %}\n                        <template #modal-footer>\n\n                            {% block swag_migration_shop_information_reset_migration_confirm_modal_abort %}\n                                <sw-button size="small"\n                                           :disabled="confirmModalIsLoading"\n                                           @click="onCloseResetModal">\n                                    {{ $tc(\'swag-migration.index.shopInfoCard.resetMigrationConfirmDialog.abortButtonText\') }}\n                                </sw-button>\n                            {% endblock %}\n\n                            {% block swag_migration_shop_information_reset_migration_confirm_modal_confirm %}\n                                <sw-button size="small"\n                                           variant="primary"\n                                           :disabled="confirmModalIsLoading"\n                                           @click="onClickResetMigration">\n                                    {{ $tc(\'swag-migration.index.shopInfoCard.resetMigrationConfirmDialog.confirmButtonText\') }}\n                                </sw-button>\n                            {% endblock %}\n                        </template>\n                        {% endblock %}\n                    </sw-modal>\n                {% endblock %}\n            </template>\n        {% endblock %}\n    </sw-card>\n{% endblock %}\n',inject:{migrationProcessStoreInitService:"processStoreInitService",migrationService:"migrationService",repositoryFactory:"repositoryFactory"},mixins:[O.getByName("notification")],filters:{localizedNumberFormat:function(n){var t="".concat(this.adminLocaleLanguage,"-").concat(this.adminLocaleRegion);return new Intl.NumberFormat(t).format(n)}},props:{connected:{type:Boolean,default:!1}},data:function(){return{showMoreInformation:!0,confirmModalIsLoading:!1,showRemoveCredentialsConfirmModal:!1,showResetChecksumsConfirmModal:!1,showResetMigrationConfirmModal:!1,lastConnectionCheck:"-",lastMigrationDate:"-",connection:null,context:Shopware.Context.api}},computed:M(M(M({},T("swagMigration/process",["connectionId","environmentInformation"])),N(["adminLocaleLanguage","adminLocaleRegion"])),{},{displayEnvironmentInformation:function(){return null===this.environmentInformation?{}:this.environmentInformation},migrationRunRepository:function(){return this.repositoryFactory.create("swag_migration_run")},migrationConnectionRepository:function(){return this.repositoryFactory.create("swag_migration_connection")},connectionName:function(){return null===this.connection?"":this.connection.name},shopUrl:function(){return void 0===this.displayEnvironmentInformation.sourceSystemDomain?"":this.displayEnvironmentInformation.sourceSystemDomain.replace(/^\s*https?:\/\//,"")},shopUrlPrefix:function(){if(void 0===this.displayEnvironmentInformation.sourceSystemDomain)return"";var n=this.displayEnvironmentInformation.sourceSystemDomain.match(/^\s*https?:\/\//);return null===n?"":n[0]},sslActive:function(){return"https://"===this.shopUrlPrefix},shopUrlPrefixClass:function(){return this.sslActive?"swag-migration-shop-information__shop-domain-prefix--is-ssl":""},connectionBadgeLabel:function(){return this.serverUnreachable?"swag-migration.index.shopInfoCard.serverUnreachable":this.connected?"swag-migration.index.shopInfoCard.connected":"swag-migration.index.shopInfoCard.notConnected"},connectionBadgeVariant:function(){return this.connected?D.SUCCESS:D.DANGER},shopFirstLetter:function(){return void 0===this.displayEnvironmentInformation.sourceSystemName?"S":this.displayEnvironmentInformation.sourceSystemName[0]},profile:function(){return null===this.connection||void 0===this.connection.profile?"":"".concat(this.connection.profile.sourceSystemName," ").concat(this.connection.profile.version," - ").concat(this.connection.profile.author)},profileIcon:function(){return null===this.connection||void 0===this.connection.profile||void 0===this.connection.profile.icon?null:this.connection.profile.icon},gateway:function(){return null===this.connection||void 0===this.connection.gateway?"":this.connection.gateway.snippet},lastConnectionCheckDateTimeParams:function(){return{date:this.getDateString(this.lastConnectionCheck),time:this.getTimeString(this.lastConnectionCheck)}},lastMigrationDateTimeParams:function(){return{date:this.getDateString(this.lastMigrationDate),time:this.getTimeString(this.lastMigrationDate)}}}),watch:{$route:{immediate:!0,handler:function(){this.showResetMigrationConfirmModal=this.$route.meta.resetMigration}},connectionId:{immediate:!0,handler:function(n){this.fetchConnection(n)}}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.updateLastMigrationDate()},openResetMigrationModal:function(){this.showResetMigrationConfirmModal=!0,this.$router.push({name:"swag.migration.index.resetMigration"})},onCloseResetModal:function(){this.showResetMigrationConfirmModal=!1,this.$router.push({name:"swag.migration.index.main"})},updateLastMigrationDate:function(){var n=this,t=new j(1,1);return t.addSorting(j.sort("createdAt","DESC")),this.migrationRunRepository.search(t,this.context).then((function(t){t.length>0?n.lastMigrationDate=t.first().createdAt:n.lastMigrationDate="-"}))},fetchConnection:function(n){var t=this;return this.migrationConnectionRepository.get(n,this.context).then((function(n){return delete n.credentialFields,t.connection=n,t.lastConnectionCheck=new Date,t.migrationService.getProfileInformation(n.profileName,n.gatewayName).then((function(n){t.connection.profile=n.profile,t.connection.gateway=n.gateway}))}))},getTimeString:function(n){return $.date(n,{day:void 0,month:void 0,year:void 0,hour:"numeric",minute:"2-digit"})},getDateString:function(n){return $.date(n)},onClickEditConnectionCredentials:function(){this.$router.push({name:"swag.migration.wizard.credentials",params:{connectionId:this.connectionId}})},onClickCreateConnection:function(){this.$router.push({name:"swag.migration.wizard.connectionCreate"})},onClickSelectConnection:function(){this.$router.push({name:"swag.migration.wizard.connectionSelect"})},onClickProfileInstallation:function(){this.$router.push({name:"swag.migration.wizard.profileInstallation"})},onClickRemoveConnectionCredentials:function(){var n=this;return this.confirmModalIsLoading=!0,this.migrationService.updateConnectionCredentials(this.connectionId,{}).then((function(){n.$router.go()}))},onClickResetChecksums:function(){var n=this;return this.confirmModalIsLoading=!0,this.migrationService.resetChecksums(this.connectionId).then((function(){n.showResetChecksumsConfirmModal=!1,n.confirmModalIsLoading=!1}))},onClickResetMigration:function(){var n=this;return this.confirmModalIsLoading=!0,this.migrationService.cleanupMigrationData().then((function(){n.showResetMigrationConfirmModal=!1,n.confirmModalIsLoading=!1,n.migrationProcessStoreInitService.initProcessStore(),n.$nextTick((function(){n.$router.push({name:"swag.migration.emptyScreen"})}))})).catch((function(){n.showResetMigrationConfirmModal=!1,n.confirmModalIsLoading=!1,n.createNotificationError({title:n.$t("swag-migration.index.shopInfoCard.resetMigrationConfirmDialog.errorNotification.title"),message:n.$t("swag-migration.index.shopInfoCard.resetMigrationConfirmDialog.errorNotification.message"),variant:"error",growl:!0})}))}}});e("Aydh");function A(n){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function F(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,i)}return e}function B(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?F(Object(e),!0).forEach((function(t){G(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):F(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function G(n,t,e){return(t=function(n){var t=function(n,t){if("object"!==A(n)||null===n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var i=e.call(n,t||"default");if("object"!==A(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"===A(t)?t:String(t)}(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var U=Shopware,W=U.Component,V=U.State,H=Shopware.Component.getComponentHelper().mapState;W.register("swag-migration-data-selector",{template:'{% block swag_migration_data_selector %}\n    <div class="swag-migration-data-selector">\n\n        {% block swag_migration_data_selector_warnings %}\n            <div class="swag-migration-data-selector__warnings">\n                <sw-alert v-for="warning in displayWarnings"\n                          class="swag-migration-data-selector__warning"\n                          :key="warning.snippetKey"\n                          variant="warning">\n                    {{ $tc(warning.snippetKey, warning.pluralizationCount, warning.snippetArguments) }}\n                </sw-alert>\n            </div>\n        {% endblock %}\n\n        <sw-card\n            v-if="this.dataSelectionTableData.length > 0"\n            :title="$tc(\'swag-migration.index.selectDataCard.cardTitle\')"\n            position-identifier="swag-migration-data-selector"\n        >\n\n            {% block swag_migration_data_selector_grid %}\n                <template #grid>\n                    <swag-migration-grid-extended\n                        ref="tableDataGrid"\n                        :items="dataSelectionTableData"\n                        disabledAttribute="requiredSelection"\n                        table\n                        @sw-grid-select-item="onGridSelectItem"\n                        @sw-grid-select-all="onGridSelectItem">\n                        <template #columns="{ item }">\n\n                            {% block swag_migration_data_selector_grid_column_data %}\n                                <sw-grid-column flex="1fr" :label="$tc(\'swag-migration.index.selectDataCard.headers.name\')">\n                                    {{ $tc(item.snippet) }}\n                                </sw-grid-column>\n\n                                <sw-grid-column flex="1fr" :label="$tc(\'swag-migration.index.selectDataCard.headers.dataType\')">\n                                    {{ $tc(\'swag-migration.index.selectDataCard.dataTypes.\' + item.dataType) }}\n                                </sw-grid-column>\n\n                                <sw-grid-column flex="1fr" :label="$tc(\'swag-migration.index.selectDataCard.headers.total\')" align="right">\n                                    {{ item.total }}\n\n                                    <sw-help-text v-if="showHelptext(item.entityTotals)"\n                                                  class="swag-migration-data-selector__help-text"\n                                                  :text="getHelptext(item)">\n                                    </sw-help-text>\n                                    <div v-else class="swag-migration-data-selector__help-text-placeholder"></div>\n                                </sw-grid-column>\n                            {% endblock %}\n                        </template>\n                    </swag-migration-grid-extended>\n                </template>\n            {% endblock %}\n        </sw-card>\n\n        <sw-card v-else class="swag-migration-data-selector" position-identifier="swag-migration-data-selector-no-data">\n\n            {% block swag_migration_data_selector_no_data %}\n                <div class="swag-migration-index-data-selector__no-data">\n                    <p class="swag-migration-index-data-selector__no-data-label">\n                        {{ $tc(\'swag-migration.index.selectDataCard.noData\') }}\n                    </p>\n                </div>\n            {% endblock %}\n        </sw-card>\n    </div>\n{% endblock %}\n',inject:{migrationService:"migrationService"},computed:B(B(B({},H("swagMigration/process",["environmentInformation"])),H("swagMigration/ui",["dataSelectionTableData","dataSelectionIds"])),{},{displayWarnings:function(){return this.environmentInformation.displayWarnings}}),created:function(){this.createdComponent()},methods:{createdComponent:function(){this.fetchTableData()},fetchTableData:function(){var n=this;this.dataSelectionTableData.length>0&&this.$nextTick((function(){n.$refs.tableDataGrid||n.fetchTableData(),n.dataSelectionIds.forEach((function(t){var e;null===(e=n.$refs.tableDataGrid)||void 0===e||e.selectItem(!0,{id:t})}))}))},onGridSelectItem:function(n){var t=this,e=Object.keys(n);this.dataSelectionTableData.forEach((function(n){!0===n.requiredSelection&&(e.includes(n.id)||(e.push(n.id),t.$nextTick((function(){t.$refs.tableDataGrid.selectItem(!0,n)}))))})),V.commit("swagMigration/ui/setDataSelectionIds",e)},showHelptext:function(n){return void 0!==n&&Object.keys(n).length>1},getHelptext:function(n){var t=this;if(void 0===n.entityTotals||0===Object.keys(n.entityTotals).length)return"";var e="";return Object.keys(n.entityTotals).forEach((function(i){e+="".concat(t.$tc(n.entityNames[i])," ").concat(n.entityTotals[i],"</br>")})),e}}});var q=Object.freeze({WARNING_CONFIRM:-1,DATA_SELECTOR:0,PREMAPPING:1,LOADING_SCREEN:2,MEDIA_SCREEN:3,RESULT_SUCCESS:4,PAUSE_SCREEN:5,TAKEOVER:6,CONNECTION_LOST:7}),K={namespaced:!0,state:{componentIndex:q.DATA_SELECTOR,isLoading:!1,isPaused:!1,isPremappingValid:!1,dataSelectionIds:[],dataSelectionTableData:[],premapping:[],unfilledPremapping:[],filledPremapping:[]},mutations:{setComponentIndex:function(n,t){n.componentIndex=t},setIsLoading:function(n,t){n.isLoading=t},setIsPaused:function(n,t){n.isPaused=t},setIsPremappingValid:function(n,t){n.isPremappingValid=t},setDataSelectionIds:function(n,t){n.dataSelectionIds=t},setDataSelectionTableData:function(n,t){n.dataSelectionTableData=t},setPremapping:function(n,t){if(void 0===t&&t.length<1)return n.unfilledPremapping=[],void(n.filledPremapping=[]);var e=[],i=[];t.forEach((function(n){var t={choices:n.choices,entity:n.entity,mapping:[]},r={choices:n.choices,entity:n.entity,mapping:[]};n.mapping.forEach((function(n){n.destinationUuid.length>0?t.mapping.push(n):r.mapping.push(n)})),t.mapping.length>0&&i.push(t),r.mapping.length>0&&e.push(r)})),n.unfilledPremapping=e,n.filledPremapping=i,n.premapping=t}},getters:{isMigrationAllowed:function(n){var t=n.dataSelectionTableData.map((function(n){return!1===n.requiredSelection?n.id:null}));return n.dataSelectionIds.some((function(n){return t.includes(n)}))}}};e("Tgxb");function Y(n){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function X(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,i)}return e}function Z(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?X(Object(e),!0).forEach((function(t){J(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):X(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function J(n,t,e){return(t=function(n){var t=function(n,t){if("object"!==Y(n)||null===n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var i=e.call(n,t||"default");if("object"!==Y(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"===Y(t)?t:String(t)}(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var Q=Shopware,nn=Q.Component,tn=Q.State,en=Shopware.Component.getComponentHelper().mapState;nn.register("swag-migration-premapping",{template:'{% block swag_migration_premapping %}\n    <div class="swag-migration-premapping">\n\n        {% block swag_migration_premapping_unfilled_alert %}\n            <sw-alert v-if="!isLoading && !isPremappingValid"\n                      class="swag-migration-premapping__alert"\n                      variant="error">\n                {{ $tc(\'swag-migration.index.premappingCard.unfilledAlert\') }}\n            </sw-alert>\n        {% endblock %}\n\n        {% block swag_migration_premapping_unfilled_card %}\n            <sw-card\n                v-if="!isLoading && !isPremappingValid"\n                class="swag-migration-premapping__unfilled-card"\n                position-identifier="swag-migration-premapping"\n            >\n\n                {% block swag_migration_premapping_unfilled_title %}\n                    <div class="swag-migration-premapping__unfilled-title">\n                        {{ $tc(\'swag-migration.index.premappingCard.unfilledTitle\') }}\n                    </div>\n                {% endblock %}\n\n                {% block swag_migration_premapping_unfilled_caption %}\n                    <div class="swag-migration-premapping__unfilled-caption">\n                        {{ $tc(\'swag-migration.index.premappingCard.unfilledCaption\') }}\n                    </div>\n                {% endblock %}\n            </sw-card>\n        {% endblock %}\n\n        {% block swag_migration_premapping_success_card %}\n            <sw-card v-if="!isLoading && isPremappingValid"\n                     class="swag-migration-premapping__success-card"\n                     position-identifier="swag-migration-premapping__success-card">\n\n                {% block swag_migration_premapping_success_bubble %}\n                    <div class="swag-migration-premapping__success-bubble">\n                        <sw-icon class="swag-migration-premapping__success-icon"\n                                 name="regular-checkmark"\n                                 size="36px"\n                                 decorative>\n                        </sw-icon>\n                    </div>\n                {% endblock %}\n\n                {% block swag_migration_premapping_success_title %}\n                    <div class="swag-migration-premapping__success-title">\n                        {{ $tc(\'swag-migration.index.premappingCard.validTitle\') }}\n                    </div>\n                {% endblock %}\n\n                {% block swag_migration_premapping_success_caption %}\n                    <div class="swag-migration-premapping__success-caption">\n                        {{ $tc(\'swag-migration.index.premappingCard.validCaption\') }}\n                    </div>\n                {% endblock %}\n            </sw-card>\n        {% endblock %}\n\n        {% block swag_migration_premapping_unfilled_mapping %}\n            <swag-migration-tab-card v-if="displayUnfilledPremapping"\n                                     class="swag-migration-premapping__tab-card"\n                                     :title="$tc(\'swag-migration.index.premappingCard.unfilledCardTitle\')"\n                                     :items="unfilledPremapping">\n                <template slot="items" slot-scope="slotProps">\n                    <swag-migration-grid-selection :choices="slotProps.item.choices"\n                                                   :mapping="slotProps.item.mapping"\n                                                   @input="validatePremapping">\n                    </swag-migration-grid-selection>\n                </template>\n            </swag-migration-tab-card>\n        {% endblock %}\n\n        {% block swag_migration_premapping_expand_div %}\n            <swag-migration-expand-div v-if="!isLoading && displayFilledPremapping"\n                                       class="swag-migration-premapping__expand-div"\n                                       :expandTitle="$tc(\'swag-migration.index.premappingCard.expandTitle\')"\n                                       :collapseTitle="$tc(\'swag-migration.index.premappingCard.collapseTitle\')">\n\n                {% block swag_migration_premapping_filled_mapping %}\n                    <swag-migration-tab-card v-if="displayFilledPremapping"\n                                             class="swag-migration-premapping__filled-tab-card swag-migration-premapping__tab-card"\n                                             :title="$tc(\'swag-migration.index.premappingCard.filledCardTitle\')"\n                                             :items="filledPremapping">\n                        <template slot="items" slot-scope="slotProps">\n                            <swag-migration-grid-selection :choices="slotProps.item.choices"\n                                                           :mapping="slotProps.item.mapping"\n                                                           @input="validatePremapping">\n                            </swag-migration-grid-selection>\n                        </template>\n                    </swag-migration-tab-card>\n                {% endblock %}\n            </swag-migration-expand-div>\n        {% endblock %}\n\n        <sw-card v-if="isLoading"\n                 class="swag-migration-premapping__loading-card"\n                 position-identifier="swag-migration-premapping__loading-card">\n            <div>\n\n                {% block swag_migration_premapping_loader %}\n                    <sw-loader class="swag-migration-premapping__loader"></sw-loader>\n                {% endblock %}\n\n                {% block swag_migration_premapping_loading_title %}\n                    <div class="swag-migration-premapping__loading-title">\n                        {{ $tc(\'swag-migration.index.premappingCard.loadingTitle\') }}\n                    </div>\n                {% endblock %}\n\n                {% block swag_migration_premapping_loading_caption %}\n                    <div class="swag-migration-premapping__loading-caption">\n                        {{ $tc(\'swag-migration.index.premappingCard.loadingCaption\') }}\n                    </div>\n                {% endblock %}\n            </div>\n        </sw-card>\n    </div>\n{% endblock %}\n',inject:{migrationService:"migrationService",migrationWorkerService:"migrationWorkerService"},data:function(){return{isLoading:!1,premappingInput:[]}},computed:Z(Z(Z({},en("swagMigration/process",["runId"])),en("swagMigration/ui",["unfilledPremapping","filledPremapping","isPremappingValid","premapping"])),{},{displayUnfilledPremapping:function(){return this.unfilledPremapping.length>0},displayFilledPremapping:function(){return this.filledPremapping.length>0}}),watch:{runId:{immediate:!0,handler:function(n){n.length<1||this.fetchPremapping(n)}}},created:function(){this.createdComponent()},methods:{createdComponent:function(){tn.commit("swagMigration/ui/setIsPremappingValid",!1)},fetchPremapping:function(n){var t=this;return this.isLoading=!0,null!==this.premapping&&this.premapping.length>0?(this.$nextTick((function(){t.notifyPremappingValidWatchers(t.validatePremapping(!1)),t.isLoading=!1})),Promise.resolve()):this.migrationService.generatePremapping(n).then((function(n){0===n.length?(tn.commit("swagMigration/ui/setComponentIndex",q.LOADING_SCREEN),t.migrationWorkerService.startMigration(t.runId).catch((function(){t.onInvalidMigrationAccessToken()}))):(tn.commit("swagMigration/ui/setPremapping",n),t.notifyPremappingValidWatchers(t.validatePremapping(!1)),t.isLoading=!1)}))},notifyPremappingValidWatchers:function(n){n===this.isPremappingValid?(tn.commit("swagMigration/ui/setIsPremappingValid",!n),this.$nextTick((function(){tn.commit("swagMigration/ui/setIsPremappingValid",n)}))):tn.commit("swagMigration/ui/setIsPremappingValid",n)},validatePremapping:function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!this.premapping.some((function(n){return n.mapping.some((function(n){return null===n.destinationUuid||0===n.destinationUuid.length}))}));return n&&tn.commit("swagMigration/ui/setIsPremappingValid",t),t}}});e("INxb");Shopware.Component.register("swag-migration-progress-bar",{template:'{% block swag_migration_progress_bar %}\n    <div class="swag-migration-progress-bar">\n\n        {% block swag_migration_progress_bar_heading %}\n            <div class="swag-migration-progress-bar__heading">\n                {{ title }}\n            </div>\n        {% endblock %}\n\n        {% block swag_migration_progress_bar %}\n            <div class="swag-migration-progress-bar__progress-bar-container">\n\n                {% block swag_migration_progress_bar_left_point %}\n                    <div class="swag-migration-progress-bar__point swag-migration-progress-bar__left-point">\n\n                        {% block swag_migration_progress_bar_left_bubble %}\n                            <div class="swag-migration-progress-bar__bubble swag-migration-progress-bar__bubble--active">\n                                <sw-icon class="swag-migration-progress-bar__icon" name="regular-circle-xs" size="16px" small></sw-icon>\n                            </div>\n                        {% endblock %}\n\n                        {% block swag_migration_progress_bar_left_description %}\n                            <div class="swag-migration-progress-bar__left-description">\n                                {{ leftPointDescription }}\n                            </div>\n                        {% endblock %}\n                    </div>\n                {% endblock %}\n\n                {% block swag_migration_progress_bar_center_bar %}\n                    <div class="swag-migration-progress-bar__center-bar">\n\n                        {% block swag_migration_progress_bar_progress_bar %}\n                            <sw-progress-bar class="swag-migration-progress-bar__progress-bar" :value="value" :maxValue="maxValue"></sw-progress-bar>\n                        {% endblock %}\n\n                        {% block swag_migration_progress_bar_caption %}\n                            <div class="swag-migration-progress-bar__caption">\n                                {{ value }} / {{ maxValue }}\n                            </div>\n                        {% endblock%}\n                    </div>\n                {% endblock %}\n\n                {% block swag_migration_progress_bar_right_point %}\n                    <div class="swag-migration-progress-bar__point swag-migration-progress-bar__right-point">\n\n                        {% block swag_migration_progress_bar_right_bubble %}\n                            <div :class="rightPointClasses">\n                                <sw-icon class="swag-migration-progress-bar__icon" name="regular-checkmark-xs" size="16px" small></sw-icon>\n                            </div>\n                        {% endblock %}\n\n                        {% block swag_migration_progress_bar_right_description %}\n                            <div class="swag-migration-progress-bar__right-description">\n                                {{ rightPointDescription }}\n                            </div>\n                        {% endblock %}\n                    </div>\n                {% endblock %}\n            </div>\n        {% endblock %}\n    </div>\n{% endblock %}\n',props:{title:{type:String,default:"",required:!1},leftPointDescription:{type:String,default:"",required:!1},rightPointDescription:{type:String,default:"",required:!1},value:{type:Number,default:0,required:!1},maxValue:{type:Number,default:100,required:!1}},computed:{rightPointClasses:function(){return{"swag-migration-progress-bar__bubble":!0,"swag-migration-progress-bar__bubble--disabled":this.value<this.maxValue,"swag-migration-progress-bar__bubble--active":this.value>=this.maxValue}}}});e("pjlQ");Shopware.Component.register("swag-migration-assistant",{template:'{% block swag_migration_assistant %}\n    <sw-card class="swag-migration-assistant"\n             position-identifier="swag-migration-assistant"\n             :title="$tc(\'swag-migration.index.assistantCard.title\')">\n\n        {% block swag_migration_assistant_headline %}\n            <h4 class="swag-migration-assistant__headline">\n                {{ $tc(\'swag-migration.index.assistantCard.headline\') }}\n            </h4>\n        {% endblock %}\n\n        {% block swag_migration_assistant_connection %}\n            <div class="swag-migration-assistant__paragraph">\n\n                {% block swag_migration_assistant_connection_illustration %}\n                    <img class="swag-migration-assistant__illustration"\n                         :src="\'/swagmigrationassistant/static/img/assistant-connection.svg\' | asset">\n                {% endblock %}\n\n                {% block swag_migration_assistant_connection_title %}\n                    <h5 class="swag-migration-assistant__title">\n                        {{ $tc(\'swag-migration.index.assistantCard.connection.title\') }}\n                    </h5>\n                {% endblock %}\n\n                {% block swag_migration_assistant_connection_content %}\n                    <p class="swag-migration-assistant__content">\n                        {{ $tc(\'swag-migration.index.assistantCard.connection.content\') }}\n                    </p>\n                {% endblock %}\n\n                {% block swag_migration_assistant_connection_content_link %}\n                    <div class="swag-migration-assistant__link">\n                        <a class="link" target="_blank" href="http://docs.shopware.com/en/migration-en">{{ $tc(\'swag-migration.index.assistantCard.connection.link\') }}</a>\n                    </div>\n                {% endblock %}\n            </div>\n        {% endblock %}\n\n        {% block swag_migration_assistant_dataSelection %}\n            <div class="swag-migration-assistant__paragraph">\n\n                {% block swag_migration_assistant_dataSelection_illustration %}\n                    <img class="swag-migration-assistant__illustration"\n                         :src="\'/swagmigrationassistant/static/img/assistant-dataSelection.svg\' | asset">\n                {% endblock %}\n\n                {% block swag_migration_assistant_dataSelection_title %}\n                    <h5 class="swag-migration-assistant__title">\n                        {{ $tc(\'swag-migration.index.assistantCard.dataSelection.title\') }}\n                    </h5>\n                {% endblock %}\n\n                {% block swag_migration_assistant_dataSelection_content %}\n                    <p class="swag-migration-assistant__content">\n                        {{ $tc(\'swag-migration.index.assistantCard.dataSelection.content\') }}\n                    </p>\n                {% endblock %}\n            </div>\n        {% endblock %}\n\n        {% block swag_migration_assistant_migrationOverview %}\n            <div class="swag-migration-assistant__paragraph">\n\n                {% block swag_migration_assistant_migrationOverview_illustration %}\n                    <img class="swag-migration-assistant__illustration"\n                         :src="\'/swagmigrationassistant/static/img/assistant-migrationOverview.svg\' | asset">\n                {% endblock %}\n\n                {% block swag_migration_assistant_migrationOverview_title %}\n                    <h5 class="swag-migration-assistant__title">\n                        {{ $tc(\'swag-migration.index.assistantCard.migrationOverview.title\') }}\n                    </h5>\n                {% endblock %}\n\n                {% block swag_migration_assistant_migrationOverview_content %}\n                    <i18n class="swag-migration-assistant__content"\n                          path="swag-migration.index.assistantCard.migrationOverview.content"\n                          tag="p">\n                        <br place="linebreak">\n                    </i18n>\n                {% endblock %}\n            </div>\n        {% endblock %}\n\n        {% block swag_migration_assistant_finish %}\n            <div class="swag-migration-assistant__paragraph">\n\n                {% block swag_migration_assistant_finish_title %}\n                    <h5 class="swag-migration-assistant__title">\n                        {{ $tc(\'swag-migration.index.assistantCard.finish\') }}\n                    </h5>\n                {% endblock %}\n            </div>\n        {% endblock %}\n    </sw-card>\n{% endblock %}\n'});e("lD9V");function rn(n){return(rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function on(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,i)}return e}function an(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?on(Object(e),!0).forEach((function(t){sn(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):on(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function sn(n,t,e){return(t=function(n){var t=function(n,t){if("object"!==rn(n)||null===n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var i=e.call(n,t||"default");if("object"!==rn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"===rn(t)?t:String(t)}(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var cn=Shopware.Component,ln=Shopware.Component.getComponentHelper().mapState;cn.register("swag-migration-confirm-warning",{template:'{% block swag_migration_confirm_warning %}\n    <div class="swag-migration-confirm-warning">\n\n        {% block swag_migration_confirm_warning_card %}\n            <sw-card\n                v-if="hasDifferentCurrency"\n                class="swag-migration-confirm-warning"\n                position-identifier="swag-migration-confirm-warning"\n            >\n\n                {% block swag_migration_confirm_warning_bubble %}\n                    <div class="swag-migration-confirm-warning__bubble">\n                        <sw-icon class="swag-migration-confirm-warning__bubble-icon"\n                                 name="regular-exclamation-triangle"\n                                 size="36px"\n                                 decorative>\n                        </sw-icon>\n                    </div>\n                {% endblock %}\n\n                {% block swag_migration_confirm_warning_title %}\n                    <h5 class="swag-migration-confirm-warning__title">\n                        {{ $tc(\'swag-migration.index.confirmWarningCard.currencyMismatch.title\') }}\n                    </h5>\n                {% endblock %}\n\n                {% block swag_migration_confirm_warning_text %}\n                    <p class="swag-migration-confirm-warning__text">\n                        {{ $tc(\'swag-migration.index.confirmWarningCard.currencyMismatch.text\', 0, { sourceSystemCurrency, targetSystemCurrency }) }}\n                    </p>\n                {% endblock %}\n\n                {% block swag_migration_confirm_warning_question %}\n                    <p class="swag-migration-confirm-warning__question">\n                        {{ $tc(\'swag-migration.index.confirmWarningCard.currencyMismatch.question\', 0, { targetSystemCurrency }) }}\n                    </p>\n                {% endblock %}\n\n                {% block swag_migration_confirm_warning_checkbox %}\n                    <sw-checkbox-field class="swag-migration-confirm-warning__checkbox"\n                                       :label="$tc(\'swag-migration.index.confirmWarningCard.currencyMismatch.checkboxLabel\')"\n                                       v-model="isCurrencyChecked"\n                                       @change="onCheckboxValueChanged">\n                    </sw-checkbox-field>\n                {% endblock %}\n            </sw-card>\n        {% endblock %}\n\n        {% block swag_migration_confirm_language_warning_card %}\n            <sw-card\n                v-if="hasDifferentLanguage"\n                class="swag-migration-confirm-warning__card"\n                position-identifier="swag-migration-confirm-warning__card"\n            >\n\n                {% block swag_migration_confirm_language_warning_bubble %}\n                    <div class="swag-migration-confirm-warning__bubble">\n                        <sw-icon class="swag-migration-confirm-warning__bubble-icon"\n                                 name="regular-exclamation-triangle"\n                                 size="36px"\n                                 decorative>\n                        </sw-icon>\n                    </div>\n                {% endblock %}\n\n                {% block swag_migration_confirm_language_warning_title %}\n                    <h5 class="swag-migration-confirm-warning__title">\n                        {{ $tc(\'swag-migration.index.confirmWarningCard.languageMismatch.title\') }}\n                    </h5>\n                {% endblock %}\n\n                {% block swag_migration_confirm_language_warning_text %}\n                    <p class="swag-migration-confirm-warning__text">\n                        {{ $tc(\'swag-migration.index.confirmWarningCard.languageMismatch.text\', 0, { sourceSystemLanguage, targetSystemLanguage }) }}\n                    </p>\n                {% endblock %}\n\n                {% block swag_migration_confirm_language_warning_question %}\n                    <p class="swag-migration-confirm-warning__question">\n                        {{ $tc(\'swag-migration.index.confirmWarningCard.languageMismatch.question\', 0, { targetSystemLanguage }) }}\n                    </p>\n                {% endblock %}\n\n                {% block swag_migration_confirm_language_warning_checkbox %}\n                    <sw-checkbox-field class="swag-migration-confirm-warning__checkbox"\n                                       :label="$tc(\'swag-migration.index.confirmWarningCard.currencyMismatch.checkboxLabel\')"\n                                       v-model="isLanguageChecked"\n                                       @change="onCheckboxValueChanged">\n                    </sw-checkbox-field>\n                {% endblock %}\n            </sw-card>\n        {% endblock %}\n    </div>\n{% endblock %}\n',data:function(){return{isCurrencyChecked:!1,isLanguageChecked:!1}},computed:an(an({},ln("swagMigration/process",["environmentInformation"])),{},{hasDifferentCurrency:function(){return this.sourceSystemCurrency!==this.targetSystemCurrency},sourceSystemCurrency:function(){return this.environmentInformation.sourceSystemCurrency},targetSystemCurrency:function(){return this.environmentInformation.targetSystemCurrency},hasDifferentLanguage:function(){return this.sourceSystemLanguage!==this.targetSystemLanguage},sourceSystemLanguage:function(){return this.environmentInformation.sourceSystemLocale},targetSystemLanguage:function(){return this.environmentInformation.targetSystemLocale},isContinuable:function(){return(!this.hasDifferentCurrency||this.isCurrencyChecked)&&(!this.hasDifferentLanguage||this.isLanguageChecked)}}),methods:{onCheckboxValueChanged:function(){this.$emit("confirmation-change",this.isContinuable)}}});e("Cvnh");Shopware.Component.register("swag-migration-media-process",{template:'{% block swag_migration_media_process %}\n    <sw-card class="swag-migration-media-process" position-identifier="swag-migration-media-process">\n\n        {% block swag_migration_media_process_content %}\n            <div class="swag-migration-media-process__content">\n\n                {% block swag_migration_media_process_icon %}\n                    <div class="swag-migration-media-process__bubble">\n                        <sw-icon class="swag-migration-media-process__icon" name="regular-activity" size="36px" decorative></sw-icon>\n                    </div>\n                {% endblock %}\n\n                {% block swag_migration_media_process_title %}\n                    <div class="swag-migration-media-process__title">\n                        {{ $tc(\'swag-migration.index.loadingScreenCard.mediaProcessScreen.title\') }}\n                    </div>\n                {% endblock %}\n\n                {% block swag_migration_media_process_message %}\n                    <p class="swag-migration-media-process__message">\n                        {{ $tc(\'swag-migration.index.loadingScreenCard.mediaProcessScreen.message\') }}\n                    </p>\n                {% endblock %}\n            </div>\n        {% endblock %}\n    </sw-card>\n{% endblock %}\n'});e("1d+x");Shopware.Component.register("swag-migration-tab-card",{template:'{% block swag_migration_tab_card %}\n    <div class="swag-migration-tab-card">\n        <sw-card class="sw-card--grid" ref="card" :title="title" position-identifier="swag-migration-tab-card">\n            <template #tabs>\n\n                {% block swag_migration_tab_card_item_tab %}\n                    <sw-tabs\n                        :small="false"\n                        ref="tabs"\n                        @new-item-active="onNewActiveItem"\n                        position-identifier="swag-migration-tab-card-item-tab"\n                    >\n                        <sw-tabs-item v-for="(item, key) in items" :name="key.toString()" :key="key.toString()" ref="swTabsItems">\n\n                            {% block swag_migration_tab_card_item_tab_content %}\n                                <span class="swag-migration-tab-card__title">\n                                    {{ $tc(`swag-migration.index.premappingCard.group.${item.entity}`) }}\n                                </span>\n                            {% endblock %}\n\n                            {% block swag_migration_tab_card_item_tab_invalid_badge %}\n                                <span v-show="item.errorBadgeNumber" class="swag-migration-tab-card__invalid-badge">\n                                    {{ getErrorCountForGroupTab(item) }}\n                                </span>\n                            {% endblock %}\n                        </sw-tabs-item>\n                    </sw-tabs>\n                {% endblock %}\n            </template>\n            <template v-for="item in items">\n                    <swag-migration-tab-card-item ref="contentContainer">\n                        <slot name="items" :item="item">\n                        </slot>\n                    </swag-migration-tab-card-item>\n            </template>\n\n            <slot>\n                {% block swag_migration_tab_card_slot %}{% endblock %}\n            </slot>\n        </sw-card>\n    </div>\n{% endblock %}\n',props:{title:{type:String,default:"",required:!1},items:{type:Array,required:!0}},data:function(){return{selectedNumber:""}},computed:{tabItems:function(){return this.$refs.swTabsItems}},mounted:function(){this.mountedComponent()},methods:{mountedComponent:function(){var n=this;this.$nextTick((function(){n.$refs.tabs.checkIfNeedScroll(),n.$refs.tabs.addScrollbarOffset(),void 0!==n.tabItems&&n.tabItems.length>0&&(n.selectedNumber=n.tabItems[0].name,n.$refs.tabs.setActiveItem(n.tabItems[0]))}))},onNewActiveItem:function(n){this.$refs.contentContainer[this.selectedNumber].setActive(!1),this.selectedNumber=n.name,this.$refs.contentContainer[this.selectedNumber].setActive(!0)},getErrorCountForGroupTab:function(n){return n.mapping.reduce((function(n,t){return null===t.destinationUuid||0===t.destinationUuid.length?n+1:n}),0)}}});Shopware.Component.register("swag-migration-tab-card-item",{template:'{% block swag_migration_tab_card_item %}\n    <div class="swag-migration-tab-card-item">\n        <div v-show="active">\n            <slot>\n                {% block swag_migration_tab_card_item_slot %}{% endblock %}\n            </slot>\n        </div>\n    </div>\n{% endblock %}',data:function(){return{active:!1}},methods:{setActive:function(n){this.active=n}}});e("W3Lf");var gn=Shopware,dn=gn.Component,un=gn.Mixin;dn.register("swag-migration-grid-selection",{template:'{% block swag_migration_grid_selection %}\n    <div class="swag-migration-grid-selection">\n\n        {% block swag_migration_grid_selection_grid %}\n            <sw-grid ref="tableDataGrid"\n                     :items="items"\n                     :selectable="false">\n                <template #columns="{ item }">\n\n                    {% block swag_migration_grid_selection_grid_column_description %}\n                        <sw-grid-column flex="1fr" :label="$tc(\'swag-migration.index.premappingCard.previousTitle\')">\n                            {{ item.description }}\n                        </sw-grid-column>\n                    {% endblock %}\n\n                    {% block swag_migration_grid_selection_grid_column_choice %}\n                        <sw-grid-column class="swag-migration-grid-selection__choice-column"\n                                        flex="1fr"\n                                        :label="$tc(\'swag-migration.index.premappingCard.newAssignmentTitle\')">\n\n                            {% block swag_migration_grid_selection_grid_column_choice_field %}\n                                <sw-select-field v-model="item.destinationUuid"\n                                                 class="swag-migration-grid-selection__choice-field"\n                                                 :class="getClassesAfterValidation(item)"\n                                                 :placeholder="$tc(\'swag-migration.index.premappingCard.placeholder\')"\n                                                 @change="onInput">\n                                    <option v-for="choice in choices" :key="choice.uuid" :value="choice.uuid">\n                                        {{ choice.description }}\n                                    </option>\n                                </sw-select-field>\n                            {% endblock %}\n                        </sw-grid-column>\n                    {% endblock %}\n                </template>\n\n                {% block swag_migration_grid_selection_grid_pagination %}\n                    <template #pagination>\n                        <sw-pagination\n                                :page="page"\n                                :limit="limit"\n                                :total="total"\n                                :total-visible="7"\n                                :steps="paginationSteps"\n                                @page-change="onPageChange">\n                        </sw-pagination>\n                    </template>\n                {% endblock %}\n            </sw-grid>\n        {% endblock %}\n    </div>\n{% endblock %}\n',mixins:[un.getByName("listing")],props:{choices:{type:Array,required:!0},mapping:{type:Array,required:!0}},data:function(){return{items:[],disableRouteParams:!0,limit:10,paginationSteps:[5,10,15,20,25,30]}},methods:{getList:function(){this.total=this.mapping.length;var n=(this.page-1)*this.limit,t=Math.min(n+this.limit,this.total);this.items=[];for(var e=n;e<t;e+=1)this.items.push(this.mapping[e]);return this.items},onInput:function(){this.$emit("input")},getClassesAfterValidation:function(n){return{"has--error":null===n.destinationUuid||0===n.destinationUuid.length}}}});e("E2Q1");Shopware.Component.register("swag-migration-expand-div",{template:'{% block swag_migration_expand_div %}\n    <div class="swag-migration-expand-div">\n        <div class="swag-migration-expand-div__title">\n            <div class="swag-migration-expand-div__link"\n                 @click="onClick">\n                <div v-if="isExpanded">\n                    {{ expandTitle }}\n                    <sw-icon class="swag-migration-expand-div__icon"\n                             name="regular-chevron-circle-up"\n                             size="16px">\n                    </sw-icon>\n                </div>\n                <div v-else>\n                    {{ collapseTitle }}\n                    <sw-icon class="swag-migration-expand-div__icon"\n                             name="regular-chevron-circle-down"\n                             size="16px">\n                    </sw-icon>\n                </div>\n            </div>\n        </div>\n\n        <div v-if="isExpanded" class="swag-migration-expand-div__slot">\n            <slot>\n\n                {% block swag_migration_expand_div_slot %}\n                {% endblock %}\n            </slot>\n        </div>\n    </div>\n{% endblock %}\n',props:{expandTitle:{type:String,default:"",required:!1},collapseTitle:{type:String,default:"",required:!1}},data:function(){return{isExpanded:!1}},methods:{onClick:function(){this.isExpanded=!this.isExpanded}}});e("fODa");Shopware.Component.register("swag-migration-shop-avatar",{template:'{% block swag_migration_shop_avatar %}\n    <span class="swag-migration-shop-avatar"\n          :style="avatarStyle"\n          role="img"\n          ref="shopAvatar">\n        <slot></slot>\n    </span>\n{% endblock %}',props:{size:{type:String,required:!0},color:{type:String,required:!0}},data:function(){return{fontSize:16,lineHeight:16}},computed:{avatarStyle:function(){return{width:this.size,height:this.size,"background-color":this.color,"font-size":"".concat(this.fontSize,"px"),"line-height":"".concat(this.lineHeight,"px")}}},mounted:function(){this.mountedComponent()},methods:{mountedComponent:function(){this.generateAvatarInitialsSize()},generateAvatarInitialsSize:function(){var n=this.$refs.shopAvatar.offsetHeight;this.fontSize=Math.round(.4*n),this.lineHeight=Math.round(.98*n)}}});e("Wwg1");Shopware.Component.register("swag-migration-settings-icon",{template:'{% block swag_migration_settings_icon %}\n    <img class="swag-migration-settings_icon__img" :src="\'/swagmigrationassistant/static/img/migration-assistant-plugin.svg\' | asset">\n{% endblock %}\n'});e("xmNA");Shopware.Component.register("swag-migration-dashboard-card",{template:'{% block swag_migration_dashboard_card %}\n    <sw-card class="swag-migration-dashboard-card" position-identifier="swag-migration-dashboard-card">\n\n        {% block swag_migration_dashboard_card_wrapper %}\n            {%  block swag_migration_dashboard_card_title %}\n                <template #title>\n                    <span class="swag-migration-dashboard-card__title">\n                        {{ $tc(\'swag-migration.dashboard.title\') }}\n                    </span>\n                </template>\n            {% endblock %}\n\n            {% block swag_migration_dashboard_card_container %}\n                <sw-container class="swag-migration-shop-information" rows="auto auto">\n                    {% block fuuuu %}\n                    {% endblock %}\n\n                    {%  block swag_migration_dashboard_card_content %}\n                        <div class="swag-migration-dashboard-card__content">\n\n                            {%  block swag_migration_dashboard_card_wrapper %}\n                                <div class="swag-migration-dashboard-card__wrapper">\n\n                                    {%  block swag_migration_dashboard_card_left_content %}\n                                        <div class="swag-migration-dashboard-card__left-content">\n\n                                            {%  block swag_migration_dashboard_card_headline %}\n                                                <div class="swag-migration-dashboard-card__headline">\n                                                    {{ $tc(\'swag-migration.dashboard.headline\') }}\n                                                </div>\n                                            {% endblock %}\n\n                                            {%  block swag_migration_dashboard_card_information %}\n                                                <div class="swag-migration-dashboard-card__information">\n                                                    {{ $tc(\'swag-migration.dashboard.information\') }}\n                                                </div>\n                                            {% endblock %}\n\n                                            {%  block swag_migration_dashboard_card_button %}\n                                                <sw-button variant="primary" :routerLink="{ name: \'swag.migration.index.main\'}">\n                                                    {{ $tc(\'swag-migration.dashboard.button\') }}\n                                                </sw-button>\n                                            {%  endblock %}\n                                        </div>\n                                    {% endblock %}\n\n                                    {%  block swag_migration_dashboard_card_right_content %}\n                                        <div class="swag-migration-dashboard-card__right-content">\n                                            <img :src="\'/swagmigrationassistant/static/img/wizard-introduction.svg\' | asset">\n                                        </div>\n                                    {% endblock %}\n                                </div>\n                            {% endblock %}\n                        </div>\n                    {% endblock %}\n                </sw-container>\n            {% endblock %}\n        {% endblock %}\n    </sw-card>\n{% endblock %}\n'});function mn(n){return(mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function pn(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,i)}return e}function fn(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?pn(Object(e),!0).forEach((function(t){hn(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):pn(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function hn(n,t,e){return(t=function(n){var t=function(n,t){if("object"!==mn(n)||null===n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var i=e.call(n,t||"default");if("object"!==mn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"===mn(t)?t:String(t)}(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var wn=Shopware.Component,_n=Shopware.Component.getComponentHelper(),vn=_n.mapState,bn=_n.mapGetters;wn.register("swag-migration-index",{template:'{% block swag_migration_index %}\n    <sw-page class="swag-migration-index">\n\n        {% block swag_migration_index_smart_bar_header %}\n            <template #smart-bar-header>\n                <h2>\n                    {{ $tc(\'sw-settings.index.title\') }}\n                    <sw-icon name="regular-chevron-right-xs" small></sw-icon>\n                    {{ $tc(\'swag-migration.general.mainMenuItemGeneral\') }}\n                </h2>\n            </template>\n        {% endblock %}\n\n        {% block swag_migration_index_smart_bar_actions %}\n            <template v-if="!storesInitializing" #smart-bar-actions>\n                <sw-button variant="primary" @click="onMigrate" :disabled="migrateButtonDisabled">\n                    {{ $tc(\'swag-migration.index.migrateButton\') }}\n                </sw-button>\n            </template>\n        {% endblock %}\n\n        {% block swag_migration_index_content %}\n            <template #content>\n                <sw-card-view v-if="!storesInitializing">\n\n                    {% block swag_migration_index_tabs %}\n                        <sw-tabs class="swag-migration-index-tabs" position-identifier="swag-migration-index-tabs">\n\n                            {% block swag_migration_index_tab_main %}\n                                <sw-tabs-item :route="{ name: \'swag.migration.index.main\' }"\n                                              :title="$tc(\'swag-migration.general.tabMain\')">\n                                    {{ $tc(\'swag-migration.general.tabMain\') }}\n                                </sw-tabs-item>\n                            {% endblock %}\n\n                            {% block swag_migration_index_tab_data_selector %}\n                                <sw-tabs-item :route="{ name: \'swag.migration.index.dataSelector\' }"\n                                              :title="$tc(\'swag-migration.general.tabDataSelector\')">\n                                    {{ $tc(\'swag-migration.general.tabDataSelector\') }}\n                                </sw-tabs-item>\n                            {% endblock %}\n\n                            {% block swag_migration_index_tab_history %}\n                                <sw-tabs-item :route="{ name: \'swag.migration.index.history\' }"\n                                              :title="$tc(\'swag-migration.general.tabHistory\')">\n                                    {{ $tc(\'swag-migration.general.tabHistory\') }}\n                                </sw-tabs-item>\n                            {% endblock %}\n                        </sw-tabs>\n                    {% endblock %}\n\n                    {% block swag_migration_index_content_view %}\n                        <router-view ref="contentComponent">\n                        </router-view>\n                    {% endblock %}\n                </sw-card-view>\n\n                {% block swag_migration_index_loader_content %}\n                    <sw-loader v-if="storesInitializing"></sw-loader>\n                {% endblock %}\n            </template>\n        {% endblock %}\n    </sw-page>\n{% endblock %}\n',inject:{migrationProcessStoreInitService:"processStoreInitService",migrationUiStoreInitService:"uiStoreInitService"},data:function(){return{storesInitializing:!0}},metaInfo:function(){return{title:this.$createTitle()}},computed:fn(fn(fn(fn({},vn("swagMigration/process",["isMigrating","environmentInformation","connectionId"])),vn("swagMigration/ui",["isLoading","dataSelectionTableData"])),bn({storeIsMigrationAllowed:"swagMigration/ui/isMigrationAllowed"})),{},{isMigrationAllowed:function(){return this.storeIsMigrationAllowed&&!1===this.environmentInformation.migrationDisabled},migrateButtonDisabled:function(){return this.isLoading||this.isMigrating||!this.isMigrationAllowed}}),created:function(){this.createdComponent()},methods:{createdComponent:function(){var n=this;return null===this.connectionId||0===Object.keys(this.environmentInformation).length?this.migrationProcessStoreInitService.initProcessStore().then((function(){return n.migrationUiStoreInitService.initUiStore()})).catch((function(){})).finally((function(){n.storesInitializing=!1})):0===this.dataSelectionTableData.length?this.migrationUiStoreInitService.initUiStore().then((function(){n.storesInitializing=!1})).catch((function(){n.storesInitializing=!1})):(this.storesInitializing=!1,Promise.resolve())},onMigrate:function(){var n=this;void 0!==this.$refs.contentComponent.onMigrate?this.$refs.contentComponent.onMigrate():this.$nextTick((function(){n.$router.push({name:"swag.migration.index.main",params:{startMigration:!0}})}))},onActionButtonClick:function(n){void 0!==this.$refs.contentComponent[n]&&this.$refs.contentComponent[n]()}}});e("0PM1");Shopware.Component.register("swag-migration-empty-screen",{template:'{% block swag_migration_empty_screen %}\n    <sw-page class="swag-migration-empty-screen">\n\n        {% block swag_migration_index_smart_bar_header %}\n            <template #smart-bar-header>\n                <h2>\n                    {{ $tc(\'sw-settings.index.title\') }}\n                    <sw-icon name="regular-chevron-right-xs" small></sw-icon>\n                    {{ $tc(\'swag-migration.general.mainMenuItemGeneral\') }}\n                </h2>\n            </template>\n        {% endblock %}\n\n        {% block swag_migration_index_smart_bar_actions %}\n            <template #smart-bar-actions>\n                <sw-button variant="primary" disabled>\n                    {{ $tc(\'swag-migration.index.migrateButton\') }}\n                </sw-button>\n            </template>\n        {% endblock %}\n\n        {% block swag_migration_index_content %}\n            <template #content>\n                <sw-empty-state :title="$tc(\'swag-migration.emptyScreen.title\')">\n                    <i18n class="swag-migration-empty-screen__description"\n                          path="swag-migration.emptyScreen.description"\n                          tag="p">\n                        <br place="linebreak">\n                        <a class="link"\n                           place="link"\n                           href="https://docs.shopware.com/en/migration-en"\n                           target="_blank">\n                            {{ $tc(\'swag-migration.emptyScreen.link\') }}\n                        </a>\n                    </i18n>\n                    <sw-button variant="primary"\n                               @click="onConnectClick">\n                        {{ $tc(\'swag-migration.emptyScreen.connectButton\') }}\n                    </sw-button>\n                </sw-empty-state>\n            </template>\n        {% endblock %}\n    </sw-page>\n{% endblock %}\n',metaInfo:function(){return{title:this.$createTitle()}},methods:{onConnectClick:function(){this.$router.push({name:"swag.migration.wizard.introduction"})}}});e("docX");function yn(n){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function kn(){kn=function(){return n};var n={},t=Object.prototype,e=t.hasOwnProperty,i=Object.defineProperty||function(n,t,e){n[t]=e.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(n,t,e){return Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}),n[t]}try{c({},"")}catch(n){c=function(n,t,e){return n[t]=e}}function l(n,t,e,r){var o=t&&t.prototype instanceof u?t:u,a=Object.create(o.prototype),s=new x(r||[]);return i(a,"_invoke",{value:y(n,e,s)}),a}function g(n,t,e){try{return{type:"normal",arg:n.call(t,e)}}catch(n){return{type:"throw",arg:n}}}n.wrap=l;var d={};function u(){}function m(){}function p(){}var f={};c(f,o,(function(){return this}));var h=Object.getPrototypeOf,w=h&&h(h(I([])));w&&w!==t&&e.call(w,o)&&(f=w);var _=p.prototype=u.prototype=Object.create(f);function v(n){["next","throw","return"].forEach((function(t){c(n,t,(function(n){return this._invoke(t,n)}))}))}function b(n,t){function r(i,o,a,s){var c=g(n[i],n,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==yn(d)&&e.call(d,"__await")?t.resolve(d.__await).then((function(n){r("next",n,a,s)}),(function(n){r("throw",n,a,s)})):t.resolve(d).then((function(n){l.value=n,a(l)}),(function(n){return r("throw",n,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(n,e){function i(){return new t((function(t,i){r(n,e,t,i)}))}return o=o?o.then(i,i):i()}})}function y(n,t,e){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return P()}for(e.method=r,e.arg=o;;){var a=e.delegate;if(a){var s=k(a,e);if(s){if(s===d)continue;return s}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===i)throw i="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);i="executing";var c=g(n,t,e);if("normal"===c.type){if(i=e.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(i="completed",e.method="throw",e.arg=c.arg)}}}function k(n,t){var e=t.method,i=n.iterator[e];if(void 0===i)return t.delegate=null,"throw"===e&&n.iterator.return&&(t.method="return",t.arg=void 0,k(n,t),"throw"===t.method)||"return"!==e&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+e+"' method")),d;var r=g(i,n.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[n.resultName]=o.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(n){var t={tryLoc:n[0]};1 in n&&(t.catchLoc=n[1]),2 in n&&(t.finallyLoc=n[2],t.afterLoc=n[3]),this.tryEntries.push(t)}function C(n){var t=n.completion||{};t.type="normal",delete t.arg,n.completion=t}function x(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(S,this),this.reset(!0)}function I(n){if(n){var t=n[o];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var i=-1,r=function t(){for(;++i<n.length;)if(e.call(n,i))return t.value=n[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:P}}function P(){return{value:void 0,done:!0}}return m.prototype=p,i(_,"constructor",{value:p,configurable:!0}),i(p,"constructor",{value:m,configurable:!0}),m.displayName=c(p,s,"GeneratorFunction"),n.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,p):(n.__proto__=p,c(n,s,"GeneratorFunction")),n.prototype=Object.create(_),n},n.awrap=function(n){return{__await:n}},v(b.prototype),c(b.prototype,a,(function(){return this})),n.AsyncIterator=b,n.async=function(t,e,i,r,o){void 0===o&&(o=Promise);var a=new b(l(t,e,i,r),o);return n.isGeneratorFunction(e)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},v(_),c(_,s,"Generator"),c(_,o,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),n.keys=function(n){var t=Object(n),e=[];for(var i in t)e.push(i);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},n.values=I,x.prototype={constructor:x,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!n)for(var t in this)"t"===t.charAt(0)&&e.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function i(e,i){return a.type="throw",a.arg=n,t.next=e,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=e.call(o,"catchLoc"),c=e.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(n,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===n||"continue"===n)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=n,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),d},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.finallyLoc===n)return this.complete(e.completion,e.afterLoc),C(e),d}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.tryLoc===n){var i=e.completion;if("throw"===i.type){var r=i.arg;C(e)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(n,t,e){return this.delegate={iterator:I(n),resultName:t,nextLoc:e},"next"===this.method&&(this.arg=void 0),d}},n}function Sn(n,t,e,i,r,o,a){try{var s=n[o](a),c=s.value}catch(n){return void e(n)}s.done?t(c):Promise.resolve(c).then(i,r)}function Cn(n){return function(){var t=this,e=arguments;return new Promise((function(i,r){var o=n.apply(t,e);function a(n){Sn(o,i,r,a,s,"next",n)}function s(n){Sn(o,i,r,a,s,"throw",n)}a(void 0)}))}}function xn(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,i)}return e}function In(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(e),!0).forEach((function(t){Pn(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):xn(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function Pn(n,t,e){return(t=function(n){var t=function(n,t){if("object"!==yn(n)||null===n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var i=e.call(n,t||"default");if("object"!==yn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"===yn(t)?t:String(t)}(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var Mn=Shopware,En=Mn.Component,Rn=Mn.State,Ln=Shopware.Component.getComponentHelper().mapState;En.register("swag-migration-main-page",{template:'{% block swag_migration_index_main_page %}\n    <div class="swag-migration-index-main-page">\n\n        {% block swag_migration_index_main_page_content %}\n            <div v-if="!isLoading">\n\n                {% block swag_migration_index_main_page_warnings %}\n                    <div class="swag-migration-index-main-page__warnings">\n                        <sw-alert v-for="warning in displayWarnings"\n                                  class="swag-migration-index-main-page__warning"\n                                  :key="warning.snippetKey"\n                                  variant="warning">\n                            {{ $tc(warning.snippetKey, warning.pluralizationCount, warning.snippetArguments) }}\n                        </sw-alert>\n                    </div>\n                {% endblock %}\n\n                {% block swag_migration_index_main_page_card_shopInformation %}\n                    <swag-migration-shop-information :connected="connectionEstablished">\n                    </swag-migration-shop-information>\n                {% endblock %}\n            </div>\n        {% endblock %}\n\n        {% block swag_migration_index_main_page_assistant %}\n            <swag-migration-assistant v-if="!isLoading"></swag-migration-assistant>\n        {% endblock %}\n\n        {% block swag_migration_index_main_page_loader %}\n            <sw-loader v-if="isLoading"></sw-loader>\n        {% endblock %}\n    </div>\n{% endblock %}',inject:{migrationService:"migrationService",migrationWorkerService:"migrationWorkerService",migrationProcessStoreInitService:"processStoreInitService",migrationUiStoreInitService:"uiStoreInitService"},metaInfo:function(){return{title:this.$createTitle()}},computed:In(In(In({},Ln("swagMigration/process",["environmentInformation","connectionId","isMigrating"])),Ln("swagMigration/ui",["isLoading"])),{},{displayWarnings:function(){return this.environmentInformation.displayWarnings},connectionEstablished:function(){return void 0!==this.environmentInformation&&(!0===this.environmentInformation.requestStatus.isWarning||!1===this.environmentInformation.requestStatus.isWarning&&""===this.environmentInformation.requestStatus.code)}}),created:function(){this.createdComponent()},methods:{createdComponent:function(){var n=this;return Cn(kn().mark((function t(){var e,i;return kn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Rn.commit("swagMigration/ui/setIsLoading",!0),null!==n.connectionId){t.next=4;break}return n.$router.push({name:"swag.migration.wizard.introduction"}),t.abrupt("return");case 4:if(!(Object.keys(n.environmentInformation).length<1)){t.next=7;break}return n.$router.push({name:"swag.migration.emptyScreen"}),t.abrupt("return");case 7:if(!n.isMigrating){t.next=10;break}return n.$router.push({name:"swag.migration.processScreen"}),t.abrupt("return");case 10:return e=!1,t.next=13,n.migrationWorkerService.isMigrationRunningInOtherTab().then((function(n){e=n}));case 13:if(i=e,e){t.next=17;break}return t.next=17,n.migrationWorkerService.checkForRunningMigration().then((function(n){i=n.isMigrationRunning}));case 17:if(!i){t.next=20;break}return n.$router.push({name:"swag.migration.processScreen"}),t.abrupt("return");case 20:if(!n.$route.params.startMigration){t.next=23;break}return t.next=23,n.onMigrate();case 23:Rn.commit("swagMigration/ui/setIsLoading",!1);case 24:case"end":return t.stop()}}),t)})))()},onMigrate:function(){var n=this;return Cn(kn().mark((function t(){return kn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.$nextTick().then((function(){Rn.commit("swagMigration/process/setIsMigrating",!0),Rn.commit("swagMigration/ui/setPremapping",[]),Rn.commit("swagMigration/ui/setIsLoading",!0),n.$router.push({name:"swag.migration.processScreen",params:{startMigration:!0}})}));case 1:case"end":return t.stop()}}),t)})))()}}});e("BsIA");var On=Shopware,zn=On.Component,Tn=On.Mixin,Nn=Shopware.Data.Criteria;zn.register("swag-migration-history",{template:'{% block swag_migration_history %}\n    <sw-card class="swag-migration-history"\n             :isLoading="isLoading"\n             :large="true"\n             position-identifier="swag-migration-history">\n        <template #grid>\n\n            {% block swag_migration_history_grid %}\n                <sw-data-grid v-if="migrationRuns.length > 0"\n                              identifier="swag-migration-history"\n                              :dataSource="migrationRuns"\n                              :columns="migrationColumns"\n                              :showSelection="false"\n                              :showSettings="true"\n                              :allowColumnEdit="true"\n                              :sortBy="sortBy"\n                              :sortDirection="sortDirection"\n                              @column-sort="onSortColumn">\n\n                    {% block swag_migration_history_grid_column_status %}\n                        <template #column-status="{ item }">\n                            <sw-icon v-if="item.status === \'finished\'"\n                                     class="swag-migration-history__status-icon swag-migration-history__status-icon--finished"\n                                     name="regular-checkmark"\n                                     size="16px">\n                            </sw-icon>\n                            <sw-icon v-else-if="item.status === \'aborted\'"\n                                     class="swag-migration-history__status-icon swag-migration-history__status-icon--aborted"\n                                     name="regular-times"\n                                     size="16px">\n                            </sw-icon>\n                            <sw-icon v-else-if="item.status === \'running\'"\n                                     class="swag-migration-history__status-icon swag-migration-history__status-icon--loading"\n                                     name="regular-circle"\n                                     size="16px">\n                            </sw-icon>\n                        </template>\n                    {% endblock %}\n\n                    {% block swag_migration_history_grid_column_profile %}\n                        <template #column-connection.profile="{ item }">\n                            {{ item.connection.profileName }} /\n                            {{ item.connection.gatewayName }}\n                        </template>\n                    {% endblock %}\n\n                    {% block swag_migration_history_grid_column_createdAt %}\n                        <template #column-createdAt="{ item }">\n                            {{ item.createdAt | date(migrationDateOptions) }}\n                        </template>\n                    {% endblock %}\n\n                    {% block swag_migration_history_grid_column_sourceSystemName %}\n                        <template #column-environmentInformation.sourceSystemName="{ item }">\n                            {{ item.environmentInformation.sourceSystemName }}\n                            {{ item.environmentInformation.sourceSystemVersion }}\n                        </template>\n                    {% endblock %}\n\n                    {% block swag_migration_history_grid_column_selectedData %}\n                        <template #column-progress="{ item }">\n                            <swag-migration-history-selected-data :entityGroups="item.progress">\n                            </swag-migration-history-selected-data>\n                        </template>\n                    {% endblock %}\n\n                    {% block swag_migration_history_grid_actions %}\n                        <template #actions="{ item }">\n                            <sw-context-menu-item :routerLink="{ name: \'swag.migration.index.history.detail\', params:{ id:item.id } }">\n                                {{ $tc(\'swag-migration.history.contextMenu.details\') }}\n                            </sw-context-menu-item>\n                            <sw-context-menu-item @click="onContextDownloadLogFile(item.id)">\n                                {{ $tc(\'swag-migration.history.contextMenu.downloadLogs\') }}\n                            </sw-context-menu-item>\n                            <sw-context-menu-item variant="danger" @click="onContextClearRunClicked(item.id)" :disabled="isMediaProcessing">\n                                {{ $tc(\'swag-migration.history.contextMenu.clearLogs\') }}\n                            </sw-context-menu-item>\n                        </template>\n                    {% endblock %}\n\n                    {% block swag_migration_history_grid_pagination %}\n                        <template #pagination>\n                                <sw-pagination :page="page"\n                                               :limit="limit"\n                                               :total="total"\n                                               :total-visible="7"\n                                               @page-change="onPageChange">\n                                </sw-pagination>\n                        </template>\n                    {% endblock %}\n\n                </sw-data-grid>\n            {% endblock %}\n\n            {% block swag_migration_history_no_data %}\n                <div v-if="migrationRuns.length === 0" class="swag-migration-history__no-data">\n                    <p class="swag-migration-history__no-data-label">\n                        {{ $tc(\'swag-migration.history.noData\') }}\n                    </p>\n                </div>\n            {% endblock %}\n\n            {% block swag_migration_history_router_view %}\n                <router-view></router-view>\n            {% endblock %}\n\n            {% block swag_migration_history_log_download_form %}\n                <form class="swag-migration-history-detail-errors__download-form"\n                      ref="downloadLogsOfRunForm"\n                      :action="logDownloadEndpoint"\n                      method="POST">\n                    <input type="hidden"\n                           name="runUuid"\n                           :value="runIdForLogDownload">\n                </form>\n            {% endblock %}\n\n            {% block swag_migration_history_run_clear_confirm_modal %}\n                <sw-modal v-if="showRunClearConfirmModal"\n                          class="swag-migration-history__run-clear-confirm-modal"\n                          :title="$tc(\'swag-migration.history.clearRunDialog.title\')"\n                          :isLoading="runClearConfirmModalIsLoading"\n                          size="460px"\n                          @modal-close="showRunClearConfirmModal = false">\n\n                    {% block swag_migration_history_run_clear_confirm_modal_content %}\n                        <p class="swag-migration-history__run-clear-confirm-modal-content">\n                            {{ $tc(\'swag-migration.history.clearRunDialog.content\') }}\n                        </p>\n                    {% endblock %}\n\n                    {% block swag_migration_history_run_clear_confirm_modal_content_hint %}\n                        <p class="swag-migration-history__run-clear-confirm-modal-content-hint">\n                            {{ $tc(\'swag-migration.history.clearRunDialog.contentHint\') }}\n                        </p>\n                    {% endblock %}\n\n                    {% block swag_migration_history_run_clear_confirm_modal_footer %}\n                        <template #modal-footer>\n\n                            {% block swag_migration_history_run_clear_confirm_modal_abort %}\n                                <sw-button size="small"\n                                           :disabled="runClearConfirmModalIsLoading"\n                                           @click="showRunClearConfirmModal = false">\n                                    {{ $tc(\'global.default.cancel\') }}\n                                </sw-button>\n                            {% endblock %}\n\n                            {% block swag_migration_history_run_clear_confirm_modal_confirm %}\n                                <sw-button size="small"\n                                           variant="primary"\n                                           :disabled="runClearConfirmModalIsLoading"\n                                           @click="onClearRunConfirmed">\n                                    {{ $tc(\'global.default.delete\') }}\n                                </sw-button>\n                            {% endblock %}\n\n                        </template>\n                    {% endblock %}\n\n                </sw-modal>\n            {% endblock %}\n\n        </template>\n    </sw-card>\n{% endblock %}\n',inject:{repositoryFactory:"repositoryFactory",migrationService:"migrationService"},mixins:[Tn.getByName("listing"),Tn.getByName("notification")],data:function(){return{isLoading:!1,migrationRuns:[],migrationDateOptions:{hour:"2-digit",minute:"2-digit",second:"2-digit"},sortBy:"createdAt",sortDirection:"DESC",oldParams:{},context:Shopware.Context.api,logDownloadEndpoint:"",runIdForLogDownload:"",runIdForRunClear:"",showRunClearConfirmModal:!1,runClearConfirmModalIsLoading:!1,isMediaProcessing:!0}},metaInfo:function(){return{title:this.$createTitle()}},computed:{migrationRunRepository:function(){return this.repositoryFactory.create("swag_migration_run")},migrationColumns:function(){return this.getMigrationColumns()}},created:function(){var n=this;this.migrationService.isMediaProcessing().then((function(t){n.isMediaProcessing=t.data})),this.logDownloadEndpoint="/api/_action/"+"".concat(this.migrationService.getApiBasePath(),"/download-logs-of-run")},methods:{getMigrationColumns:function(){return[{property:"connection.name",dataIndex:"connection.name",label:this.$tc("swag-migration.history.connectionName"),primary:!0,allowResize:!0},{property:"environmentInformation.sourceSystemDomain",dataIndex:"environmentInformation.sourceSystemDomain",label:this.$tc("swag-migration.history.shopDomain"),visible:!1,allowResize:!0},{property:"environmentInformation.sourceSystemName",dataIndex:"environmentInformation.sourceSystemName",label:this.$tc("swag-migration.history.shopSystem"),visible:!1,allowResize:!0},{property:"connection.profile",dataIndex:"connection.profileName",label:this.$tc("swag-migration.history.profileAndGateway"),allowResize:!0},{property:"status",dataIndex:"status",label:this.$tc("swag-migration.history.status"),align:"center",allowResize:!0},{property:"progress",dataIndex:"progress",label:this.$tc("swag-migration.history.selectedData"),visible:!1,allowResize:!0},{property:"createdAt",dataIndex:"createdAt",label:this.$tc("swag-migration.history.importDateTime"),align:"right",allowResize:!0}]},getList:function(){var n=this;this.isLoading=!0;var t=this.normalizeListingParams(this.getMainListingParams());if(JSON.stringify(this.oldParams)===JSON.stringify(t))return this.isLoading=!1,Promise.resolve(this.migrationRuns);this.oldParams=t;var e=new Nn(t.page,t.limit);return e.addSorting(Nn.sort(t.sortBy,t.sortDirection,t.naturalSorting)),this.migrationRunRepository.search(e,this.context).then((function(t){return n.total=t.total,n.migrationRuns=t,n.isLoading=!1,n.migrationRuns}))},normalizeListingParams:function(n){return n.limit=parseInt(n.limit,10),n.page=parseInt(n.page,10),n},onMigrateButtonClick:function(){this.$router.push({name:"swag.migration.index.main",params:{startMigration:!0}})},onContextDownloadLogFile:function(n){var t=this;this.runIdForLogDownload=n,this.$nextTick((function(){t.$refs.downloadLogsOfRunForm.submit()}))},clearDataOfRun:function(n){var t=this;return this.runClearConfirmModalIsLoading=!0,this.migrationService.clearDataOfRun(n).then((function(){t.showRunClearConfirmModal=!1,t.runClearConfirmModalIsLoading=!1,t.$router.go()})).catch((function(){t.createNotificationError({message:t.$t("swag-migration.index.shopInfoCard.resetMigrationConfirmDialog.errorNotification.message"),growl:!0})}))},onContextClearRunClicked:function(n){this.runIdForRunClear=n,this.showRunClearConfirmModal=!0},onClearRunConfirmed:function(){this.clearDataOfRun(this.runIdForRunClear)}}});e("gqG/");var $n=Shopware.Component,jn=Shopware.Data.Criteria;$n.register("swag-migration-history-detail",{template:'{% block swag_migration_history_detail %}\n    <div class="swag-migration-history-detail">\n        <sw-modal v-if="showModal"\n                  class="swag-migration-history-detail__modal"\n                  size="800px"\n                  :title="$tc(\'swag-migration.history.detailPage.title\')"\n                  :isLoading="isLoading"\n                  @modal-close="onCloseModal">\n\n            {% block swag_migration_history_detail_modal_content %}\n                <div v-if="isLoading"\n                     class="swag-migration-history-detail__loading-placeholder">\n                </div>\n                <div v-if="!isLoading"\n                     class="swag-migration-history-detail__content">\n\n                    {% block swag_migration_history_detail_header %}\n                        <div class="swag-migration-history-detail__header">\n\n                            {% block swag_migration_history_detail_connectin_avatar %}\n                                <template v-if="profileIcon === null || profileIcon === \'\'">\n                                    <swag-migration-shop-avatar class="swag-migration-shop-information__connection-avatar"\n                                                                color="#189EFF"\n                                                                size="80px">\n                                        {{ shopFirstLetter }}\n                                    </swag-migration-shop-avatar>\n                                </template>\n\n                                <template v-else>\n                                    <img class="swag-migration-shop-information__profile-avatar"\n                                         :src="profileIcon | asset"\n                                         size="80px">\n                                </template>\n                            {% endblock %}\n\n                            {% block swag_migration_history_detail_connection_info %}\n                                <div class="swag-migration-history-detail__connection-info">\n\n                                    {% block swag_migration_history_detail_shop_system %}\n                                        <div class="swag-migration-history-detail__connection-name">\n                                            {{ connectionName }}\n                                        </div>\n                                    {% endblock %}\n\n                                    {% block swag_migration_history_detail_shop_domain %}\n                                        <div v-if="shopUrl !== \'\'" class="swag-migration-history-detail__shop-domain">\n                                                        <span class="swag-migration-history-detail__shop-domain-prefix"\n                                                              :class="shopUrlPrefixClass">\n                                                            <sw-icon v-if="sslActive"\n                                                                     class="swag-migration-history-detail__shop-domain-prefix-icon"\n                                                                     name="regular-lock"\n                                                                     size="12px">\n                                                            </sw-icon>\n                                                            <sw-icon v-else\n                                                                     class="swag-migration-history-detail__shop-domain-prefix-icon"\n                                                                     name="regular-lock-open-s"\n                                                                     size="12px">\n                                                            </sw-icon>\n                                                            {{ shopUrlPrefix }}</span>{{ shopUrl }}\n                                        </div>\n                                    {% endblock %}\n\n                                    {% block swag_migration_history_detail_profile %}\n                                        <div class="swag-migration-history-detail__profile">\n                                            {{ profileName }} / {{ gatewayName }}\n                                        </div>\n                                    {% endblock %}\n                                </div>\n                            {% endblock %}\n\n                            {% block swag_migration_history_detail_run_info %}\n                                <div class="swag-migration-history-detail__run-info">\n                                    <div class="swag-migration-history-detail__run-timestamp-label">\n                                        {{ $tc(\'swag-migration.history.detailPage.timestamp\') }}\n                                    </div>\n                                    <div class="swag-migration-history-detail__run-timestamp-value">\n                                        {{ migrationRun.createdAt | date(migrationDateOptions) }}\n                                    </div>\n\n                                    <div class="swag-migration-history-detail__run-status-label">\n                                        {{ $tc(\'swag-migration.history.detailPage.runStatus\') }}\n                                    </div>\n                                    <div class="swag-migration-history-detail__run-status-value" :class="runStatusClasses">\n                                        {{ $tc(runStatusSnippet) }}\n                                    </div>\n                                </div>\n                            {% endblock %}\n                        </div>\n                    {% endblock %}\n\n                    {% block swag_migration_history_detail_body %}\n                        <div class="swag-migration-history-detail__body">\n\n                            {% block swag_migration_history_detail_body_tabs %}\n                                <sw-tabs\n                                    ref="tabReference"\n                                    @new-item-active="newActiveTabItem"\n                                    position-identifier="swag-migration-history-detail-body-tabs"\n                                >\n\n                                    {% block swag_migration_history_detail_body_tabs_data %}\n                                        <sw-tabs-item name="data" ref="dataTabItem">\n                                            {{ $tc(\'swag-migration.history.detailPage.data\') }}\n                                        </sw-tabs-item>\n                                    {% endblock %}\n\n                                    {% block swag_migration_history_detail_body_tabs_errors %}\n                                        <sw-tabs-item name="errors" ref="errorsTabItem">\n                                            {{ $tc(\'swag-migration.history.detailPage.errors\') }}\n                                        </sw-tabs-item>\n                                    {% endblock %}\n                                </sw-tabs>\n                            {% endblock %}\n\n                            {% block swag_migration_history_detail_body_data %}\n                                <swag-migration-history-detail-data v-show="currentTab === \'data\'"\n                                                                    :migrationRun="migrationRun">\n                                </swag-migration-history-detail-data>\n                            {% endblock %}\n\n                            {% block swag_migration_history_detail_body_errors %}\n                                <swag-migration-history-detail-errors v-show="currentTab === \'errors\'"\n                                                                      :migrationRun="migrationRun">\n                                </swag-migration-history-detail-errors>\n                            {% endblock %}\n                        </div>\n                    {% endblock %}\n                </div>\n            {% endblock %}\n\n            {% block swag_migration_history_detail_footer %}\n                <template #modal-footer>\n                    <sw-button size="small" @click="onCloseModal">\n                        {{ $tc(\'swag-migration.history.detailPage.close\') }}\n                    </sw-button>\n                </template>\n            {% endblock %}\n        </sw-modal>\n    </div>\n{% endblock %}\n',inject:{migrationService:"migrationService",repositoryFactory:"repositoryFactory"},data:function(){return{runId:"",migrationRun:{},showModal:!0,isLoading:!0,migrationDateOptions:{hour:"2-digit",minute:"2-digit",second:"2-digit"},currentTab:"data",context:Shopware.Context.api}},metaInfo:function(){return{title:this.$createTitle()}},computed:{migrationRunRepository:function(){return this.repositoryFactory.create("swag_migration_run")},shopFirstLetter:function(){return void 0===this.migrationRun.environmentInformation.sourceSystemName?"S":this.migrationRun.environmentInformation.sourceSystemName[0]},profileIcon:function(){return null===this.migrationRun.connection||void 0===this.migrationRun.connection.profile||void 0===this.migrationRun.connection.profile.icon?null:this.migrationRun.connection.profile.icon},connectionName:function(){return null===this.migrationRun.connection?"":this.migrationRun.connection.name},shopUrl:function(){return void 0===this.migrationRun.environmentInformation.sourceSystemDomain?"":this.migrationRun.environmentInformation.sourceSystemDomain.replace(/^\s*https?:\/\//,"")},shopUrlPrefix:function(){if(void 0===this.migrationRun.environmentInformation.sourceSystemDomain)return"";var n=this.migrationRun.environmentInformation.sourceSystemDomain.match(/^\s*https?:\/\//);return null===n?"":n[0]},sslActive:function(){return"https://"===this.shopUrlPrefix},shopUrlPrefixClass:function(){return this.sslActive?"swag-migration-shop-information__shop-domain-prefix--is-ssl":""},profileName:function(){return null===this.migrationRun.connection?"":this.migrationRun.connection.profileName},gatewayName:function(){return null===this.migrationRun.connection?"":this.migrationRun.connection.gatewayName},runStatusSnippet:function(){return null===this.migrationRun.status?"":"swag-migration.history.detailPage.status.".concat(this.migrationRun.status)},runStatusClasses:function(){return null===this.migrationRun.status?"":"swag-migration-history-detail__run-status-value--".concat(this.migrationRun.status)}},created:function(){var n=this;if(!this.$route.params.id)return this.isLoading=!1,this.onCloseModal(),Promise.resolve();this.runId=this.$route.params.id;var t=new jn(1,1);return t.addFilter(jn.equals("id",this.runId)),this.migrationRunRepository.search(t,this.context).then((function(t){return t.length<1?(n.isLoading=!1,n.onCloseModal(),Promise.resolve()):(n.migrationRun=t.first(),n.migrationService.getProfileInformation(n.migrationRun.connection.profileName,n.migrationRun.connection.gatewayName).then((function(t){n.migrationRun.connection.profile=t.profile,n.isLoading=!1,n.$nextTick((function(){n.$refs.tabReference.setActiveItem(n.$refs.dataTabItem)}))})))})).catch((function(){n.isLoading=!1,n.onCloseModal()}))},methods:{onCloseModal:function(){var n=this;this.showModal=!1,this.$nextTick((function(){n.$router.go(-1)}))},newActiveTabItem:function(n){this.currentTab=n.name}}});e("hVVV");function Dn(n){return(Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function An(){An=function(){return n};var n={},t=Object.prototype,e=t.hasOwnProperty,i=Object.defineProperty||function(n,t,e){n[t]=e.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(n,t,e){return Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}),n[t]}try{c({},"")}catch(n){c=function(n,t,e){return n[t]=e}}function l(n,t,e,r){var o=t&&t.prototype instanceof u?t:u,a=Object.create(o.prototype),s=new x(r||[]);return i(a,"_invoke",{value:y(n,e,s)}),a}function g(n,t,e){try{return{type:"normal",arg:n.call(t,e)}}catch(n){return{type:"throw",arg:n}}}n.wrap=l;var d={};function u(){}function m(){}function p(){}var f={};c(f,o,(function(){return this}));var h=Object.getPrototypeOf,w=h&&h(h(I([])));w&&w!==t&&e.call(w,o)&&(f=w);var _=p.prototype=u.prototype=Object.create(f);function v(n){["next","throw","return"].forEach((function(t){c(n,t,(function(n){return this._invoke(t,n)}))}))}function b(n,t){function r(i,o,a,s){var c=g(n[i],n,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==Dn(d)&&e.call(d,"__await")?t.resolve(d.__await).then((function(n){r("next",n,a,s)}),(function(n){r("throw",n,a,s)})):t.resolve(d).then((function(n){l.value=n,a(l)}),(function(n){return r("throw",n,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(n,e){function i(){return new t((function(t,i){r(n,e,t,i)}))}return o=o?o.then(i,i):i()}})}function y(n,t,e){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return P()}for(e.method=r,e.arg=o;;){var a=e.delegate;if(a){var s=k(a,e);if(s){if(s===d)continue;return s}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===i)throw i="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);i="executing";var c=g(n,t,e);if("normal"===c.type){if(i=e.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(i="completed",e.method="throw",e.arg=c.arg)}}}function k(n,t){var e=t.method,i=n.iterator[e];if(void 0===i)return t.delegate=null,"throw"===e&&n.iterator.return&&(t.method="return",t.arg=void 0,k(n,t),"throw"===t.method)||"return"!==e&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+e+"' method")),d;var r=g(i,n.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[n.resultName]=o.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(n){var t={tryLoc:n[0]};1 in n&&(t.catchLoc=n[1]),2 in n&&(t.finallyLoc=n[2],t.afterLoc=n[3]),this.tryEntries.push(t)}function C(n){var t=n.completion||{};t.type="normal",delete t.arg,n.completion=t}function x(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(S,this),this.reset(!0)}function I(n){if(n){var t=n[o];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var i=-1,r=function t(){for(;++i<n.length;)if(e.call(n,i))return t.value=n[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:P}}function P(){return{value:void 0,done:!0}}return m.prototype=p,i(_,"constructor",{value:p,configurable:!0}),i(p,"constructor",{value:m,configurable:!0}),m.displayName=c(p,s,"GeneratorFunction"),n.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,p):(n.__proto__=p,c(n,s,"GeneratorFunction")),n.prototype=Object.create(_),n},n.awrap=function(n){return{__await:n}},v(b.prototype),c(b.prototype,a,(function(){return this})),n.AsyncIterator=b,n.async=function(t,e,i,r,o){void 0===o&&(o=Promise);var a=new b(l(t,e,i,r),o);return n.isGeneratorFunction(e)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},v(_),c(_,s,"Generator"),c(_,o,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),n.keys=function(n){var t=Object(n),e=[];for(var i in t)e.push(i);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},n.values=I,x.prototype={constructor:x,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!n)for(var t in this)"t"===t.charAt(0)&&e.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function i(e,i){return a.type="throw",a.arg=n,t.next=e,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=e.call(o,"catchLoc"),c=e.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(n,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===n||"continue"===n)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=n,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),d},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.finallyLoc===n)return this.complete(e.completion,e.afterLoc),C(e),d}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.tryLoc===n){var i=e.completion;if("throw"===i.type){var r=i.arg;C(e)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(n,t,e){return this.delegate={iterator:I(n),resultName:t,nextLoc:e},"next"===this.method&&(this.arg=void 0),d}},n}function Fn(n,t,e,i,r,o,a){try{var s=n[o](a),c=s.value}catch(n){return void e(n)}s.done?t(c):Promise.resolve(c).then(i,r)}var Bn=Shopware,Gn=Bn.Component,Un=Bn.Mixin;Gn.register("swag-migration-history-detail-errors",{template:'{% block swag_migration_history_detail_errors %}\n    <div class="swag-migration-history-detail-errors">\n        <div v-if="!isLoading">\n\n            {% block swag_migration_history_detail_errors_grid %}\n                <sw-data-grid v-if="migrationErrors.length > 0"\n                              identifier="swag-migration-history-detail-errors"\n                              :dataSource="migrationErrors"\n                              :columns="columns"\n                              :showSelection="false"\n                              :showSettings="false"\n                              :allowColumnEdit="false"\n                              :showActions="false"\n                              :sortBy="sortBy"\n                              :sortDirection="sortDirection"\n                              @column-sort="onSortColumn">\n\n                    {% block swag_migration_history_detail_errors_grid_code%}\n                        <template #column-title="{ item }">\n                            {{ item.title }}\n                        </template>\n                    {% endblock %}\n\n                    {% block swag_migration_history_detail_errors_grid_count %}\n                        <template #column-count="{ item }">\n                            {{ item.count }}\n                        </template>\n                    {% endblock %}\n\n                    {% block swag_migration_history_detail_errors_grid_pagination %}\n                        <template #pagination>\n                            <sw-pagination :page="page"\n                                           :limit="limit"\n                                           :total="total"\n                                           :steps="[5,10]"\n                                           :total-visible="7"\n                                           @page-change="onPageChange">\n                            </sw-pagination>\n                        </template>\n                    {% endblock %}\n                </sw-data-grid>\n            {% endblock %}\n\n            {% block swag_migration_history_detail_errors_noError %}\n                <p v-if="migrationErrors.length === 0"\n                   class="swag-migration-history-detail-errors__no-error">\n                    {{ $tc(\'swag-migration.history.detailPage.noErrorsOccurred\') }}\n                </p>\n            {% endblock %}\n\n            {% block swag_migration_history_detail_errors_download_form %}\n                <form class="swag-migration-history-detail-errors__download-form"\n                      ref="downloadForm"\n                      :action="downloadUrl"\n                      method="POST">\n                    <input type="hidden"\n                           name="runUuid"\n                           :value="migrationRun.id">\n                </form>\n            {% endblock %}\n\n            {% block swag_migration_history_detail_errors_description %}\n                <i18n class="swag-migration-history-detail-errors__description"\n                      path="swag-migration.history.detailPage.logDescription"\n                      tag="p">\n                    <a class="link"\n                       place="link"\n                       href="#"\n                       @click.prevent="submitDownload">\n                        {{ $tc(\'swag-migration.history.detailPage.logDownload\') }}\n                    </a>\n                </i18n>\n            {% endblock %}\n\n        </div>\n\n        {% block swag_migration_history_detail_errors_noError__loader %}\n            <div v-if="isLoading"\n                 class="swag-migration-history-detail-errors__loading-placeholder"></div>\n            <sw-loader v-if="isLoading"></sw-loader>\n        {% endblock %}\n\n    </div>\n{% endblock %}\n',inject:{migrationService:"migrationService"},mixins:[Un.getByName("listing")],props:{migrationRun:{type:Object,required:!0}},data:function(){return{isLoading:!0,allMigrationErrors:null,migrationErrors:[],sortBy:"count",sortDirection:"DESC",disableRouteParams:!0,limit:10,downloadUrl:""}},metaInfo:function(){return{title:this.$createTitle()}},computed:{columns:function(){return[{property:"title",dataIndex:"title",label:this.$tc("swag-migration.history.detailPage.errorCode"),primary:!0,allowResize:!0,sortable:!0},{property:"count",dataIndex:"count",label:this.$tc("swag-migration.history.detailPage.errorCount"),primary:!0,allowResize:!0,sortable:!0}]}},methods:{getList:function(){var n,t=this;return(n=An().mark((function n(){var e,i,r,o;return An().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.isLoading=!0,e=t.getMainListingParams(),null!==t.allMigrationErrors){n.next=5;break}return n.next=5,t.loadAllMigrationErrors();case 5:for(t.applySorting(e),i=(e.page-1)*t.limit,r=Math.min((e.page-1)*t.limit+t.limit,t.allMigrationErrors.length),t.migrationErrors=[],o=i;o<r;o+=1)t.migrationErrors.push(t.allMigrationErrors[o]);return t.isLoading=!1,n.abrupt("return",t.migrationErrors);case 12:case"end":return n.stop()}}),n)})),function(){var t=this,e=arguments;return new Promise((function(i,r){var o=n.apply(t,e);function a(n){Fn(o,i,r,a,s,"next",n)}function s(n){Fn(o,i,r,a,s,"throw",n)}a(void 0)}))})()},loadAllMigrationErrors:function(){var n=this;return this.migrationService.getGroupedLogsOfRun(this.migrationRun.id).then((function(t){return n.total=t.total,n.allMigrationErrors=t.items,n.allMigrationErrors.forEach((function(t){t.title=n.$tc(n.getErrorTitleSnippet(t),0,{entity:t.entity})})),n.downloadUrl=t.downloadUrl,n.allMigrationErrors}))},applySorting:function(n){this.allMigrationErrors.sort((function(t,e){return"ASC"===n.sortDirection?t[n.sortBy]<e[n.sortBy]?-1:1:t[n.sortBy]>e[n.sortBy]?-1:1}))},getErrorTitleSnippet:function(n){var t=n.titleSnippet;return this.$te(t)?t:"swag-migration.index.error.unknownError"},submitDownload:function(){this.$refs.downloadForm.submit()}}});e("ovuc");var Wn=Shopware,Vn=Wn.Component,Hn=Wn.Mixin;Vn.register("swag-migration-history-detail-data",{template:'{% block swag_migration_history_detail_data %}\n    <div class="swag-migration-history-detail-data">\n        <div v-if="!isLoading">\n\n            {% block swag_migration_history_detail_data_grid %}\n                <sw-data-grid identifier="swag-migration-history-detail-data"\n                              :dataSource="migrationData"\n                              :columns="columns"\n                              :showSelection="false"\n                              :showSettings="false"\n                              :allowColumnEdit="false"\n                              :showActions="false"\n                              :sortBy="sortBy"\n                              :sortDirection="sortDirection"\n                              @column-sort="onSortColumn">\n\n                    {% block swag_migration_history_detail_data_grid_name %}\n                        <template #column-name="{ item }">\n                            {{ $tc(item.snippet) }}\n                        </template>\n                    {% endblock %}\n\n                    {% block swag_migration_history_detail_data_grid_count %}\n                        <template #column-count="{ item }">\n                            {{ item.total }}\n                        </template>\n                    {% endblock %}\n\n                    {% block swag_migration_history_detail_data_grid_pagination %}\n                        <template #pagination>\n                            <sw-pagination :page="page"\n                                           :limit="limit"\n                                           :total="total"\n                                           :steps="[5,10]"\n                                           :total-visible="7"\n                                           @page-change="onPageChange">\n                            </sw-pagination>\n                        </template>\n                    {% endblock %}\n                </sw-data-grid>\n            {% endblock %}\n        </div>\n\n        {% block swag_migration_history_detail_data_noError__loader %}\n            <div v-if="isLoading"\n                 class="swag-migration-history-detail-data__loading-placeholder"></div>\n            <sw-loader v-if="isLoading"></sw-loader>\n        {% endblock %}\n    </div>\n{% endblock %}\n',mixins:[Hn.getByName("listing")],props:{migrationRun:{type:Object,required:!0}},data:function(){return{isLoading:!0,allMigrationData:[],migrationData:[],sortBy:"createdAt",sortDirection:"DESC",disableRouteParams:!0,limit:10}},metaInfo:function(){return{title:this.$createTitle()}},computed:{columns:function(){return[{property:"name",label:this.$tc("swag-migration.history.detailPage.dataName"),primary:!0,allowResize:!0,sortable:!1},{property:"count",label:this.$tc("swag-migration.history.detailPage.dataCount"),allowResize:!0,sortable:!1}]},entityGroups:function(){return this.migrationRun.progress.filter((function(n){return"processMediaFiles"!==n.id}))}},methods:{getList:function(){this.isLoading=!0,this.total=this.entityGroups.length;var n=(this.page-1)*this.limit,t=Math.min(n+this.limit,this.total);this.migrationData=[];for(var e=n;e<t;e+=1)this.migrationData.push(this.entityGroups[e]);return this.isLoading=!1,this.items}}});e("rd1a");function qn(n){return(qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function Kn(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Yn(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,(r=i.key,o=void 0,o=function(n,t){if("object"!==qn(n)||null===n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var i=e.call(n,t||"default");if("object"!==qn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(r,"string"),"symbol"===qn(o)?o:String(o)),i)}var r,o}var Xn=Shopware.Utils,Zn=function(){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},e=arguments.length>1?arguments[1]:void 0;Kn(this,n),this._clientId=Xn.createId(),this._channelKey=e,this._receiveCallback=t,window.addEventListener("storage",this.messageReceived.bind(this))}var t,e,i;return t=n,(e=[{key:"getClientId",value:function(){return this._clientId}},{key:"setClientId",value:function(n){this._clientId=n}},{key:"sendMessage",value:function(n){n.id&&n.id.length||(n.id=this._clientId),n=JSON.stringify(n),localStorage.setItem(this._channelKey,n)}},{key:"messageReceived",value:function(n){if(n.key!==this._channelKey)return!1;var t=JSON.parse(localStorage.getItem(this._channelKey));return localStorage.removeItem(this._channelKey),!(!t||t.id===this._clientId||(this._receiveCallback.call(null,t),0))}}])&&Yn(t.prototype,e),i&&Yn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),n}();function Jn(n){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function Qn(){Qn=function(){return n};var n={},t=Object.prototype,e=t.hasOwnProperty,i=Object.defineProperty||function(n,t,e){n[t]=e.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(n,t,e){return Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}),n[t]}try{c({},"")}catch(n){c=function(n,t,e){return n[t]=e}}function l(n,t,e,r){var o=t&&t.prototype instanceof u?t:u,a=Object.create(o.prototype),s=new x(r||[]);return i(a,"_invoke",{value:y(n,e,s)}),a}function g(n,t,e){try{return{type:"normal",arg:n.call(t,e)}}catch(n){return{type:"throw",arg:n}}}n.wrap=l;var d={};function u(){}function m(){}function p(){}var f={};c(f,o,(function(){return this}));var h=Object.getPrototypeOf,w=h&&h(h(I([])));w&&w!==t&&e.call(w,o)&&(f=w);var _=p.prototype=u.prototype=Object.create(f);function v(n){["next","throw","return"].forEach((function(t){c(n,t,(function(n){return this._invoke(t,n)}))}))}function b(n,t){function r(i,o,a,s){var c=g(n[i],n,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==Jn(d)&&e.call(d,"__await")?t.resolve(d.__await).then((function(n){r("next",n,a,s)}),(function(n){r("throw",n,a,s)})):t.resolve(d).then((function(n){l.value=n,a(l)}),(function(n){return r("throw",n,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(n,e){function i(){return new t((function(t,i){r(n,e,t,i)}))}return o=o?o.then(i,i):i()}})}function y(n,t,e){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return P()}for(e.method=r,e.arg=o;;){var a=e.delegate;if(a){var s=k(a,e);if(s){if(s===d)continue;return s}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===i)throw i="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);i="executing";var c=g(n,t,e);if("normal"===c.type){if(i=e.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(i="completed",e.method="throw",e.arg=c.arg)}}}function k(n,t){var e=t.method,i=n.iterator[e];if(void 0===i)return t.delegate=null,"throw"===e&&n.iterator.return&&(t.method="return",t.arg=void 0,k(n,t),"throw"===t.method)||"return"!==e&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+e+"' method")),d;var r=g(i,n.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[n.resultName]=o.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(n){var t={tryLoc:n[0]};1 in n&&(t.catchLoc=n[1]),2 in n&&(t.finallyLoc=n[2],t.afterLoc=n[3]),this.tryEntries.push(t)}function C(n){var t=n.completion||{};t.type="normal",delete t.arg,n.completion=t}function x(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(S,this),this.reset(!0)}function I(n){if(n){var t=n[o];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var i=-1,r=function t(){for(;++i<n.length;)if(e.call(n,i))return t.value=n[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:P}}function P(){return{value:void 0,done:!0}}return m.prototype=p,i(_,"constructor",{value:p,configurable:!0}),i(p,"constructor",{value:m,configurable:!0}),m.displayName=c(p,s,"GeneratorFunction"),n.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,p):(n.__proto__=p,c(n,s,"GeneratorFunction")),n.prototype=Object.create(_),n},n.awrap=function(n){return{__await:n}},v(b.prototype),c(b.prototype,a,(function(){return this})),n.AsyncIterator=b,n.async=function(t,e,i,r,o){void 0===o&&(o=Promise);var a=new b(l(t,e,i,r),o);return n.isGeneratorFunction(e)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},v(_),c(_,s,"Generator"),c(_,o,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),n.keys=function(n){var t=Object(n),e=[];for(var i in t)e.push(i);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},n.values=I,x.prototype={constructor:x,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!n)for(var t in this)"t"===t.charAt(0)&&e.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function i(e,i){return a.type="throw",a.arg=n,t.next=e,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=e.call(o,"catchLoc"),c=e.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(n,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===n||"continue"===n)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=n,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),d},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.finallyLoc===n)return this.complete(e.completion,e.afterLoc),C(e),d}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.tryLoc===n){var i=e.completion;if("throw"===i.type){var r=i.arg;C(e)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(n,t,e){return this.delegate={iterator:I(n),resultName:t,nextLoc:e},"next"===this.method&&(this.arg=void 0),d}},n}function nt(n,t,e,i,r,o,a){try{var s=n[o](a),c=s.value}catch(n){return void e(n)}s.done?t(c):Promise.resolve(c).then(i,r)}function tt(n){return function(){var t=this,e=arguments;return new Promise((function(i,r){var o=n.apply(t,e);function a(n){nt(o,i,r,a,s,"next",n)}function s(n){nt(o,i,r,a,s,"throw",n)}a(void 0)}))}}function et(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,(r=i.key,o=void 0,o=function(n,t){if("object"!==Jn(n)||null===n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var i=e.call(n,t||"default");if("object"!==Jn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(r,"string"),"symbol"===Jn(o)?o:String(o)),i)}var r,o}var it=Shopware,rt=it.Application,ot=it.State,at=Object.freeze({1:"fetchData",2:"writeData",3:"processMedia"}),st=function(){function n(t,e,i,r){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._MAX_REQUEST_TIME=1e4,this._DEFAULT_CHUNK_SIZE=25,this._CHUNK_PROPORTION_UP_WEIGHT=.1,this._CHUNK_PROPORTION_DOWN_WEIGHT=.9,this._migrationProcessState=ot.get("swagMigration/process"),this._runId=t.runUuid,this._requestParams=t,this._workerStatusManager=e,this._migrationService=i,this._interrupt="",this._chunkSize=this._DEFAULT_CHUNK_SIZE,this._lastChunkSize=this._DEFAULT_CHUNK_SIZE,this._successfulChunk=this._DEFAULT_CHUNK_SIZE,this._onInterruptCB=r}var t,e,i,r,o;return t=n,(e=[{key:"operation",get:function(){return at[this._migrationProcessState.statusIndex]}},{key:"interrupt",get:function(){return this._interrupt},set:function(n){this._interrupt=n}},{key:"onInterruptCB",set:function(n){this._callInterruptCB=n}},{key:"_callInterruptCB",value:function(){null!==this._onInterruptCB&&this._onInterruptCB(this._interrupt)}},{key:"migrateProcess",value:(o=tt(Qn().mark((function n(t){var e,i,r,o=this,a=arguments;return Qn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=a.length>1&&void 0!==a[1]?a[1]:0,i=a.length>2&&void 0!==a[2]?a[2]:0,r=a.length>3&&void 0!==a[3]?a[3]:0,n.abrupt("return",new Promise(function(){var n=tt(Qn().mark((function n(a){var s,c,l,g,d,u,m;return Qn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=!1,n.next=3,o._workerStatusManager.changeStatus(o._runId,t).catch((function(){s=!0}));case 3:if(!0!==s){n.next=8;break}return o.interrupt=wt.STOP,o._callInterruptCB(),a(),n.abrupt("return");case 8:c=o._migrationProcessState.entityGroups,l=e;case 10:if(!(l<c.length)){n.next=32;break}g=0,d=0;case 13:if(!(d<c[l].entities.length)){n.next=28;break}if(u=c[l].entities[d].entityName,m=c[l].entities[d].total,!(d>=i)){n.next=24;break}return n.next=19,o._migrateEntity(u,m,c[l],g,r);case 19:if(""===o._interrupt){n.next=23;break}return o._callInterruptCB(),a(),n.abrupt("return");case 23:r=0;case 24:g+=m;case 25:d+=1,n.next=13;break;case 28:i=0;case 29:l+=1,n.next=10;break;case 32:a();case 33:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()));case 4:case"end":return n.stop()}}),n)}))),function(n){return o.apply(this,arguments)})},{key:"_migrateEntity",value:(r=tt(Qn().mark((function n(t,e,i,r){var o,a,s=arguments;return Qn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=s.length>4&&void 0!==s[4]?s[4]:0;case 1:if(!(o<e)){n.next=12;break}if(""===this._interrupt){n.next=4;break}return n.abrupt("return");case 4:return n.next=6,this._migrateEntityRequest(t,o);case 6:(a=o+this._successfulChunk)>e&&(a=e),ot.commit("swagMigration/process/setEntityProgress",{groupId:i.id,groupCurrentCount:r+a,groupTotal:i.total}),o+=this._successfulChunk,n.next=1;break;case 12:this._chunkSize=this._DEFAULT_CHUNK_SIZE;case 13:case"end":return n.stop()}}),n,this)}))),function(n,t,e,i){return r.apply(this,arguments)})},{key:"_migrateEntityRequest",value:function(n,t){var e=this;return new Promise(function(){var i=tt(Qn().mark((function i(r){var o,a,s;return Qn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:e._requestParams.entity=n,e._requestParams.offset=t,e._requestParams.limit=e._chunkSize,o=!0,a=0,s=Qn().mark((function n(){var t;return Qn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=new Date,n.next=3,e._migrationService[e.operation](e._requestParams).then((function(n){if(!n)return a+=1,void(e._requestParams.limit===e._lastChunkSize?(e._chunkSize=e._DEFAULT_CHUNK_SIZE,e._requestParams.limit=e._chunkSize):(e._handleChunkSize(),e._lastChunkSize=e._chunkSize,e._requestParams.limit=e._chunkSize));if(void 0===n.validToken)return e._requestParams.limit===e._lastChunkSize?(e._successfulChunk=e._requestParams.limit,void(o=!1)):(e._chunkSize=e._DEFAULT_CHUNK_SIZE,e._lastChunkSize=e._chunkSize,void(e._requestParams.limit=e._chunkSize));if(!n.validToken)return e.interrupt=wt.TAKEOVER,e._successfulChunk=0,void(o=!1);e._successfulChunk=e._requestParams.limit;var i=new Date;e._handleChunkSize(i.getTime()-t.getTime()),o=!1})).catch((function(n){if(!n||!n.response)return a+=1,void(e._requestParams.limit===e._lastChunkSize?(e._chunkSize=e._DEFAULT_CHUNK_SIZE,e._requestParams.limit=e._chunkSize):(e._handleChunkSize(),e._lastChunkSize=e._chunkSize,e._requestParams.limit=e._chunkSize));if(500===n.response.status)return e._successfulChunk=e._requestParams.limit,void(o=!1);var i=new Date;e._handleChunkSize(i.getTime()-t.getTime()),a+=1}));case 3:a>=3&&(e._successfulChunk=0,o=!1,e.operation===at[1]?e.interrupt=wt.CONNECTION_LOST:e.interrupt=wt.PAUSE);case 4:case"end":return n.stop()}}),n)}));case 6:if(!o){i.next=10;break}return i.delegateYield(s(),"t0",8);case 8:i.next=6;break;case 10:r();case 11:case"end":return i.stop()}}),i)})));return function(n){return i.apply(this,arguments)}}())}},{key:"_handleChunkSize",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e4;this._lastChunkSize=this._chunkSize;var t=this._MAX_REQUEST_TIME/n;if(n<this._MAX_REQUEST_TIME){var e=(t-1)*this._CHUNK_PROPORTION_UP_WEIGHT+1;this._chunkSize=Math.ceil(this._chunkSize*e)}else{var i=(t-1)*this._CHUNK_PROPORTION_DOWN_WEIGHT+1;this._chunkSize=Math.ceil(this._chunkSize*i),this._chunkSize<this._DEFAULT_CHUNK_SIZE&&(this._chunkSize=this._DEFAULT_CHUNK_SIZE)}}},{key:"applicationRoot",get:function(){return this._applicationRoot||(this._applicationRoot=rt.getApplicationRoot()),this._applicationRoot}}])&&et(t.prototype,e),i&&et(t,i),Object.defineProperty(t,"prototype",{writable:!1}),n}();function ct(n){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function lt(){lt=function(){return n};var n={},t=Object.prototype,e=t.hasOwnProperty,i=Object.defineProperty||function(n,t,e){n[t]=e.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(n,t,e){return Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}),n[t]}try{c({},"")}catch(n){c=function(n,t,e){return n[t]=e}}function l(n,t,e,r){var o=t&&t.prototype instanceof u?t:u,a=Object.create(o.prototype),s=new x(r||[]);return i(a,"_invoke",{value:y(n,e,s)}),a}function g(n,t,e){try{return{type:"normal",arg:n.call(t,e)}}catch(n){return{type:"throw",arg:n}}}n.wrap=l;var d={};function u(){}function m(){}function p(){}var f={};c(f,o,(function(){return this}));var h=Object.getPrototypeOf,w=h&&h(h(I([])));w&&w!==t&&e.call(w,o)&&(f=w);var _=p.prototype=u.prototype=Object.create(f);function v(n){["next","throw","return"].forEach((function(t){c(n,t,(function(n){return this._invoke(t,n)}))}))}function b(n,t){function r(i,o,a,s){var c=g(n[i],n,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==ct(d)&&e.call(d,"__await")?t.resolve(d.__await).then((function(n){r("next",n,a,s)}),(function(n){r("throw",n,a,s)})):t.resolve(d).then((function(n){l.value=n,a(l)}),(function(n){return r("throw",n,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(n,e){function i(){return new t((function(t,i){r(n,e,t,i)}))}return o=o?o.then(i,i):i()}})}function y(n,t,e){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return P()}for(e.method=r,e.arg=o;;){var a=e.delegate;if(a){var s=k(a,e);if(s){if(s===d)continue;return s}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===i)throw i="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);i="executing";var c=g(n,t,e);if("normal"===c.type){if(i=e.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(i="completed",e.method="throw",e.arg=c.arg)}}}function k(n,t){var e=t.method,i=n.iterator[e];if(void 0===i)return t.delegate=null,"throw"===e&&n.iterator.return&&(t.method="return",t.arg=void 0,k(n,t),"throw"===t.method)||"return"!==e&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+e+"' method")),d;var r=g(i,n.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[n.resultName]=o.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(n){var t={tryLoc:n[0]};1 in n&&(t.catchLoc=n[1]),2 in n&&(t.finallyLoc=n[2],t.afterLoc=n[3]),this.tryEntries.push(t)}function C(n){var t=n.completion||{};t.type="normal",delete t.arg,n.completion=t}function x(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(S,this),this.reset(!0)}function I(n){if(n){var t=n[o];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var i=-1,r=function t(){for(;++i<n.length;)if(e.call(n,i))return t.value=n[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:P}}function P(){return{value:void 0,done:!0}}return m.prototype=p,i(_,"constructor",{value:p,configurable:!0}),i(p,"constructor",{value:m,configurable:!0}),m.displayName=c(p,s,"GeneratorFunction"),n.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,p):(n.__proto__=p,c(n,s,"GeneratorFunction")),n.prototype=Object.create(_),n},n.awrap=function(n){return{__await:n}},v(b.prototype),c(b.prototype,a,(function(){return this})),n.AsyncIterator=b,n.async=function(t,e,i,r,o){void 0===o&&(o=Promise);var a=new b(l(t,e,i,r),o);return n.isGeneratorFunction(e)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},v(_),c(_,s,"Generator"),c(_,o,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),n.keys=function(n){var t=Object(n),e=[];for(var i in t)e.push(i);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},n.values=I,x.prototype={constructor:x,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!n)for(var t in this)"t"===t.charAt(0)&&e.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function i(e,i){return a.type="throw",a.arg=n,t.next=e,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=e.call(o,"catchLoc"),c=e.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(n,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===n||"continue"===n)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=n,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),d},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.finallyLoc===n)return this.complete(e.completion,e.afterLoc),C(e),d}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.tryLoc===n){var i=e.completion;if("throw"===i.type){var r=i.arg;C(e)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(n,t,e){return this.delegate={iterator:I(n),resultName:t,nextLoc:e},"next"===this.method&&(this.arg=void 0),d}},n}function gt(n,t,e,i,r,o,a){try{var s=n[o](a),c=s.value}catch(n){return void e(n)}s.done?t(c):Promise.resolve(c).then(i,r)}function dt(n){return function(){var t=this,e=arguments;return new Promise((function(i,r){var o=n.apply(t,e);function a(n){gt(o,i,r,a,s,"next",n)}function s(n){gt(o,i,r,a,s,"throw",n)}a(void 0)}))}}function ut(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,(r=i.key,o=void 0,o=function(n,t){if("object"!==ct(n)||null===n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var i=e.call(n,t||"default");if("object"!==ct(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(r,"string"),"symbol"===ct(o)?o:String(o)),i)}var r,o}var mt=Shopware,pt=mt.Application,ft=mt.State,ht="swagMigrationAccessToken",wt=Object.freeze({TAKEOVER:"takeover",STOP:"stop",PAUSE:"pause",CONNECTION_LOST:"connectionLost"}),_t=function(){function n(t,e){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._broadcastResponseFlag=!1,this._broadcastService=new Zn(this._onBroadcastReceived.bind(this),"swag-migration-service"),this._migrationService=t,this._migrationIndexingWorker=e,this._workerStatusManager=new d(this._migrationService),this._workRunner=null,this._migrationProcessState=ft.get("swagMigration/process"),this._interruptSubscriber=null,this._restoreState={},window.addEventListener("beforeunload",this.onBrowserTabClosing.bind(this))}var t,e,i;return t=n,i=[{key:"migrationAccessToken",get:function(){var n=localStorage.getItem(ht);return null===n&&(n=""),n}}],(e=[{key:"onBrowserTabClosing",value:function(n){return this._migrationProcessState.isMigrating&&this._migrationProcessState.statusIndex!==l.FINISHED?(n.preventDefault(),n.returnValue="",""):""}},{key:"_onInterrupt",value:function(n){ft.commit("swagMigration/process/setIsMigrating",!1),this._callInterruptSubscriber(n)}},{key:"checkForRunningMigration",value:function(){var t=this;return new Promise((function(e){t._migrationService.getState({swagMigrationAccessToken:n.migrationAccessToken}).then((function(n){e(t.processStateResponse(n))})).catch((function(n){var i={runUuid:null,isMigrationRunning:!1,isMigrationAccessTokenValid:!1,status:null,accessToken:null,requestErrorCode:void 0!==n&&void 0!==n.response?n.response.code:""};i.isMigrationAccessTokenValid=!0,t._restoreState={},e(i)}))}))}},{key:"createMigration",value:function(n){var t=this;return new Promise((function(e){t._migrationService.createMigration(t._migrationProcessState.connectionId,n).then((function(n){var i=t.processStateResponse(n);!1===i.isMigrationRunning&&!0===i.isMigrationAccessTokenValid&&ft.commit("swagMigration/process/setStatusIndex",l.PREMAPPING),ft.commit("swagMigration/process/setRunId",i.runUuid),e(i)})).catch((function(){t._restoreState={},e({runUuid:null,isMigrationRunning:!1,isMigrationAccessTokenValid:!0,status:null,accessToken:null})}))}))}},{key:"processStateResponse",value:function(n){var t={runUuid:null,isMigrationRunning:!1,isMigrationAccessTokenValid:!1,status:null,accessToken:null,runProgress:null};return this._restoreState=n,t.runUuid=n.runId,t.accessToken=n.accessToken,t.runProgress=n.runProgress,!1===n.validMigrationRunToken?(ft.commit("swagMigration/process/setRunId",n.runId),t.isMigrationRunning=!0,t.status=n.status,t):!0===n.migrationRunning?(ft.commit("swagMigration/process/setRunId",this._restoreState.runId),t.isMigrationRunning=!0,t.isMigrationAccessTokenValid=!0,t.status=n.status,t):(t.isMigrationAccessTokenValid=!0,t)}},{key:"restoreRunningMigration",value:function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null!==this._restoreState&&this._restoreState!=={}&&!1!==this._restoreState.migrationRunning&&(ft.commit("swagMigration/process/setRunId",this._restoreState.runId),ft.commit("swagMigration/process/setEntityGroups",this._restoreState.runProgress),ft.commit("swagMigration/process/setStatusIndex",this._restoreState.status),n)){var t=this._getIndiciesByEntityName(this._restoreState.entity);this.startMigration(this._migrationProcessState.runId,this._migrationProcessState.statusIndex,t.groupIndex,t.entityIndex,this._restoreState.finishedCount)}}},{key:"stopMigration",value:function(){null!==this._workRunner?this._workRunner.interrupt=wt.STOP:this._callInterruptSubscriber(wt.STOP)}},{key:"pauseMigration",value:function(){this._workRunner.interrupt=wt.PAUSE}},{key:"takeoverMigration",value:function(){var n=this;return new Promise((function(t){n._migrationService.takeoverMigration(n._migrationProcessState.runId).then((function(n){localStorage.setItem(ht,n.accessToken),t()}))}))}},{key:"_getIndiciesByEntityName",value:function(n){for(var t=0;t<this._migrationProcessState.entityGroups.length;t+=1)for(var e=0;e<this._migrationProcessState.entityGroups[t].entities.length;e+=1)if(this._migrationProcessState.entityGroups[t].entities[e].entityName===n)return{groupIndex:t,entityIndex:e};return{groupIndex:-1,entityIndex:-1}}},{key:"subscribeInterrupt",value:function(n){this._interruptSubscriber=n}},{key:"unsubscribeInterrupt",value:function(){this._interruptSubscriber=null}},{key:"_callInterruptSubscriber",value:function(n){null!==this._interruptSubscriber&&this._interruptSubscriber(n)}},{key:"startMigration",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.FETCH_DATA,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return new Promise(function(){var s=dt(lt().mark((function s(c){var g,d;return lt().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(ft.commit("swagMigration/process/setIsMigrating",!0),ft.commit("swagMigration/process/setRunId",t),g=!1,e._migrationProcessState.entityGroups.forEach((function(n){n.processMediaFiles&&(g=!0)})),d={swagMigrationAccessToken:n.migrationAccessToken,runUuid:e._migrationProcessState.runId},e._workRunner=new st(d,e._workerStatusManager,e._migrationService,e._onInterrupt.bind(e)),!(i<=l.FETCH_DATA)){s.next=12;break}return s.next=9,e._startWorkRunner(l.FETCH_DATA,r,o,a);case 9:r=0,o=0,a=0;case 12:if(!(i<=l.WRITE_DATA)){s.next=18;break}return s.next=15,e._startWorkRunner(l.WRITE_DATA,r,o,a);case 15:r=0,o=0,a=0;case 18:if(!(i<=l.PROCESS_MEDIA_FILES&&g)){s.next=24;break}return s.next=21,e._startWorkRunner(l.PROCESS_MEDIA_FILES,r,o,a);case 21:r=0,o=0,a=0;case 24:return s.next=26,e._migrateFinish();case 26:c();case 27:case"end":return s.stop()}}),s)})));return function(n){return s.apply(this,arguments)}}())}},{key:"_startWorkRunner",value:function(n,t,e,i){var r=this;return new Promise(function(){var o=dt(lt().mark((function o(a){return lt().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(r._migrationProcessState.isMigrating){o.next=3;break}return a(),o.abrupt("return");case 3:return 0===t&&0===e&&0===i&&r._resetProgress(),o.next=6,r._workRunner.migrateProcess(n,t,e,i);case 6:a();case 7:case"end":return o.stop()}}),o)})));return function(n){return o.apply(this,arguments)}}())}},{key:"isMigrationRunningInOtherTab",value:function(){var n=this;return new Promise(function(){var t=dt(lt().mark((function t(e){var i;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n._broadcastService.sendMessage({migrationMessage:"migrationWanted"}),i=n._broadcastResponseFlag,setTimeout((function(){n._broadcastResponseFlag===i?e(!1):e(!0)}),300);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}())}},{key:"_onBroadcastReceived",value:function(n){"migrationWanted"===n.migrationMessage&&this._migrationProcessState.isMigrating&&this._broadcastService.sendMessage({migrationMessage:"migrationDenied"}),"migrationDenied"===n.migrationMessage&&(this._broadcastResponseFlag=!this._broadcastResponseFlag)}},{key:"_migrateFinish",value:function(){var n=this;return this._migrationProcessState.isMigrating?this._workerStatusManager.changeStatus(this._migrationProcessState.runId,l.FINISHED).then((function(){return n._showFinishNotification(n._migrationProcessState.runId),n._resetProgress(),n._assignThemes().finally((function(){n._handleIndexing()})),Promise.resolve()})):Promise.resolve()}},{key:"_showFinishNotification",value:function(n){ft.dispatch("notification/createNotification",{title:this.applicationRoot.$t("swag-migration.index.loadingScreenCard.result.notification.title"),message:this.applicationRoot.$t("swag-migration.index.loadingScreenCard.result.notification.message"),variant:"info",growl:!1,actions:[{label:this.applicationRoot.$t("swag-migration.index.loadingScreenCard.result.notification.actionLabel"),route:{name:"swag.migration.index.history.detail",params:{id:n}}}]})}},{key:"_assignThemes",value:function(){return this._migrationService.assignThemes(this._migrationProcessState.runId)}},{key:"_handleIndexing",value:function(){var n=this,t=null;ft.dispatch("notification/createNotification",{title:this.applicationRoot.$t("swag-migration.index.loadingScreenCard.result.indexingNotification.running.title"),message:this.applicationRoot.$t("swag-migration.index.loadingScreenCard.result.indexingNotification.running.message"),variant:"info",isLoading:!0,growl:!1}).then((function(e){return t=e,n._migrationIndexingWorker.start()})).then((function(){ft.dispatch("notification/updateNotification",{uuid:t,title:n.applicationRoot.$t("swag-migration.index.loadingScreenCard.result.indexingNotification.finished.title"),message:n.applicationRoot.$t("swag-migration.index.loadingScreenCard.result.indexingNotification.finished.message"),variant:"info",isLoading:!1,visited:!1,growl:!0})}))}},{key:"_resetProgress",value:function(){ft.commit("swagMigration/process/resetProgress")}},{key:"applicationRoot",get:function(){return this._applicationRoot||(this._applicationRoot=pt.getApplicationRoot()),this._applicationRoot}}])&&ut(t.prototype,e),i&&ut(t,i),Object.defineProperty(t,"prototype",{writable:!1}),n}();function vt(n){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function bt(){bt=function(){return n};var n={},t=Object.prototype,e=t.hasOwnProperty,i=Object.defineProperty||function(n,t,e){n[t]=e.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(n,t,e){return Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}),n[t]}try{c({},"")}catch(n){c=function(n,t,e){return n[t]=e}}function l(n,t,e,r){var o=t&&t.prototype instanceof u?t:u,a=Object.create(o.prototype),s=new x(r||[]);return i(a,"_invoke",{value:y(n,e,s)}),a}function g(n,t,e){try{return{type:"normal",arg:n.call(t,e)}}catch(n){return{type:"throw",arg:n}}}n.wrap=l;var d={};function u(){}function m(){}function p(){}var f={};c(f,o,(function(){return this}));var h=Object.getPrototypeOf,w=h&&h(h(I([])));w&&w!==t&&e.call(w,o)&&(f=w);var _=p.prototype=u.prototype=Object.create(f);function v(n){["next","throw","return"].forEach((function(t){c(n,t,(function(n){return this._invoke(t,n)}))}))}function b(n,t){function r(i,o,a,s){var c=g(n[i],n,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==vt(d)&&e.call(d,"__await")?t.resolve(d.__await).then((function(n){r("next",n,a,s)}),(function(n){r("throw",n,a,s)})):t.resolve(d).then((function(n){l.value=n,a(l)}),(function(n){return r("throw",n,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(n,e){function i(){return new t((function(t,i){r(n,e,t,i)}))}return o=o?o.then(i,i):i()}})}function y(n,t,e){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return P()}for(e.method=r,e.arg=o;;){var a=e.delegate;if(a){var s=k(a,e);if(s){if(s===d)continue;return s}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===i)throw i="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);i="executing";var c=g(n,t,e);if("normal"===c.type){if(i=e.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(i="completed",e.method="throw",e.arg=c.arg)}}}function k(n,t){var e=t.method,i=n.iterator[e];if(void 0===i)return t.delegate=null,"throw"===e&&n.iterator.return&&(t.method="return",t.arg=void 0,k(n,t),"throw"===t.method)||"return"!==e&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+e+"' method")),d;var r=g(i,n.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[n.resultName]=o.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(n){var t={tryLoc:n[0]};1 in n&&(t.catchLoc=n[1]),2 in n&&(t.finallyLoc=n[2],t.afterLoc=n[3]),this.tryEntries.push(t)}function C(n){var t=n.completion||{};t.type="normal",delete t.arg,n.completion=t}function x(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(S,this),this.reset(!0)}function I(n){if(n){var t=n[o];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var i=-1,r=function t(){for(;++i<n.length;)if(e.call(n,i))return t.value=n[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:P}}function P(){return{value:void 0,done:!0}}return m.prototype=p,i(_,"constructor",{value:p,configurable:!0}),i(p,"constructor",{value:m,configurable:!0}),m.displayName=c(p,s,"GeneratorFunction"),n.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,p):(n.__proto__=p,c(n,s,"GeneratorFunction")),n.prototype=Object.create(_),n},n.awrap=function(n){return{__await:n}},v(b.prototype),c(b.prototype,a,(function(){return this})),n.AsyncIterator=b,n.async=function(t,e,i,r,o){void 0===o&&(o=Promise);var a=new b(l(t,e,i,r),o);return n.isGeneratorFunction(e)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},v(_),c(_,s,"Generator"),c(_,o,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),n.keys=function(n){var t=Object(n),e=[];for(var i in t)e.push(i);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},n.values=I,x.prototype={constructor:x,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!n)for(var t in this)"t"===t.charAt(0)&&e.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function i(e,i){return a.type="throw",a.arg=n,t.next=e,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=e.call(o,"catchLoc"),c=e.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(n,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===n||"continue"===n)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=n,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),d},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.finallyLoc===n)return this.complete(e.completion,e.afterLoc),C(e),d}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.tryLoc===n){var i=e.completion;if("throw"===i.type){var r=i.arg;C(e)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(n,t,e){return this.delegate={iterator:I(n),resultName:t,nextLoc:e},"next"===this.method&&(this.arg=void 0),d}},n}function yt(n,t,e,i,r,o,a){try{var s=n[o](a),c=s.value}catch(n){return void e(n)}s.done?t(c):Promise.resolve(c).then(i,r)}function kt(n){return function(){var t=this,e=arguments;return new Promise((function(i,r){var o=n.apply(t,e);function a(n){yt(o,i,r,a,s,"next",n)}function s(n){yt(o,i,r,a,s,"throw",n)}a(void 0)}))}}function St(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,i)}return e}function Ct(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?St(Object(e),!0).forEach((function(t){xt(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):St(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function xt(n,t,e){return(t=function(n){var t=function(n,t){if("object"!==vt(n)||null===n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var i=e.call(n,t||"default");if("object"!==vt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"===vt(t)?t:String(t)}(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var It=Shopware,Pt=It.Component,Mt=It.State,Et=It.Mixin,Rt=Shopware.Component.getComponentHelper().mapState;Pt.register("swag-migration-process-screen",{template:'{% block swag_migration_process_screen %}\n    <sw-page class="swag-migration-process-screen">\n\n        {% block swag_migration_index_smart_bar_header %}\n            <template #smart-bar-header>\n                <h2>\n                    {{ $tc(\'sw-settings.index.title\') }}\n                    <sw-icon name="regular-chevron-right-xs" small></sw-icon>\n                    {{ $tc(\'swag-migration.general.mainMenuItemGeneral\') }}\n                </h2>\n            </template>\n        {% endblock %}\n\n        {% block swag_migration_index_smart_bar_actions %}\n            <template #smart-bar-actions>\n\n                {% block swag_migration_index_smart_bar_abort_button %}\n                    <sw-button v-if="abortButtonVisible" @click="onAbortButtonClick">\n                        {{ $tc(\'swag-migration.index.abortButton\') }}\n                    </sw-button>\n                {% endblock %}\n\n                {% block swag_migration_index_smart_bar_back_button %}\n                    <sw-button v-if="backButtonVisible"\n                               variant="primary"\n                               @click="onBackButtonClick">\n                        {{ $tc(\'swag-migration.index.backButton\') }}\n                    </sw-button>\n                {% endblock %}\n\n                {% block swag_migration_index_smart_bar_pause_button %}\n                    <sw-button v-if="pauseButtonVisible"\n                               variant="primary"\n                               :disabled="pauseButtonDisabled"\n                               @click="onPauseButtonClick">\n                        {{ $tc(\'swag-migration.index.pauseButton\') }}\n                    </sw-button>\n                {% endblock %}\n\n                {% block swag_migration_index_smart_bar_continue_button %}\n                    <sw-button v-if="continueButtonVisible"\n                               variant="primary"\n                               @click="onContinueButtonClick">\n                        {{ $tc(\'swag-migration.index.continueButton\') }}\n                    </sw-button>\n                {% endblock %}\n\n                {% block swag_migration_index_smart_bar_button_group %}\n                    <sw-button-group\n                        v-if="startButtonVisible"\n                        :splitButton="true">\n\n                        {% block swag_migration_index_smart_bar_start_button %}\n                            <sw-button variant="primary"\n                                       :disabled="startButtonDisabled"\n                                       @click="onStartButtonClick">\n                                {{ $tc(\'swag-migration.index.startButton\') }}\n                            </sw-button>\n                        {% endblock %}\n\n                        {% block swag_migration_index_smart_bar_context_button %}\n                            <sw-context-button :disabled="isLoading">\n                                <template slot="button">\n\n                                    {% block swag_migration_index_smart_bar_context_button_content %}\n                                        <sw-button square\n                                            variant="primary"\n                                            :disabled="isLoading">\n                                            <sw-icon name="regular-chevron-down-xs" size="10"></sw-icon>\n                                        </sw-button>\n                                    {% endblock %}\n                                </template>\n\n                                {% block swag_migration_index_smart_bar_premapping_save_button %}\n                                    <sw-context-menu-item @click="onSaveButtonClick"\n                                                          :disabled="isLoading">\n                                        {{ $tc(\'swag-migration.index.savePremapping.saveButton\') }}\n                                    </sw-context-menu-item>\n                                {% endblock %}\n                            </sw-context-button>\n                        {% endblock %}\n\n                    </sw-button-group>\n                {% endblock %}\n\n            </template>\n        {% endblock %}\n\n        <template #content>\n            <sw-card-view v-if="!isLoading" class="swag-migration-process-screen">\n\n                {% block swag_migration_index_main_page_flow_chart %}\n                    <sw-step-display v-if="displayFlowChart && componentIndex !== UI_COMPONENT_INDEX.WARNING_CONFIRM"\n                                     class="swag-migration-process-screen__step-display"\n                                     :itemIndex="flowChartItemIndex"\n                                     :itemVariant="flowChartItemVariant"\n                                     :initialItemVariants="flowChartInitialItemVariants">\n                        <sw-step-item>\n                            {{ $tc(\'swag-migration.index.loadingScreenCard.flowChart.premapping\') }}\n                        </sw-step-item>\n                        <sw-step-item>\n                            {{ $tc(\'swag-migration.index.loadingScreenCard.flowChart.fetchData\') }}\n                        </sw-step-item>\n                        <sw-step-item>\n                            {{ $tc(\'swag-migration.index.loadingScreenCard.flowChart.writeData\') }}\n                        </sw-step-item>\n                        <sw-step-item>\n                            {{ $tc(\'swag-migration.index.loadingScreenCard.flowChart.processMedia\') }}\n                        </sw-step-item>\n                        <sw-step-item disabledIcon="regular-checkmark-xs">\n                            {{ $tc(\'swag-migration.index.loadingScreenCard.flowChart.finish\') }}\n                        </sw-step-item>\n                    </sw-step-display>\n                {% endblock %}\n\n                {% block swag_migration_index_main_page_card_confirm_warning %}\n                    <swag-migration-confirm-warning v-if="componentIndex === UI_COMPONENT_INDEX.WARNING_CONFIRM"\n                                                    class="swag-migration-process-screen__confirm-warning"\n                                                    @confirmation-change="onWarningConfirmationChanged">\n                    </swag-migration-confirm-warning>\n                {% endblock %}\n\n                {% block swag_migration_index_main_page_card_premapping %}\n                    <swag-migration-premapping v-if="componentIndex === UI_COMPONENT_INDEX.PREMAPPING">\n                    </swag-migration-premapping>\n                {% endblock %}\n\n                {% block swag_migration_index_main_page_card_loadingScreen %}\n                    <swag-migration-loading-screen\n                            v-if="componentIndex === UI_COMPONENT_INDEX.LOADING_SCREEN || componentIndex === UI_COMPONENT_INDEX.PAUSE_SCREEN">\n                    </swag-migration-loading-screen>\n                {% endblock %}\n\n                {% block swag_migration_index_main_page_card_loadingScreen_media %}\n                    <swag-migration-media-process v-if="componentIndex === UI_COMPONENT_INDEX.MEDIA_SCREEN">\n                    </swag-migration-media-process>\n                {% endblock %}\n\n                {% block swag_migration_index_main_page_card_loadingScreen_success %}\n                    <swag-migration-result-screen v-if="componentIndex === UI_COMPONENT_INDEX.RESULT_SUCCESS"\n                                                  :runId="runId">\n                    </swag-migration-result-screen>\n                {% endblock %}\n\n                {% block swag_migration_index_main_page_card_loadingScreen_takeover %}\n                    <swag-migration-loading-screen-takeover v-if="componentIndex === UI_COMPONENT_INDEX.TAKEOVER"\n                                                            ref="loadingScreenTakeover"\n                                                            :isTakeoverForbidden="isTakeoverForbidden"\n                                                            :isMigrationInterrupted="isMigrationInterrupted"\n                                                            @onTakeoverMigration="onTakeoverMigration"\n                                                            @onAbortMigration="onAbortOtherMigration">\n                    </swag-migration-loading-screen-takeover>\n                {% endblock %}\n\n                {% block swag_migration_index_main_page_card_loadingScreen_connectionLost %}\n                    <swag-migration-loading-screen-connection-lost v-if="componentIndex === UI_COMPONENT_INDEX.CONNECTION_LOST">\n                    </swag-migration-loading-screen-connection-lost>\n                {% endblock %}\n\n                {% block swag_migration_index_main_page_modal_abort_migration_confirmDialog %}\n                    <sw-modal v-if="showAbortMigrationConfirmDialog"\n                              class="swag-migration-index-modal-abort-migration-confirm-dialog"\n                              :title="$tc(\'swag-migration.index.confirmAbortDialog.title\')"\n                              variant="small"\n                              @modal-close="onCloseAbortMigrationConfirmDialog">\n\n                        {% block swag_migration_index_main_page_modal_abort_migration_confirmDialog_message %}\n                            <p class="swag-migration-index-modal-abort-migration-confirm-dialog-content">\n                                {{ $tc(\'swag-migration.index.confirmAbortDialog.content\') }}\n                            </p>\n                        {% endblock %}\n\n                        {% block swag_migration_index_main_page_modal_abort_migration_confirmDialog_message_hint %}\n                            <p class="swag-migration-index-modal-abort-migration-confirm-dialog-hint">\n                                {{ $tc(\'swag-migration.index.confirmAbortDialog.hint\') }}\n                            </p>\n                        {% endblock %}\n\n                        {% block swag_migration_index_main_page_modal_abort_migration_confirmDialog_footer %}\n                            <template #modal-footer>\n\n                                {% block swag_migration_index_main_page_modal_abort_migration_confirmDialog_footer_cancelAction %}\n                                    <sw-button size="small" @click="onCloseAbortMigrationConfirmDialog">\n                                        {{ abortMigrationBackText }}\n                                    </sw-button>\n                                {% endblock %}\n\n                                {% block swag_migration_index_main_page_modal_abort_migration_confirmDialog_footer_confirmAction %}\n                                    <sw-button variant="primary" size="small" @click="onStop">\n                                        {{ $tc(\'swag-migration.index.confirmAbortDialog.confirm\') }}\n                                    </sw-button>\n                                {% endblock %}\n                            </template>\n                        {% endblock %}\n                    </sw-modal>\n                {% endblock %}\n            </sw-card-view>\n            <sw-loader v-if="isLoading"></sw-loader>\n        </template>\n    </sw-page>\n{% endblock %}\n',inject:{migrationService:"migrationService",migrationWorkerService:"migrationWorkerService",migrationProcessStoreInitService:"processStoreInitService",migrationUiStoreInitService:"uiStoreInitService"},mixins:[Et.getByName("notification")],data:function(){return{errorList:[],isTakeoverForbidden:!1,isMigrationInterrupted:!1,isOtherMigrationRunning:!1,showAbortMigrationConfirmDialog:!1,isPausedBeforeAbortDialog:!1,UI_COMPONENT_INDEX:q,displayFlowChart:!0,flowChartItemIndex:0,flowChartItemVariant:"info",flowChartInitialItemVariants:[],isWarningConfirmed:!1}},metaInfo:function(){return{title:this.$createTitle()}},computed:Ct(Ct(Ct({},Rt("swagMigration/process",["statusIndex","isMigrating","connectionId","environmentInformation","runId"])),Rt("swagMigration/ui",["componentIndex","isPaused","isLoading","isPremappingValid","unfilledPremapping","premapping","dataSelectionIds"])),{},{abortMigrationBackText:function(){return this.isPausedBeforeAbortDialog?this.$tc("swag-migration.index.confirmAbortDialog.cancelPause"):this.$tc("swag-migration.index.confirmAbortDialog.cancelRunning")},componentIndexIsResult:function(){return this.componentIndex===q.RESULT_SUCCESS},abortButtonVisible:function(){return this.isPaused||this.isMigrating&&!this.isLoading&&!this.componentIndexIsResult},backButtonVisible:function(){return this.componentIndexIsResult},migrateButtonVisible:function(){return!this.isMigrating&&!this.isPaused||this.statusIndex===l.FETCH_DATA&&this.isMigrating||this.componentIndexIsResult&&this.isMigrating},isFetching:function(){return this.statusIndex===l.FETCH_DATA&&this.isMigrating},migrateButtonDisabled:function(){return this.isLoading||this.isFetching||this.componentIndexIsResult},startButtonVisible:function(){return!this.isLoading&&this.statusIndex===l.PREMAPPING&&this.isMigrating},premappingIsNotReady:function(){return this.statusIndex===l.PREMAPPING&&this.componentIndex!==q.WARNING_CONFIRM&&this.isMigrating&&!this.isPremappingValid},warningIsNotReady:function(){return this.componentIndex===q.WARNING_CONFIRM&&!1===this.isWarningConfirmed},startButtonDisabled:function(){return this.isLoading||this.premappingIsNotReady||this.warningIsNotReady},pauseButtonVisible:function(){return this.isMigrating&&!this.isPaused&&!this.componentIndexIsResult&&!1===[l.WAITING,l.PREMAPPING].includes(this.statusIndex)},pauseButtonDisabled:function(){return this.isLoading},continueButtonVisible:function(){return this.isPaused}}),watch:{statusIndex:{immediate:!0,handler:function(n){var t=this;this.isLoading||n!==l.WAITING&&(n!==l.PREMAPPING?(this.$nextTick((function(){if(t.flowChartItemIndex=n,n!==l.FINISHED?t.flowChartItemVariant="info":t.flowChartItemVariant="success",t.flowChartInitialItemVariants.length<t.flowChartItemIndex)for(;t.flowChartInitialItemVariants.length<t.flowChartItemIndex;)t.flowChartInitialItemVariants.push("success")})),n===l.PROCESS_MEDIA_FILES&&this.onProcessMediaFiles(),n===l.FINISHED&&(this.isOtherMigrationRunning=!1,this.onFinishWithoutErrors())):this.$nextTick((function(){t.flowChartItemIndex=n})))}},isPremappingValid:{handler:function(n){this.flowChartItemVariant=n?"success":"error"}}},created:function(){this.createdComponent()},beforeDestroy:function(){this.beforeDestroyedComponent()},methods:{createdComponent:function(){var n=this;return kt(bt().mark((function t(){var e;return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Mt.commit("swagMigration/ui/setIsLoading",!0),e=n.isMigrating,!1!==n.isMigrating){t.next=8;break}return t.next=5,n.migrationWorkerService.isMigrationRunningInOtherTab().then((function(t){t&&(e=!0,n.isTakeoverForbidden=!0,n.onInvalidMigrationAccessToken())}));case 5:if(n.isTakeoverForbidden){t.next=8;break}return t.next=8,n.migrationWorkerService.checkForRunningMigration().then((function(t){if(!1===t.isMigrationAccessTokenValid&&!0===t.isMigrationRunning)return e=!0,void n.onInvalidMigrationAccessToken();Mt.commit("swagMigration/ui/setIsPaused",t.isMigrationRunning),n.isPaused&&(e=!0,Mt.commit("swagMigration/ui/setComponentIndex",q.LOADING_SCREEN)),n.restoreFlowChart(t.status)}));case 8:if(null!==n.connectionId&&null!==n.environmentInformation){t.next=11;break}return t.next=11,n.migrationProcessStoreInitService.initProcessStore();case 11:if(null!==n.connectionId){t.next=14;break}return n.$router.push({name:"swag.migration.wizard.introduction"}),t.abrupt("return",Promise.resolve());case 14:return t.abrupt("return",n.migrationService.checkConnection(n.connectionId).then(function(){var t=kt(bt().mark((function t(i){return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Mt.commit("swagMigration/process/setEnvironmentInformation",i),(!1!==i.requestStatus.isWarning||""===i.requestStatus.code)&&(e||n.$route.params.startMigration)){t.next=4;break}return n.$router.push({name:"swag.migration.index.main"}),t.abrupt("return",Promise.resolve());case 4:if(n.migrationWorkerService.restoreRunningMigration(!1),!n.isMigrating&&n.migrationWorkerService.status!==l.FINISHED||n.$route.params.startMigration||n.restoreRunningMigration(),!n.$route.params.startMigration){t.next=9;break}return t.next=9,n.onMigrate();case 9:return Mt.commit("swagMigration/ui/setIsLoading",!1),t.abrupt("return",Promise.resolve());case 11:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()).catch((function(){Mt.commit("swagMigration/ui/setIsLoading",!1)})));case 15:case"end":return t.stop()}}),t)})))()},beforeDestroyedComponent:function(){this.migrationWorkerService.unsubscribeInterrupt()},restoreFlowChart:function(n){this.flowChartItemIndex=n,n!==l.FINISHED?this.flowChartItemVariant="info":this.flowChartItemVariant="success",n===l.PREMAPPING&&this.unfilledPremapping.length>0&&(this.flowChartItemVariant="error"),this.flowChartInitialItemVariants=[];for(var t=0;t<n;t+=1)this.flowChartInitialItemVariants.push("success")},resetFlowChart:function(){this.flowChartItemIndex=0,this.flowChartItemVariant="info",this.flowChartInitialItemVariants=[]},restoreRunningMigration:function(){this.displayFlowChart=!0,this.statusIndex===l.PREMAPPING&&this.componentIndex===q.WARNING_CONFIRM?Mt.commit("swagMigration/ui/setComponentIndex",q.WARNING_CONFIRM):this.statusIndex===l.PREMAPPING?Mt.commit("swagMigration/ui/setComponentIndex",q.PREMAPPING):this.statusIndex===l.PROCESS_MEDIA_FILES?this.onProcessMediaFiles():this.statusIndex===l.FINISHED?this.onFinishWithoutErrors():Mt.commit("swagMigration/ui/setComponentIndex",q.LOADING_SCREEN),this.statusIndex!==l.WAITING&&this.restoreFlowChart(this.statusIndex),this.migrationWorkerService.subscribeInterrupt(this.onInterrupt)},onAbortButtonClick:function(){if(this.isOtherMigrationRunning=!1,this.statusIndex===l.PREMAPPING)return Mt.commit("swagMigration/ui/setIsLoading",!0),void this.onInterrupt(wt.STOP);this.showAbortMigrationConfirmDialog=!0,this.isPausedBeforeAbortDialog=this.isPaused,this.isPaused||(Mt.commit("swagMigration/ui/setIsLoading",!0),this.migrationWorkerService.pauseMigration())},onSaveButtonClick:function(){var n=this;this.migrationService.writePremapping(this.runId,this.premapping).then((function(){n.createNotificationSuccess({message:n.$t("swag-migration.index.savePremapping.message"),growl:!0})}))},onBackButtonClick:function(){this.migrationWorkerService.status=l.WAITING,Mt.commit("swagMigration/process/setIsMigrating",!1),this.isOtherMigrationRunning=!1,this.$router.push({name:"swag.migration.index.main"})},onStartButtonClick:function(){var n=this;return this.componentIndex===q.WARNING_CONFIRM?(Mt.commit("swagMigration/ui/setComponentIndex",q.PREMAPPING),Promise.resolve()):(Mt.commit("swagMigration/ui/setIsLoading",!0),this.migrationService.writePremapping(this.runId,this.premapping).then((function(){return Mt.commit("swagMigration/ui/setComponentIndex",q.LOADING_SCREEN),Mt.commit("swagMigration/ui/setIsLoading",!1),n.migrationWorkerService.startMigration(n.runId).then((function(){Mt.commit("swagMigration/ui/setIsLoading",!1)})).catch((function(){n.onInvalidMigrationAccessToken()}))})))},onPauseButtonClick:function(){this.migrationWorkerService.pauseMigration(),Mt.commit("swagMigration/process/setIsMigrating",!1),Mt.commit("swagMigration/ui/setIsLoading",!0)},onContinueButtonClick:function(){var n=this;return kt(bt().mark((function t(){return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Mt.commit("swagMigration/ui/setIsLoading",!0),n.isOtherMigrationRunning=!1,Mt.commit("swagMigration/process/setIsMigrating",!0),t.next=5,n.migrationWorkerService.isMigrationRunningInOtherTab().then((function(t){t&&(Mt.commit("swagMigration/ui/setIsLoading",!1),n.isTakeoverForbidden=!0,n.onInvalidMigrationAccessToken())}));case 5:if(n.isTakeoverForbidden){t.next=8;break}return t.next=8,n.migrationWorkerService.checkForRunningMigration().then((function(t){if(void 0===t.requestErrorCode||"500"===t.requestErrorCode)if(Mt.commit("swagMigration/ui/setIsLoading",!1),Mt.commit("swagMigration/ui/setIsPaused",!1),!1!==t.isMigrationAccessTokenValid){if(!1===t.isMigrationRunning)return Mt.commit("swagMigration/process/setIsMigrating",!1),void n.$router.push({name:"swag.migration.index.main"});n.migrationWorkerService.restoreRunningMigration(),n.restoreRunningMigration()}else n.onInterrupt(wt.TAKEOVER);else Mt.commit("swagMigration/ui/setIsLoading",!1)}));case 8:case"end":return t.stop()}}),t)})))()},onMigrate:function(){var n=this;return kt(bt().mark((function t(){return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.isOtherMigrationRunning=!1,n.$nextTick().then(kt(bt().mark((function t(){var e;return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.resetFlowChart(),Mt.commit("swagMigration/process/setIsMigrating",!0),n.errorList=[],Mt.commit("swagMigration/ui/setIsLoading",!0),Mt.commit("swagMigration/process/resetProgress"),e=!1,t.next=8,n.migrationWorkerService.isMigrationRunningInOtherTab().then((function(n){e=n}));case 8:if(!e){t.next=13;break}return Mt.commit("swagMigration/ui/setIsLoading",!1),n.isTakeoverForbidden=!0,n.onInvalidMigrationAccessToken(),t.abrupt("return");case 13:return n.migrationWorkerService.subscribeInterrupt(n.onInterrupt.bind(n)),t.next=16,n.migrationWorkerService.createMigration(n.dataSelectionIds).then((function(t){Mt.commit("swagMigration/process/setEntityGroups",t.runProgress),!1!==t.isMigrationAccessTokenValid&&!0!==t.isMigrationRunning&&null!==t.runUuid&&null!==t.accessToken?(localStorage.setItem(ht,t.accessToken),Mt.commit("swagMigration/process/setRunId",t.runUuid),""===n.environmentInformation.sourceSystemCurrency||""===n.environmentInformation.targetSystemCurrency||""===n.environmentInformation.sourceSystemLocale||""===n.environmentInformation.targetSystemLocale||n.environmentInformation.sourceSystemCurrency===n.environmentInformation.targetSystemCurrency&&n.environmentInformation.sourceSystemLocale===n.environmentInformation.targetSystemLocale?Mt.commit("swagMigration/ui/setComponentIndex",q.PREMAPPING):Mt.commit("swagMigration/ui/setComponentIndex",q.WARNING_CONFIRM),Mt.commit("swagMigration/ui/setIsLoading",!1)):n.onInvalidMigrationAccessToken()}));case 16:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t)})))()},onFinishWithoutErrors:function(){Mt.commit("swagMigration/ui/setComponentIndex",q.RESULT_SUCCESS),this.$root.$emit("sales-channel-change"),this.$root.$emit("on-change-notification-center-visibility",!0)},onCloseAbortMigrationConfirmDialog:function(){var n=this;this.showAbortMigrationConfirmDialog=!1,this.isPausedBeforeAbortDialog||this.$nextTick((function(){n.onContinueButtonClick()}))},onTakeoverMigration:function(){var n=this;return kt(bt().mark((function t(){return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Mt.commit("swagMigration/process/setIsMigrating",!0),Mt.commit("swagMigration/ui/setIsLoading",!0),t.next=4,n.migrationWorkerService.isMigrationRunningInOtherTab().then((function(t){t&&(Mt.commit("swagMigration/ui/setIsLoading",!1),n.isTakeoverForbidden=!0,n.onInvalidMigrationAccessToken())}));case 4:if(!n.isTakeoverForbidden){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,n.migrationWorkerService.checkForRunningMigration().then((function(t){if(!1===t.isMigrationRunning)return Mt.commit("swagMigration/process/setIsMigrating",!1),Mt.commit("swagMigration/ui/setIsLoading",!1),n.isOtherMigrationRunning=!1,void n.$router.push({name:"swag.migration.index.main"});n.migrationWorkerService.takeoverMigration(t.runUuid).then((function(){Mt.commit("swagMigration/ui/setIsLoading",!1),n.migrationWorkerService.restoreRunningMigration(),n.restoreRunningMigration()}))}));case 8:case"end":return t.stop()}}),t)})))()},onAbortOtherMigration:function(){var n=this;return kt(bt().mark((function t(){return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Mt.commit("swagMigration/ui/setIsLoading",!0),Mt.commit("swagMigration/process/setIsMigrating",!0),t.next=4,n.migrationWorkerService.isMigrationRunningInOtherTab().then((function(t){t&&(Mt.commit("swagMigration/ui/setIsLoading",!1),n.isTakeoverForbidden=!0,n.onInvalidMigrationAccessToken())}));case 4:if(!n.isTakeoverForbidden){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,n.migrationWorkerService.checkForRunningMigration().then((function(t){if(!1===t.isMigrationRunning)return Mt.commit("swagMigration/process/setIsMigrating",!1),Mt.commit("swagMigration/ui/setIsLoading",!1),n.isOtherMigrationRunning=!1,void n.$router.push({name:"swag.migration.index.main"});n.migrationService.abortMigration(t.runUuid).then((function(){Mt.commit("swagMigration/process/setIsMigrating",!1),Mt.commit("swagMigration/ui/setIsLoading",!1),n.isOtherMigrationRunning=!1,n.$router.push({name:"swag.migration.index.main"})}))}));case 8:case"end":return t.stop()}}),t)})))()},onInterrupt:function(n){n===wt.TAKEOVER?this.onConfiscatedMigration():n===wt.STOP?this.onStop():n===wt.PAUSE?this.onPause():n===wt.CONNECTION_LOST&&this.onConnectionLost()},onConfiscatedMigration:function(){var n=this;this.onInvalidMigrationAccessToken(),this.isMigrationInterrupted=!0,this.$nextTick((function(){n.$refs.loadingScreenTakeover.refreshState()}))},onStop:function(){var n=this;return this.migrationService.abortMigration(this.runId).then((function(){n.showAbortMigrationConfirmDialog=!1,n.isMigrationInterrupted=!1,Mt.commit("swagMigration/process/setIsMigrating",!1),Mt.commit("swagMigration/ui/setIsPaused",!1),Mt.commit("swagMigration/ui/setIsLoading",!1),n.$nextTick((function(){n.$router.push({name:"swag.migration.index.main"})}))}))},onPause:function(){this.isMigrationInterrupted=!1,Mt.commit("swagMigration/process/setIsMigrating",!1),Mt.commit("swagMigration/ui/setIsPaused",!0),Mt.commit("swagMigration/ui/setIsLoading",!1),this.isOtherMigrationRunning=!1,Mt.commit("swagMigration/ui/setComponentIndex",q.PAUSE_SCREEN)},onConnectionLost:function(){Mt.commit("swagMigration/process/setIsMigrating",!1),Mt.commit("swagMigration/ui/setIsPaused",!1),Mt.commit("swagMigration/ui/setDataSelectionIds",[]),Mt.commit("swagMigration/ui/setDataSelectionTableData",[]),Mt.commit("swagMigration/ui/setIsLoading",!1),Mt.commit("swagMigration/ui/setComponentIndex",q.CONNECTION_LOST)},onInvalidMigrationAccessToken:function(){this.displayFlowChart=!1,this.isMigrationInterrupted=!1,Mt.commit("swagMigration/process/setIsMigrating",!1),Mt.commit("swagMigration/ui/setIsPaused",!1),this.isOtherMigrationRunning=!0,Mt.commit("swagMigration/ui/setComponentIndex",q.TAKEOVER),Mt.commit("swagMigration/ui/setIsLoading",!1)},onWarningConfirmationChanged:function(n){this.isWarningConfirmed=n},onProcessMediaFiles:function(){Mt.commit("swagMigration/ui/setComponentIndex",q.MEDIA_SCREEN)}}});e("7YV2");var Lt=Shopware,Ot=Lt.Component,zt=Lt.Mixin,Tt=Lt.State,Nt=Shopware.Data.Criteria,$t="SWAG_MIGRATION__SSL_REQUIRED",jt=Object.freeze({NAME_TO_SHORT:"SWAG_MIGRATION_CONNECTION_NAME_TO_SHORT",NAME_ALREADY_EXISTS:"SWAG_MIGRATION_CONNECTION_NAME_ALREADY_EXISTS"});Ot.register("swag-migration-wizard",{template:'{% block swag_migration_wizard %}\n    <div class="swag-migration-wizard">\n        <sw-modal v-if="showModal"\n                  class="swag-migration-wizard__modal"\n                  :size="modalSize"\n                  :title="$tc(modalTitleSnippet)"\n                  :isLoading="isLoading"\n                  @modal-close="onCloseModal">\n\n            {% block swag_migration_wizard_placeholder %}\n                <div v-show="isLoading || childIsLoading" class="swag-migration-wizard__placeholder"></div>\n            {% endblock %}\n\n            {% block swag_migration_router_view %}\n                <router-view\n                        v-show="!isLoading && !childIsLoading"\n                        :currentConnectionId="connection.id"\n                        :profileInformationComponent="profileInformationComponent"\n                        :credentialsComponent="credentialsComponent"\n                        :credentials="connection.credentialFields"\n                        :errorMessageSnippet="errorMessageSnippet"\n                        :connectionNameErrorCode="connectionNameErrorCode"\n                        @onChildRouteReadyChanged="onChildRouteReadyChanged"\n                        @onTriggerPrimaryClick="triggerPrimaryClick"\n                        @onProfileSelected="onProfileSelected"\n                        @onChangeConnectionName="onChangeConnectionName"\n                        @onConnectionSelected="onConnectionSelected"\n                        @onCredentialsChanged="onCredentialsChanged"\n                        @onIsLoadingChanged="onChildIsLoadingChanged">\n                </router-view>\n            {% endblock %}\n\n            <template #modal-footer class="swag-migration-wizard__footer">\n\n                {% block swag_migration_wizard_footer %}\n\n                    {% block swag_migration_wizard_arrow %}\n                        <div class="swag-migration-wizard__left-actions">\n                            <sw-button v-show="buttonBackVisible"\n                                       class="swag-migration-wizard__buttonBack"\n                                       size="small"\n                                       @click="onButtonBackClick">\n                                {{ $tc(buttonBackSnippet) }}\n                            </sw-button>\n                        </div>\n                    {% endblock %}\n\n                    {% block swag_migration_wizard_actions %}\n                        <div class="swag-migration-wizard__right-actions">\n\n                            {% block swag_migration_wizard_actions_previous %}\n                                <sw-button v-show="buttonSecondaryVisible"\n                                           size="small"\n                                           @click="onButtonSecondaryClick">\n                                    {{ $tc(buttonSecondarySnippet) }}\n                                </sw-button>\n                            {% endblock %}\n\n                            {% block swag_migration_wizard_actions_next %}\n                                <sw-button size="small"\n                                           variant="primary"\n                                           :disabled="buttonPrimaryDisabled"\n                                           ref="primaryButton"\n                                           @click="onButtonPrimaryClick">\n                                    {{ $tc(buttonPrimarySnippet) }}\n                                </sw-button>\n                            {% endblock %}\n                        </div>\n                    {% endblock %}\n                {% endblock %}\n            </template>\n\n        </sw-modal>\n    </div>\n{% endblock %}\n',inject:{migrationService:"migrationService",repositoryFactory:"repositoryFactory"},mixins:[zt.getByName("swag-wizard")],data:function(){var n=this.getRoutes();return{context:Shopware.Context.api,showModal:!0,isLoading:!0,childIsLoading:!1,routes:n,connection:{},connectionName:"",selectedProfile:{},childRouteReady:!1,errorMessageSnippet:"",connectionNameErrorCode:"",currentErrorCode:""}},metaInfo:function(){return{title:this.$createTitle()}},computed:{migrationConnectionRepository:function(){return this.repositoryFactory.create("swag_migration_connection")},migrationGeneralSettingRepository:function(){return this.repositoryFactory.create("swag_migration_general_setting")},modalSize:function(){return[this.routes.credentialsSuccess,this.routes.credentialsError].includes(this.currentRoute)?"460px":"688px"},modalTitleSnippet:function(){return this.currentRoute.titleSnippet},buttonBackSnippet:function(){return"swag-migration.wizard.buttonToProfileInformation"},buttonBackVisible:function(){return!this.isLoading&&this.currentRoute===this.routes.credentials&&this.profileInformationComponentIsLoaded},buttonSecondarySnippet:function(){return this.currentRoute===this.routes.credentialsError?"swag-migration.wizard.buttonLater":"swag-migration.wizard.buttonAbort"},buttonSecondaryVisible:function(){return this.currentRoute!==this.routes.credentialsSuccess},buttonPrimarySnippet:function(){return this.currentRoute===this.routes.introduction?"swag-migration.wizard.buttonLetsGo":this.currentRoute===this.routes.connectionCreate?"swag-migration.wizard.buttonConnectionCreate":this.currentRoute===this.routes.connectionSelect?"swag-migration.wizard.buttonConnectionSelect":this.currentRoute===this.routes.credentials?"swag-migration.wizard.buttonConnect":this.currentRoute===this.routes.credentialsSuccess?"swag-migration.wizard.buttonFinish":this.currentRoute===this.routes.credentialsError?this.currentErrorCode===$t?"swag-migration.wizard.buttonUseSsl":"swag-migration.wizard.buttonEdit":"swag-migration.wizard.buttonNext"},buttonPrimaryDisabled:function(){return[this.routes.credentials,this.routes.connectionCreate,this.routes.connectionSelect].includes(this.currentRoute)&&!this.childRouteReady||this.isLoading},profileInformationComponent:function(){return this.connection&&this.connection.profileName&&this.connection.gatewayName?"swag-migration-profile-".concat(this.connection.profileName,"-")+"".concat(this.connection.gatewayName,"-page-information"):""},profileInformationComponentIsLoaded:function(){return Ot.getComponentRegistry().has(this.profileInformationComponent)},credentialsComponent:function(){return this.connection&&this.connection.profileName&&this.connection.gatewayName?"swag-migration-profile-".concat(this.connection.profileName,"-").concat(this.connection.gatewayName,"-credential-form"):""}},created:function(){this.createdComponent()},beforeRouteLeave:function(n,t,e){this.showModal=!1,this.$nextTick((function(){e()}))},methods:{createdComponent:function(){var n=this;return this.loadSelectedConnection(this.$route.params.connectionId).then((function(){n.onChildRouteChanged(),n.isLoading=!1}))},getRoutes:function(){return{introduction:{name:"swag.migration.wizard.introduction",index:0,titleSnippet:"swag-migration.wizard.pages.introduction.title"},profileInstallation:{name:"swag.migration.wizard.profileInstallation",index:.1,titleSnippet:"swag-migration.wizard.pages.profileInstallation.title"},connectionCreate:{name:"swag.migration.wizard.connectionCreate",index:.2,titleSnippet:"swag-migration.wizard.pages.connectionCreate.title"},connectionSelect:{name:"swag.migration.wizard.connectionSelect",index:.3,titleSnippet:"swag-migration.wizard.pages.connectionSelect.title"},profileInformation:{name:"swag.migration.wizard.profileInformation",index:1,titleSnippet:"swag-migration.wizard.pages.profileInformation.title"},credentials:{name:"swag.migration.wizard.credentials",index:2,titleSnippet:"swag-migration.wizard.pages.credentials.title"},credentialsSuccess:{name:"swag.migration.wizard.credentialsSuccess",index:2.1,titleSnippet:"swag-migration.wizard.pages.credentials.statusTitle"},credentialsError:{name:"swag.migration.wizard.credentialsError",index:2.1,titleSnippet:"swag-migration.wizard.pages.credentials.statusTitle"}}},trimCredentials:function(){var n=this;Object.keys(this.connection.credentialFields).forEach((function(t){n.connection.credentialFields[t]=n.connection.credentialFields[t].trim()}))},onConnect:function(){var n=this;return this.isLoading=!0,this.errorMessageSnippet="",this.trimCredentials(),this.migrationService.updateConnectionCredentials(this.connection.id,this.connection.credentialFields).then((function(t){return t.errors&&t.errors.length>0&&(n.isLoading=!1,n.onResponseError("")),n.doConnectionCheck()})).catch((function(t){n.isLoading=!1,n.onResponseError(t.response.data.errors[0].code)}))},doConnectionCheck:function(){var n=this;return this.isLoading=!0,this.migrationService.checkConnection(this.connection.id).then((function(t){Tt.commit("swagMigration/process/setConnectionId",n.connection.id),Tt.commit("swagMigration/process/setEntityGroups",[]),n.isLoading=!1,t?(Tt.commit("swagMigration/process/setEnvironmentInformation",t),Tt.commit("swagMigration/ui/setDataSelectionIds",[]),Tt.commit("swagMigration/ui/setPremapping",[]),Tt.commit("swagMigration/ui/setDataSelectionTableData",[]),void 0!==t.requestStatus?""===t.requestStatus.code||!1!==t.requestStatus.isWarning?(n.errorMessageSnippet="",""!==t.requestStatus.code&&!0===t.requestStatus.isWarning&&(n.errorMessageSnippet="swag-migration.wizard.pages.credentials.success.".concat(t.requestStatus.code)),n.navigateToRoute(n.routes.credentialsSuccess)):n.onResponseError(t.requestStatus.code):n.navigateToRoute(n.routes.credentialsSuccess)):n.onResponseError(-1)})).catch((function(t){n.isLoading=!1,Tt.commit("swagMigration/process/setConnectionId",n.connection.id),Tt.commit("swagMigration/process/setEntityGroups",[]),Tt.commit("swagMigration/process/setEnvironmentInformation",{}),Tt.commit("swagMigration/ui/setDataSelectionIds",[]),Tt.commit("swagMigration/ui/setPremapping",[]),Tt.commit("swagMigration/ui/setDataSelectionTableData",[]),n.onResponseError(t.response.data.errors[0].code)}))},onResponseError:function(n){this.errorMessageSnippet=""!==n?"swag-migration.wizard.pages.credentials.error.".concat(n):"",this.errorMessageSnippet===this.$tc("swag-migration.wizard.pages.credentials.error.".concat(n))&&(this.errorMessageSnippet="swag-migration.wizard.pages.credentials.error.undefinedErrorMsg"),this.currentErrorCode=n,this.navigateToRoute(this.routes.credentialsError)},onCloseModal:function(){this.showModal=!1,Object.keys(this.connection).length?this.$router.push({name:"swag.migration.index",params:{connectionId:this.connection.id}}):this.$router.push({name:"swag.migration.emptyScreen"})},onChildRouteChanged:function(){var n=this;this.checkForDisabledRoute(),[this.routes.credentialsSuccess,this.routes.credentialsError].includes(this.currentRoute)?this.$nextTick((function(){n.$refs.primaryButton.$el.focus()})):this.$refs.primaryButton.$el.focus()},checkForDisabledRoute:function(){Object.keys(this.connection).length?this.profileInformationComponentIsLoaded||(this.currentRoute===this.routes.profileInformation&&this.navigateToRoute(this.routes.credentials),this.routes.profileInformation.index=.1):this.onNoConnectionSelected()},onButtonBackClick:function(){this.navigateToRoute(this.routes.profileInformation)},onButtonSecondaryClick:function(){this.onCloseModal()},triggerPrimaryClick:function(){this.buttonPrimaryDisabled||this.onButtonPrimaryClick()},onButtonPrimaryClick:function(){var n=this;if(this.currentRoute!==this.routes.connectionCreate)if(this.currentRoute!==this.routes.connectionSelect)if(this.currentRoute!==this.routes.credentials){if(this.currentRoute!==this.routes.credentialsSuccess)return this.currentRoute===this.routes.credentialsError?this.currentErrorCode===$t?(this.connection.credentialFields.endpoint=this.connection.credentialFields.endpoint.replace("http:","https:"),void this.onConnect()):void this.navigateToRoute(this.routes.credentials):void(this.currentRoute!==this.routes.profileInstallation?this.navigateToNext():this.navigateToRoute(this.routes.connectionCreate));this.onCloseModal()}else this.onConnect();else this.saveSelectedConnection(this.connection).then((function(){n.doConnectionCheck()}));else this.createNewConnection().then((function(){n.navigateToNext()})).catch((function(){n.connectionNameErrorCode=jt.NAME_ALREADY_EXISTS,n.isLoading=!1}))},loadSelectedConnection:function(n){var t=this;return new Promise((function(e){if(Object.keys(t.connection).length)e();else if(t.isLoading=!0,void 0===n){var i=new Nt(1,1);t.migrationGeneralSettingRepository.search(i,t.context).then((function(n){return n.length<1||null===n.first().selectedConnectionId?(t.isLoading=!1,t.onNoConnectionSelected(),void e()):void t.fetchConnection(n.first().selectedConnectionId)}))}else t.fetchConnection(n).then((function(){e()}))}))},fetchConnection:function(n){var t=this;return new Promise((function(e){var i=new Nt(1,1);i.addFilter(Nt.equals("id",n)),t.migrationConnectionRepository.search(i,t.context).then((function(n){if(0===n.length||null===n.first().id)return t.isLoading=!1,t.onNoConnectionSelected(),void e();t.connection=n.first(),t.isLoading=!1,e()}))}))},onNoConnectionSelected:function(){[this.routes.chooseAction,this.routes.profileInformation,this.routes.credentials,this.routes.credentialsSuccess,this.routes.credentialsError].includes(this.currentRoute)&&this.navigateToRoute(this.routes.profileInstallation)},createNewConnection:function(){var n=this;return this.isLoading=!0,this.checkConnectionName(this.connectionName).then((function(t){if(!t)return n.isLoading=!1,Promise.reject();n.connectionNameErrorCode="";var e=n.migrationConnectionRepository.create(n.context);return e.profileName=n.selectedProfile.profile,e.gatewayName=n.selectedProfile.gateway,e.name=n.connectionName,n.migrationConnectionRepository.save(e,n.context).then((function(){return n.saveSelectedConnection(e)}))}))},checkConnectionName:function(n){var t=new Nt;return t.addFilter(Nt.equals("name",n)),this.migrationConnectionRepository.search(t,this.context).then((function(n){return 0===n.length}))},saveSelectedConnection:function(n){var t=this;return new Promise((function(e,i){t.isLoading=!0,Tt.commit("swagMigration/process/setConnectionId",n.id),Tt.commit("swagMigration/process/setEntityGroups",[]),Tt.commit("swagMigration/process/setEnvironmentInformation",{}),Tt.commit("swagMigration/ui/setDataSelectionIds",[]),Tt.commit("swagMigration/ui/setPremapping",[]),Tt.commit("swagMigration/ui/setDataSelectionTableData",[]);var r=new Nt(1,1);t.migrationGeneralSettingRepository.search(r,t.context).then((function(r){if(r.length<1)return t.isLoading=!1,void i();var o=r.first();o.selectedConnectionId=n.id,t.migrationGeneralSettingRepository.save(o,t.context).then((function(){t.connection=n,t.isLoading=!1,e()})).catch((function(){t.isLoading=!1,i()}))})).catch((function(){t.isLoading=!1,i()}))}))},onChildRouteReadyChanged:function(n){this.childRouteReady=n},onCredentialsChanged:function(n){this.connection.credentialFields=n},onProfileSelected:function(n){this.selectedProfile=n},onChangeConnectionName:function(n){this.connectionName=n,null!==this.connectionName&&this.connectionName.length>5?this.connectionNameErrorCode="":this.connectionNameErrorCode=jt.NAME_TO_SHORT},onChildIsLoadingChanged:function(n){this.childIsLoading=n},onConnectionSelected:function(n){this.connection=n}}});Shopware.Component.register("swag-migration-wizard-page-introduction",{template:'{% block swag_migration_wizard_page_introduction %}\n    <div class="swag-migration-wizard swag-migration-wizard-page-introduction">\n\n        {% block swag_migration_wizard_page_introduction_content %}\n            <div class="swag-migration-wizard__content">\n\n                {% block swag_migration_wizard_page_introduction_information %}\n                    <div class="swag-migration-wizard__content-information">\n\n                        {% block swag_migration_wizard_page_introduction_svg %}\n                            <img class="swag-migration-wizard__illustration" :src="\'/swagmigrationassistant/static/img/wizard-introduction.svg\' | asset">\n                        {% endblock %}\n\n                        {% block swag_migration_wizard_page_introduction_api_hint %}\n                            <h3 class="swag-migration-wizard__headline">\n                                {{ $tc(\'swag-migration.wizard.pages.introduction.contentHeadline\') }}\n                            </h3>\n\n                            <p class="swag-migration-wizard__description">\n                                {{ $tc(\'swag-migration.wizard.pages.introduction.contentInformation\') }}\n                            </p>\n                        {% endblock %}\n                    </div>\n                {% endblock %}\n            </div>\n        {% endblock %}\n    </div>\n{% endblock %}',metaInfo:function(){return{title:this.$createTitle()}}});e("bCZK");var Dt=Shopware.Component,At=Shopware.Data.Criteria;Dt.register("swag-migration-wizard-page-profile-installation",{template:'{% block swag_migration_wizard_page_profile_installation %}\n    <div class="swag-migration-wizard swag-migration-wizard-page-profile-installation">\n\n        {% block swag_migration_wizard_page_profile_installation_content %}\n            <div class="swag-migration-wizard__content">\n\n                {% block swag_migration_wizard_page_profile_installation_information %}\n                    <div class="swag-migration-wizard__content-information">\n                        {{ $tc(\'swag-migration.wizard.pages.profileInstallation.content\') }}\n                    </div>\n                {% endblock %}\n\n                {% block swag_migration_wizard_page_profile_installation_plugins %}\n                    <div class="swag-migration-wizard-profile-installation__plugins">\n\n                        {% block swag_migration_wizard_page_profile_installation_availabilty_headline %}\n                            <div class="swag-migration-wizard-profile-installation__availability-headline">\n                                {{ $tc(\'swag-migration.wizard.pages.profileInstallation.availabilityHeadline\') }}\n                            </div>\n                        {% endblock %}\n\n                        {% block swag_migration_wizard_page_profile_installation_wrapper %}\n                            <div class="swag-migration-wizard-profile-installation__wrapper">\n\n                                {% block swag_migration_wizard_page_profile_installation_shopware_inner_wrapper %}\n                                    <div class="swag-migration-wizard-profile-installation__inner_wrapper">\n\n                                        {% block swag_migration_wizard_page_profile_installation_shopware_plugin_icon %}\n                                            <div class="swag-migration-wizard-profile-installation__plugin_icon_column">\n                                                <img class="swag-migration-wizard-profile-installation__plugin-icon"\n                                                     :src="\'/swagmigrationassistant/static/img/wizard-shopware6-profile-avatar.svg\'|asset">\n                                            </div>\n                                        {% endblock %}\n\n                                        {% block swag_migration_wizard_page_profile_installation_shopware_plugin_information %}\n                                            <div class="swag-migration-wizard-profile-installation__plugin_information_column">\n\n                                                {% block swag_migration_wizard_page_profile_installation_shopware_headline %}\n                                                    <div class="swag-migration-wizard-profile-installation__profile_headline">\n                                                         {{ $tc(\'swag-migration.wizard.pages.profileInstallation.shopwareProfileHeadline\') }}\n                                                    </div>\n                                                {% endblock %}\n\n                                                {% block swag_migration_wizard_page_profile_installation_shopware_manufacturer %}\n                                                    <div class="swag-migration-wizard-profile-installation__profile_manufacturer">\n                                                        {{ $tc(\'swag-migration.wizard.pages.profileInstallation.profileManufacturer\') }}\n                                                    </div>\n                                                {% endblock %}\n\n                                                {% block swag_migration_wizard_page_profile_installation_shopware_available_version_headline %}\n                                                    <div class="swag-migration-wizard-profile-installation__available_version_headline">\n                                                        {{ $tc(\'swag-migration.wizard.pages.profileInstallation.availableVersionHeadline\') }}\n                                                    </div>\n                                                {% endblock %}\n\n                                                {% block swag_migration_wizard_page_profile_installation_shopware_available_version_list %}\n                                                    <div class="swag-migration-wizard-profile-installation__available_version_list">\n                                                        <span class="swag-migration-wizard-profile-installation__version_box">5.4</span>\n                                                        <span class="swag-migration-wizard-profile-installation__version_box">5.5</span>\n                                                        <span class="swag-migration-wizard-profile-installation__version_box">5.6</span>\n                                                        <span class="swag-migration-wizard-profile-installation__version_box">5.7</span>\n                                                        <span class="swag-migration-wizard-profile-installation__version_box">6.3</span>\n                                                        <span class="swag-migration-wizard-profile-installation__last_version_box">6.4</span>\n                                                    </div>\n                                                {% endblock %}\n\n                                                {% block swag_migration_wizard_page_profile_installation_shopware_installed_box %}\n                                                    <div class="swag-migration-wizard-profile-installation__footer swag-migration-wizard-profile-installation__installed_box">\n                                                        <span class="swag-migration-wizard-profile-installation__installed_img">\n                                                            <sw-icon name="regular-check-circle-s" size="16px"></sw-icon>\n                                                        </span>\n                                                        <span class="swag-migration-wizard-profile-installation__installed_title">{{ $tc(\'swag-migration.wizard.pages.profileInstallation.installedHint\') }}</span>\n                                                    </div>\n                                                {% endblock %}\n                                            </div>\n                                        {% endblock %}\n                                    </div>\n                                {% endblock %}\n\n                                {% block swag_migration_wizard_page_profile_installation_magento_inner_wrapper %}\n                                    <div class="swag-migration-wizard-profile-installation__shopware-plugin swag-migration-wizard-profile-installation__inner_wrapper">\n\n                                        {% block swag_migration_wizard_page_profile_installation_magento_plugin_icon %}\n                                            <div class="swag-migration-wizard-profile-installation__plugin_icon_column">\n                                                <img class="swag-migration-wizard-profile-installation__plugin-icon"\n                                                     :src="\'/swagmigrationassistant/static/img/magento-profile-icon.svg\'|asset">\n                                            </div>\n                                        {% endblock %}\n\n                                        {% block swag_migration_wizard_page_profile_installation_magento_plugin_information %}\n                                            <div class="swag-migration-wizard-profile-installation__plugin_information_column">\n\n                                                {% block swag_migration_wizard_page_profile_installation_magento_headline %}\n                                                    <div class="swag-migration-wizard-profile-installation__profile_headline">\n                                                        {{ $tc(\'swag-migration.wizard.pages.profileInstallation.magentoProfileHeadline\') }}\n                                                    </div>\n                                                {% endblock %}\n\n                                                {% block swag_migration_wizard_page_profile_installation_magento_manufacturer %}\n                                                    <div class="swag-migration-wizard-profile-installation__profile_manufacturer">\n                                                        {{ $tc(\'swag-migration.wizard.pages.profileInstallation.profileManufacturer\') }}\n                                                    </div>\n                                                {% endblock %}\n\n                                                {% block swag_migration_wizard_page_profile_installation_magento_available_version_headline %}\n                                                    <div class="swag-migration-wizard-profile-installation__available_version_headline">\n                                                        {{ $tc(\'swag-migration.wizard.pages.profileInstallation.availableVersionHeadline\') }}\n                                                    </div>\n                                                {% endblock %}\n\n                                                {% block swag_migration_wizard_page_profile_installation_magento_available_version_list %}\n                                                    <div class="swag-migration-wizard-profile-installation__available_version_list">\n                                                        <span class="swag-migration-wizard-profile-installation__version_box">1.9</span>\n                                                        <span class="swag-migration-wizard-profile-installation__version_box">2.0</span>\n                                                        <span class="swag-migration-wizard-profile-installation__version_box">2.1</span>\n                                                        <span class="swag-migration-wizard-profile-installation__version_box">2.2</span>\n                                                        <span class="swag-migration-wizard-profile-installation__last_version_box">2.3</span>\n                                                    </div>\n                                                {% endblock %}\n\n                                                {% block swag_migration_wizard_page_profile_installation_magento_install_button_box %}\n                                                    <div v-if="!isInstalled" class="swag-migration-wizard-profile-installation__footer">\n\n                                                        {% block swag_migration_wizard_page_profile_installation_magento_install_button_box_content %}\n                                                            <sw-button-process\n                                                                    class="swag-migration-wizard-profile-installation__installation_button"\n                                                                    size="small"\n                                                                    variant="primary"\n                                                                    :isLoading="pluginIsLoading"\n                                                                    :disabled="pluginIsLoading"\n                                                                    :processSuccess="pluginIsSaveSuccessful"\n                                                                    @click="onInstall">\n                                                                {{ $tc(\'swag-migration.wizard.pages.profileInstallation.installationButton\') }}\n                                                            </sw-button-process>\n                                                        {% endblock %}\n                                                    </div>\n                                                {% endblock %}\n\n                                                {% block swag_migration_wizard_page_profile_installation_magento_installed_box %}\n                                                    <div v-else class="swag-migration-wizard-profile-installation__footer swag-migration-wizard-profile-installation__installed_box">\n\n                                                        {% block swag_migration_wizard_page_profile_installation_magento_installed_box_content %}\n                                                            <span class="swag-migration-wizard-profile-installation__installed_img">\n                                                                <sw-icon name="regular-check-circle-s" size="16px"></sw-icon>\n                                                            </span>\n                                                            <span class="swag-migration-wizard-profile-installation__installed_title">{{ $tc(\'swag-migration.wizard.pages.profileInstallation.installedHint\') }}</span>\n                                                        {% endblock %}\n                                                    </div>\n                                                {% endblock %}\n                                            </div>\n                                        {% endblock %}\n                                    </div>\n                                {% endblock %}\n                            </div>\n                        {% endblock %}\n                    </div>\n                {% endblock %}\n            </div>\n        {% endblock %}\n    </div>\n{% endblock %}\n',inject:["storeService","extensionHelperService","cacheApiService","repositoryFactory"],data:function(){return{pluginIsLoading:!1,pluginIsSaveSuccessful:!1,isInstalled:!1,pluginName:"SwagMigrationMagento"}},metaInfo:function(){return{title:this.$createTitle()}},computed:{pluginRepository:function(){return this.repositoryFactory.create("plugin")}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.refreshPlugin()},refreshPlugin:function(){var n=this,t=new At;return t.addFilter(At.equals("plugin.name",this.pluginName)).addFilter(At.equals("plugin.active",!0)).setLimit(1),this.pluginRepository.search(t,Shopware.Context.api).then((function(t){t.total<1||(n.isInstalled=!0)}))},onInstall:function(){this.setupPlugin()},setupPlugin:function(){var n=this;return this.pluginIsLoading=!0,this.pluginIsSaveSuccessful=!1,this.extensionHelperService.downloadStoreExtension(this.pluginName).then((function(){return n.pluginIsSaveSuccessful=!0,n.extensionHelperService.installStoreExtension(n.pluginName,"plugin")})).then((function(){return n.extensionHelperService.activateStoreExtension(n.pluginName,"plugin")})).finally((function(){n.pluginIsLoading=!1,n.cacheApiService.clear().then((function(){window.location.reload()}))}))}}});var Ft=Shopware.Component,Bt=Shopware.Data.Criteria;Ft.register("swag-migration-wizard-page-connection-select",{template:'{% block swag_migration_wizard_page_select_profile %}\n    <div class="swag-migration-wizard-page-select-profile">\n\n        {% block swag_migration_wizard_page_select_profile_content %}\n            <div class="swag-migration-wizard__content">\n\n                {% block swag_migration_wizard_page_select_profile_information %}\n                    <div class="swag-migration-wizard__content-information">\n\n                        {% block swag_migration_wizard_page_select_profile_description %}\n                            <p class="swag-migration-wizard__description">\n                                {{ $tc(\'swag-migration.wizard.pages.connectionSelect.contentInformation\') }}\n                            </p>\n                        {% endblock %}\n                    </div>\n                {% endblock %}\n\n                {% block swag_migration_wizard_page_select_profile_selection %}\n                    <div class="swag-migration-wizard__form">\n                        <sw-select-field v-model="selectedConnectionId"\n                                         :options="connections"\n                                         :label="$tc(\'swag-migration.wizard.pages.connectionSelect.connectionLabel\')"\n                                         :placeholder="$tc(\'swag-migration.wizard.pages.connectionSelect.connectionPlaceholder\')"\n                                         @change="onConnectionSelected">\n                        </sw-select-field>\n                    </div>\n                {% endblock %}\n            </div>\n        {% endblock %}\n    </div>\n{% endblock %}',inject:{repositoryFactory:"repositoryFactory"},props:{currentConnectionId:{type:String,default:""}},data:function(){return{selectedConnectionId:null,connections:[],context:Shopware.Context.api}},metaInfo:function(){return{title:this.$createTitle()}},computed:{migrationConnectionRepository:function(){return this.repositoryFactory.create("swag_migration_connection")}},watch:{currentConnectionId:{immediate:!0,handler:function(n){this.selectedConnectionId=n,this.onConnectionSelected()}}},created:function(){this.createdComponent()},methods:{createdComponent:function(){var n=this;this.$emit("onChildRouteReadyChanged",!1);var t=new Bt(1,100);return this.migrationConnectionRepository.search(t,this.context).then((function(t){n.connections=t,n.onConnectionSelected()}))},onConnectionSelected:function(){var n=this,t=this.connections.find((function(t){return t.id===n.selectedConnectionId}));t?(this.$emit("onChildRouteReadyChanged",!0),this.$emit("onConnectionSelected",t)):this.$emit("onChildRouteReadyChanged",!1)}}});e("7yQQ");var Gt=Shopware.Component,Ut=Shopware.Classes.ShopwareError;Gt.register("swag-migration-wizard-page-connection-create",{template:'{% block swag_migration_wizard_page_create_profile %}\n    <div class="swag-migration-wizard swag-migration-wizard-page-create-profile"\n         @keypress.enter="onKeyPressEnter">\n\n        {% block swag_migration_wizard_page_create_profile_content %}\n            <div v-if="!isLoading" class="swag-migration-wizard__content">\n\n                {% block swag_migration_wizard_page_create_profile_information %}\n                    <div class="swag-migration-wizard__content-information">\n\n                        {% block swag_migration_wizard_page_create_profile_content_information %}\n                            <p class="swag-migration-wizard__description">\n                                {{ $tc(\'swag-migration.wizard.pages.connectionCreate.contentInformation\') }}\n                            </p>\n                        {% endblock %}\n                    </div>\n                {% endblock %}\n\n                {% block swag_migration_wizard_page_create_profile_selection %}\n                    <div class="swag-migration-wizard__form">\n                        <sw-text-field v-autofocus\n                                       v-model="selection.connectionName"\n                                       :label="$tc(\'swag-migration.wizard.pages.connectionCreate.connectionLabel\')"\n                                       :placeholder="$tc(\'swag-migration.wizard.pages.connectionCreate.connectionPlaceholder\')"\n                                       validation="required"\n                                       :helpText="$tc(\'swag-migration.wizard.pages.connectionCreate.connectionTooltip\')"\n                                       :error="connectionNameError"\n                                       @input="onChangeConnectionName">\n                        </sw-text-field>\n\n                        <sw-single-select :label="$tc(\'swag-migration.wizard.pages.connectionCreate.profileLabel\')"\n                                          :placeholder="$tc(\'swag-migration.wizard.pages.connectionCreate.profilePlaceholder\')"\n                                          :popoverClasses="[\'swag-migration-wizard-page-create-profile\']"\n                                          :popoverConfig="{active: true, resizeWidth: true, style: { zIndex: 1000, marginLeft: \'8px\' }}"\n                                          :options="profiles"\n                                          :value="selection.profile"\n                                          valueProperty="name"\n                                          :searchFunction="profileSearch"\n                                          validation="required"\n                                          @change="onSelectProfile">\n\n                            {% block swag_migration_wizard_page_create_profile_form_profile_field_options %}\n                                <template #selection-label-property="{ item: singleSelection, labelProperty, valueProperty, searchTerm, getKey }">\n                                    <span v-html="getText(singleSelection)"></span>\n                                </template>\n\n                                <template #result-label-property="{ item, index, labelProperty, valueProperty, searchTerm, highlightSearchTerm, getKey }">\n                                    <div v-if="item.name === \'profileLink\'" class="swag-migration-wizard-create-connection__install-profile-link-wrapper">\n                                        <div>\n                                            {{ $tc(\'swag-migration.wizard.pages.connectionCreate.profileInstall\') }}\n                                        </div>\n                                        <div>\n                                            <sw-icon name="regular-chevron-right-xs" size="16"></sw-icon>\n                                        </div>\n                                    </div>\n                                    <span v-else v-html="getText(item)"></span>\n                                </template>\n                            {% endblock %}\n                        </sw-single-select>\n\n                        <sw-single-select :label="$tc(\'swag-migration.wizard.pages.connectionCreate.gatewayLabel\')"\n                                          :placeholder="$tc(\'swag-migration.wizard.pages.connectionCreate.gatewayPlaceholder\')"\n                                          :helpText="$tc(\'swag-migration.wizard.pages.connectionCreate.gatewayTooltip\')"\n                                          :popoverClasses="[\'swag-migration-wizard-page-create-profile\']"\n                                          :popoverConfig="{active: true, resizeWidth: true, style: { zIndex: 1000, marginLeft: \'8px\' }}"\n                                          :options="gateways"\n                                          :value="selection.gateway"\n                                          valueProperty="name"\n                                          :searchFunction="gatewaySearch"\n                                          validation="required"\n                                          @change="onSelectGateway">\n\n                            {% block swag_migration_wizard_page_create_profile_form_gateway_field_options %}\n                                <template #selection-label-property="{ item: singleSelection, labelProperty, valueProperty, searchTerm, getKey }">\n                                    {{ $tc(singleSelection.snippet) }}\n                                </template>\n\n                                <template #result-label-property="{ item, index, labelProperty, valueProperty, searchTerm, highlightSearchTerm, getKey }">\n                                    {{ $tc(item.snippet) }}\n                                </template>\n                            {% endblock %}\n                        </sw-single-select>\n\n                        <sw-alert v-if="profileHint">\n                            {{ profileHint }}\n                        </sw-alert>\n                    </div>\n                {% endblock %}\n            </div>\n        {% endblock %}\n    </div>\n{% endblock %}\n',inject:{migrationService:"migrationService"},props:{connectionNameErrorCode:{type:String,default:"",required:!1}},data:function(){return{isLoading:!0,selection:{profile:null,gateway:null,connectionName:null},profiles:[],gateways:[]}},metaInfo:function(){return{title:this.$createTitle()}},computed:{isReady:function(){return null!==this.selection.profile&&null!==this.selection.gateway&&null!==this.selection.connectionName&&this.selection.connectionName.length>5},connectionNameError:function(){return""===this.connectionNameErrorCode?null:new Ut({code:this.connectionNameErrorCode})},profileHint:function(){if(!this.selection.gateway)return"";var n="swag-migration.wizard.pages.connectionCreate.hint.".concat(this.selection.gateway);return this.$tc(n)!=="swag-migration.wizard.pages.connectionCreate.hint.".concat(this.selection.gateway)?this.$tc(n):""}},created:function(){this.createdComponent()},methods:{createdComponent:function(){var n=this;return this.setIsLoading(!0),this.emitOnChildRouteReadyChanged(!1),this.migrationService.getProfiles().then((function(t){n.profiles=t,n.pushLinkToProfiles(),n.selectDefaultProfile(),n.setIsLoading(!1)}))},pushLinkToProfiles:function(){this.profiles.push({name:"profileLink"})},profileSearch:function(n){var t=n.searchTerm;return n.options.filter((function(n){return"".concat(n.sourceSystemName," ").concat(n.version," - ").concat(n.author).toLowerCase().includes(t.toLowerCase())}))},gatewaySearch:function(n){var t=this,e=n.searchTerm;return n.options.filter((function(n){return t.$tc(n.snippet).toLowerCase().includes(e.toLowerCase())}))},getText:function(n){return"".concat(n.sourceSystemName," ").concat(n.version," - <i>").concat(n.author,"</i>")},selectDefaultProfile:function(){var n=this;this.onSelectProfile("shopware55").then((function(){n.onSelectGateway("api")}))},setIsLoading:function(n){this.isLoading=n,this.$emit("onIsLoadingChanged",this.isLoading)},onSelectProfile:function(n){var t=this;return this.selection.profile===n||null==n?Promise.resolve():"profileLink"===n?(this.$router.push({name:"swag.migration.wizard.profileInstallation"}),Promise.resolve()):(this.selection.profile=n,new Promise((function(n){t.emitOnChildRouteReadyChanged(!1),t.gateways=[],t.selection.gateway=null,null!==t.selection.profile&&t.migrationService.getGateways(t.selection.profile).then((function(e){t.gateways=e,t.selection.gateway=null,1===t.gateways.length&&t.$nextTick((function(){t.selection.gateway=t.gateways[0].name,t.emitOnChildRouteReadyChanged(t.isReady)})),t.emitOnChildRouteReadyChanged(t.isReady),n()}))})))},onSelectGateway:function(n){null!=n&&(this.selection.gateway=n),this.emitOnChildRouteReadyChanged(!1),this.$emit("onProfileSelected",this.selection),this.emitOnChildRouteReadyChanged(this.isReady)},onChangeConnectionName:function(n){this.$emit("onChangeConnectionName",n),this.emitOnChildRouteReadyChanged(this.isReady)},emitOnChildRouteReadyChanged:function(n){this.$emit("onChildRouteReadyChanged",n)},onKeyPressEnter:function(){this.$emit("onTriggerPrimaryClick")}}});var Wt=Shopware.Component;Wt.register("swag-migration-wizard-page-profile-information",{template:'{% block swag_migration_wizard_page_profile_information %}\n    <div>\n\n        {% block swag_migration_wizard_page_profile_information_component %}\n            <component v-if="profileInformationComponent !== \'\' && componentIsLoaded"\n                       :is="profileInformationComponent">\n            </component>\n        {% endblock %}\n    </div>\n{% endblock %}',props:{profileInformationComponent:{type:String,default:""}},metaInfo:function(){return{title:this.$createTitle()}},computed:{componentIsLoaded:function(){return Wt.getComponentRegistry().has(this.profileInformationComponent)}}});var Vt=Shopware.Component;Vt.register("swag-migration-wizard-page-credentials",{template:'{% block swag_migration_wizard_page_credentials %}\n    <div class="swag-migration-wizard-page-credentials">\n\n        {% block swag_migration_wizard_page_credentials_forms %}\n            <component v-if="credentialsComponent !== \'\' && componentIsLoaded"\n                       :is="credentialsComponent"\n                       :credentials="credentials"\n                       @onCredentialsChanged="$emit(\'onCredentialsChanged\', $event)"\n                       @onChildRouteReadyChanged="$emit(\'onChildRouteReadyChanged\', $event)"\n                       @onTriggerPrimaryClick="$emit(\'onTriggerPrimaryClick\')">\n            </component>\n        {% endblock %}\n\n        {% block swag_migration_wizard_page_credentials_no_form_found %}\n            <template v-else class="swag-migration-wizard-page-credentials__empty_state">\n\n                {% block swag_migration_wizard_page_credentials_no_form_found_content %}\n                    <p class="swag-migration-wizard__emptyStateDescription">\n                        {{ $tc(\'swag-migration.wizard.pages.credentials.emptyState\') }}\n                    </p>\n                {% endblock %}\n            </template>\n        {% endblock %}\n    </div>\n{% endblock %}',props:{credentialsComponent:{type:String,default:""},credentials:{type:Object,default:function(){return{}}}},metaInfo:function(){return{title:this.$createTitle()}},computed:{componentIsLoaded:function(){return Vt.getComponentRegistry().has(this.credentialsComponent)}}});Shopware.Component.register("swag-migration-wizard-page-credentials-success",{template:'{% block swag_migration_wizard_page_credentials_success %}\n    <div class="swag-migration-wizard swag-migration-wizard-page-credentials-success">\n\n        {% block swag_migration_wizard_page_success_error_alert %}\n            <sw-alert v-if="errorMessageSnippet !== \'\'"\n                      class="swag-migration-wizard-page-credentials-success__alert"\n                      id="alert-error-message"\n                      variant="warning">\n                {{ $tc(errorMessageSnippet) }}\n            </sw-alert>\n        {% endblock %}\n\n        {% block swag_migration_wizard_page_credentials_success_content %}\n            <div class="swag-migration-wizard__content">\n\n                {% block swag_migration_wizard_page_credentials_success_information %}\n                    <div class="swag-migration-wizard__content-information">\n\n                        {% block swag_migration_wizard_page_credentials_success_bubble %}\n                            <div v-if="errorMessageSnippet === \'\'"\n                                 class="swag-migration-wizard__bubble swag-migration-wizard__bubble--success">\n                                <sw-icon class="swag-migration-wizard__success-icon"\n                                         name="regular-thumbs-up"\n                                         size="36px"\n                                         decorative>\n                                </sw-icon>\n                            </div>\n                        {% endblock %}\n\n                        {% block swag_migration_wizard_page_credentials_success_title %}\n                            <h3 class="swag-migration-wizard__information-header">\n                                {{ $tc(\'swag-migration.wizard.pages.credentials.success.contentTitle\') }}\n                            </h3>\n                        {% endblock %}\n\n                        {% block swag_migration_wizard_page_credentials_success_api_hint %}\n                            {{ $tc(\'swag-migration.wizard.pages.credentials.success.contentInformation\') }}\n                        {% endblock %}\n\n                    </div>\n                {% endblock %}\n            </div>\n        {% endblock %}\n    </div>\n{% endblock %}\n',props:{errorMessageSnippet:{type:String,default:"",required:!1}},metaInfo:function(){return{title:this.$createTitle()}}});Shopware.Component.register("swag-migration-wizard-page-credentials-error",{template:'{% block swag_migration_wizard_page_credentials_error %}\n    <div class="swag-migration-wizard swag-migration-wizard-page-credentials-error">\n\n        {% block swag_migration_wizard_page_credentials_error_content %}\n        <div class="swag-migration-wizard__content">\n\n            {% block swag_migration_wizard_page_credentials_error_information %}\n            <div class="swag-migration-wizard__content-information">\n\n                {% block swag_migration_wizard_page_credentials_success_bubble %}\n                    <div class="swag-migration-wizard__bubble swag-migration-wizard__bubble--warning">\n                        <sw-icon class="swag-migration-wizard__warning-icon"\n                                 name="regular-exclamation-triangle"\n                                 size="36px"\n                                 decorative>\n                        </sw-icon>\n                    </div>\n                {% endblock %}\n\n                {% block swag_migration_wizard_page_credentials_error_title %}\n                    <h3 class="swag-migration-wizard__information-header">\n                        {{ $tc(\'swag-migration.wizard.pages.credentials.error.contentTitle\') }}\n                    </h3>\n                {% endblock %}\n\n                {% block swag_migration_wizard_page_credentials_error_api_hint %}\n                    <template v-if="errorMessageSnippet !== \'\'">\n                        <p class="swag-migration-wizard__description">\n                            {{ $tc(errorMessageSnippet) }}\n                        </p>\n                    </template>\n                {% endblock %}\n            </div>\n            {% endblock %}\n        </div>\n        {% endblock %}\n\n    </div>\n{% endblock %}\n',props:{errorMessageSnippet:{type:String,default:"",required:!1}},metaInfo:function(){return{title:this.$createTitle()}}});var Ht=Shopware.Component,qt=Shopware.Data.Criteria;Ht.override("sw-dashboard-index",{template:'{% block sw_dashboard_index_content_intro_card %}\n    {% parent %}\n\n    {%  block swag_migration_dashboard_card %}\n\n        {% block sw_dashboard_index_content_migration_card %}\n            <swag-migration-dashboard-card v-if="acl.isAdmin()"></swag-migration-dashboard-card>\n        {% endblock %}\n    {% endblock %}\n{% endblock %}\n',inject:["repositoryFactory","acl"],data:function(){return{context:Shopware.Context.api,runExists:!1,loading:!0,run:{}}},computed:{migrationRunRepository:function(){return this.repositoryFactory.create("swag_migration_run")}},created:function(){this.createdComponent()},methods:{createdComponent:function(){var n=this;return this.$super("createdComponent"),this.acl.isAdmin()?this.migrationRunRepository.search(new qt,this.context).then((function(t){n.runExists=t.length>0,n.runExists&&(n.run=t[0]),n.loading=!1})):new Promise((function(n){n()}))}}});e("B+fC");var Kt={namespaced:!0,state:{connectionId:null,environmentInformation:{},runId:null,isMigrating:!1,entityGroups:[],currentEntityGroupId:"",statusIndex:l.WAITING},mutations:{setConnectionId:function(n,t){n.connectionId=t},setEnvironmentInformation:function(n,t){n.environmentInformation=t},setRunId:function(n,t){n.runId=t},setIsMigrating:function(n,t){n.isMigrating=t},setStatusIndex:function(n,t){n.statusIndex=t},setCurrentEntityGroupId:function(n,t){n.currentEntityGroupId=t},setEntityGroups:function(n,t){n.entityGroups=t},setEntityProgress:function(n,t){var e=t.groupId,i=t.groupCurrentCount,r=t.groupTotal,o=n.entityGroups.find((function(n){return n.id===e}));void 0!==o&&(o.total!==r&&(o.total=r),o.currentCount=i,this.state.currentEntityGroupId=o.id)},resetProgress:function(n){n.entityGroups.forEach((function(n){n.currentCount=0}))}},getters:{displayEntityGroups:function(n){return n.statusIndex===l.PROCESS_MEDIA_FILES?n.entityGroups.filter((function(n){return"processMediaFiles"===n.id})):n.entityGroups.filter((function(n){return"processMediaFiles"!==n.id}))}}},Yt=Shopware,Xt=Yt.Module,Zt=Yt.State;function Jt(n){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function Qt(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,i)}return e}function ne(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(e),!0).forEach((function(t){te(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Qt(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function te(n,t,e){return(t=re(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function ee(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,re(i.key),i)}}function re(n){var t=function(n,t){if("object"!==Jt(n)||null===n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var i=e.call(n,t||"default");if("object"!==Jt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"===Jt(t)?t:String(t)}function oe(n,t){return(oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,t){return n.__proto__=t,n})(n,t)}function ae(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}();return function(){var e,i=ce(n);if(t){var r=ce(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return se(this,e)}}function se(n,t){if(t&&("object"===Jt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function ce(n){return(ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}Zt.registerModule("swagMigration/process",Kt),Zt.registerModule("swagMigration/ui",K),Xt.register("swag-migration",{type:"plugin",name:"swag-migration",title:"swag-migration.general.mainMenuItemGeneral",description:"swag-migration.general.descriptionTextModule",version:"0.9.0",targetVersion:"0.9.0",color:"#9AA8B5",icon:"regular-cog",routes:{emptyScreen:{component:"swag-migration-empty-screen",path:"empty",meta:{parentPath:"sw.settings.index",privilege:"admin"}},index:{component:"swag-migration-index",path:"index",meta:{parentPath:"sw.settings.index"},redirect:{name:"swag.migration.index.main"},children:{main:{path:"main",component:"swag-migration-main-page",meta:{parentPath:"sw.settings.index",resetMigration:!1,privilege:"admin"}},resetMigration:{path:"reset-migration",component:"swag-migration-main-page",meta:{parentPath:"sw.settings.index",resetMigration:!0,privilege:"admin"}},history:{path:"history",component:"swag-migration-history",children:{detail:{path:"detail/:id",component:"swag-migration-history-detail",meta:{parentPath:"sw.settings.index",privilege:"admin"}}},meta:{parentPath:"sw.settings.index",privilege:"admin"}},dataSelector:{path:"dataSelector",component:"swag-migration-data-selector",meta:{parentPath:"sw.settings.index",privilege:"admin"}}}},processScreen:{path:"processScreen",component:"swag-migration-process-screen",meta:{parentPath:"sw.settings.index",privilege:"admin"}},wizard:{component:"swag-migration-wizard",path:"wizard",redirect:{name:"swag.migration.wizard.introduction"},children:{introduction:{path:"introduction",component:"swag-migration-wizard-page-introduction",meta:{privilege:"admin"}},profileInstallation:{path:"profile/installation",component:"swag-migration-wizard-page-profile-installation",meta:{privilege:"admin"}},connectionCreate:{path:"connection/create",component:"swag-migration-wizard-page-connection-create",meta:{privilege:"admin"}},connectionSelect:{path:"connection/select",component:"swag-migration-wizard-page-connection-select",meta:{privilege:"admin"}},profileInformation:{path:"profile/information",component:"swag-migration-wizard-page-profile-information",meta:{privilege:"admin"}},credentials:{path:"credentials",component:"swag-migration-wizard-page-credentials",meta:{privilege:"admin"}},credentialsSuccess:{path:"credentials/success",component:"swag-migration-wizard-page-credentials-success",meta:{privilege:"admin"}},credentialsError:{path:"credentials/error",component:"swag-migration-wizard-page-credentials-error",meta:{privilege:"admin"}}},meta:{privilege:"admin"}}},settingsItem:{group:"plugins",to:"swag.migration.index",iconComponent:"swag-migration-settings-icon",privilege:"admin"}});var le=Shopware.Classes.ApiService,ge=function(n){!function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&oe(n,t)}(o,n);var t,e,i,r=ae(o);function o(n,t){var e,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"migration";return ee(this,o),(e=r.call(this,n,t,i)).basicConfig={timeout:3e4,version:Shopware.Context.api.apiVersion},e}return t=o,(e=[{key:"updateConnectionCredentials",value:function(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.getBasicHeaders(e);return this.httpClient.post("_action/".concat(this.getApiBasePath(),"/update-connection-credentials"),{connectionId:n,credentialFields:t},ne(ne({},this.basicConfig),{},{headers:i})).then((function(n){return le.handleResponse(n)}))}},{key:"checkConnection",value:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=this.getBasicHeaders(t);return this.httpClient.post("_action/".concat(this.getApiBasePath(),"/check-connection"),{connectionId:n},ne(ne({},this.basicConfig),{},{headers:e})).then((function(n){return le.handleResponse(n)}))}},{key:"getDataSelection",value:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=this.getBasicHeaders(t);return this.httpClient.get("_action/".concat(this.getApiBasePath(),"/data-selection"),ne(ne({},this.basicConfig),{},{params:{connectionId:n},headers:e})).then((function(n){return le.handleResponse(n)}))}},{key:"createMigration",value:function(n,t){var e={connectionId:n,dataSelectionIds:t},i=this.getBasicHeaders();return this.httpClient.post("_action/".concat(this.getApiBasePath(),"/create-migration"),e,ne(ne({},this.basicConfig),{},{headers:i})).then((function(n){return le.handleResponse(n)}))}},{key:"fetchData",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=n,i=this.getBasicHeaders(t);return this.httpClient.post("_action/".concat(this.getApiBasePath(),"/fetch-data"),e,ne(ne({},this.basicConfig),{},{headers:i})).then((function(n){return le.handleResponse(n)}))}},{key:"updateWriteProgress",value:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=this.getBasicHeaders(t);return this.httpClient.post("_action/".concat(this.getApiBasePath(),"/update-write-progress"),{runUuid:n},ne(ne({},this.basicConfig),{},{headers:e})).then((function(n){return le.handleResponse(n)}))}},{key:"updateMediaFilesProgress",value:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=this.getBasicHeaders(t);return this.httpClient.post("_action/".concat(this.getApiBasePath(),"/update-media-files-progress"),{runUuid:n},ne(ne({},this.basicConfig),{},{headers:e})).then((function(n){return le.handleResponse(n)}))}},{key:"writeData",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=n,i=this.getBasicHeaders(t);return this.httpClient.post("_action/".concat(this.getApiBasePath(),"/write-data"),e,ne(ne({},this.basicConfig),{},{headers:i})).then((function(n){return le.handleResponse(n)}))}},{key:"processMedia",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=n,i=this.getBasicHeaders(t);return this.httpClient.post("_action/".concat(this.getApiBasePath(),"/process-media"),e,ne(ne({},this.basicConfig),{},{headers:i})).then((function(n){return le.handleResponse(n)}))}},{key:"getState",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=n,i=this.getBasicHeaders(t);return this.httpClient.post("_action/".concat(this.getApiBasePath(),"/get-state"),e,ne(ne({},this.basicConfig),{},{headers:i})).then((function(n){return le.handleResponse(n)}))}},{key:"takeoverMigration",value:function(n){var t=this.getBasicHeaders();return this.httpClient.post("_action/".concat(this.getApiBasePath(),"/takeover-migration"),{runUuid:n},ne(ne({},this.basicConfig),{},{headers:t})).then((function(n){return le.handleResponse(n)}))}},{key:"abortMigration",value:function(n){var t=this.getBasicHeaders();return this.httpClient.post("_action/".concat(this.getApiBasePath(),"/abort-migration"),{runUuid:n},ne(ne({},this.basicConfig),{},{headers:t})).then((function(n){return le.handleResponse(n)}))}},{key:"finishMigration",value:function(n){var t=this.getBasicHeaders();return this.httpClient.post("_action/".concat(this.getApiBasePath(),"/finish-migration"),{runUuid:n},ne(ne({},this.basicConfig),{},{headers:t})).then((function(n){return le.handleResponse(n)}))}},{key:"assignThemes",value:function(n){var t=this.getBasicHeaders();return this.httpClient.post("_action/".concat(this.getApiBasePath(),"/assign-themes"),{runUuid:n},ne(ne({},this.basicConfig),{},{headers:t})).then((function(n){return le.handleResponse(n)}))}},{key:"generatePremapping",value:function(n){var t=this.getBasicHeaders();return this.httpClient.post("_action/".concat(this.getApiBasePath(),"/generate-premapping"),{runUuid:n},ne(ne({},this.basicConfig),{},{headers:t})).then((function(n){return le.handleResponse(n)}))}},{key:"writePremapping",value:function(n,t){var e=this.getBasicHeaders();return this.httpClient.post("_action/".concat(this.getApiBasePath(),"/write-premapping"),{runUuid:n,premapping:t},ne(ne({},this.basicConfig),{},{headers:e})).then((function(n){return le.handleResponse(n)}))}},{key:"getProfiles",value:function(){var n=this.getBasicHeaders();return this.httpClient.get("_action/".concat(this.getApiBasePath(),"/get-profiles"),ne(ne({},this.basicConfig),{},{headers:n})).then((function(n){return le.handleResponse(n)}))}},{key:"getGateways",value:function(n){var t=this.getBasicHeaders();return this.httpClient.get("_action/".concat(this.getApiBasePath(),"/get-gateways"),ne(ne({},this.basicConfig),{},{params:{profileName:n},headers:t})).then((function(n){return le.handleResponse(n)}))}},{key:"getProfileInformation",value:function(n,t){var e=this.getBasicHeaders();return this.httpClient.get("_action/".concat(this.getApiBasePath(),"/get-profile-information"),ne(ne({},this.basicConfig),{},{params:{profileName:n,gatewayName:t},headers:e})).then((function(n){return le.handleResponse(n)}))}},{key:"getGroupedLogsOfRun",value:function(n){var t=this.getBasicHeaders();return this.httpClient.get("".concat(this.getApiBasePath(),"/get-grouped-logs-of-run"),ne(ne({},this.basicConfig),{},{params:{runUuid:n},headers:t})).then((function(n){return le.handleResponse(n)}))}},{key:"clearDataOfRun",value:function(n){var t=this.getBasicHeaders();return this.httpClient.post("_action/".concat(this.getApiBasePath(),"/clear-data-of-run"),{runUuid:n},ne(ne({},this.basicConfig),{},{headers:t})).then((function(n){return le.handleResponse(n)}))}},{key:"resetChecksums",value:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=this.getBasicHeaders(t);return this.httpClient.post("_action/".concat(this.getApiBasePath(),"/reset-checksums"),{connectionId:n},ne(ne({},this.basicConfig),{},{headers:e})).then((function(n){return le.handleResponse(n)}))}},{key:"indexing",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getBasicHeaders(n);return this.httpClient.post("_action/index",ne(ne({},this.basicConfig),{},{headers:t}))}},{key:"cleanupMigrationData",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getBasicHeaders(n);return this.httpClient.post("_action/".concat(this.getApiBasePath(),"/cleanup-migration-data"),ne(ne({},this.basicConfig),{},{headers:t}))}},{key:"isMediaProcessing",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getBasicHeaders(n);return this.httpClient.get("_action/".concat(this.getApiBasePath(),"/is-media-processing"),ne(ne({},this.basicConfig),{},{headers:t}))}}])&&ie(t.prototype,e),i&&ie(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(le);function de(n){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function ue(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,(r=i.key,o=void 0,o=function(n,t){if("object"!==de(n)||null===n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var i=e.call(n,t||"default");if("object"!==de(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(r,"string"),"symbol"===de(o)?o:String(o)),i)}var r,o}var me=Shopware.State,pe=Shopware.Data.Criteria,fe=function(){function n(t,e,i){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._migrationService=t,this._migrationGeneralSettingRepository=e.create("swag_migration_general_setting"),this._context=i}var t,e,i;return t=n,(e=[{key:"initProcessStore",value:function(){var n=this;return new Promise((function(t,e){me.commit("swagMigration/process/setEntityGroups",[]),me.commit("swagMigration/process/setEnvironmentInformation",{});var i=new pe(1,1);n._migrationGeneralSettingRepository.search(i,n._context).then((function(n){if(0===n.length)return e(),null;var t=n.first().selectedConnectionId;return null===t?(e(),null):(me.commit("swagMigration/process/setConnectionId",t),t)})).then((function(i){null!==i?n._migrationService.checkConnection(i).then((function(n){me.commit("swagMigration/process/setEnvironmentInformation",n),t()})).catch((function(){e()})):e()})).catch((function(){e()}))}))}}])&&ue(t.prototype,e),i&&ue(t,i),Object.defineProperty(t,"prototype",{writable:!1}),n}();function he(n){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function we(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,(r=i.key,o=void 0,o=function(n,t){if("object"!==he(n)||null===n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var i=e.call(n,t||"default");if("object"!==he(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(r,"string"),"symbol"===he(o)?o:String(o)),i)}var r,o}var _e=Shopware.State,ve=function(){function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._migrationService=t,this._migrationProcessState=_e.get("swagMigration/process")}var t,e,i;return t=n,(e=[{key:"initUiStore",value:function(){var n=this;return new Promise((function(t,e){var i=n._migrationProcessState.connectionId;void 0!==i?n._migrationService.getDataSelection(i).then((function(n){_e.commit("swagMigration/ui/setPremapping",[]),_e.commit("swagMigration/ui/setDataSelectionTableData",n);var e=n.filter((function(n){return n.requiredSelection})).map((function(n){return n.id}));_e.commit("swagMigration/ui/setDataSelectionIds",e),t()})).catch((function(){e()})):t()}))}}])&&we(t.prototype,e),i&&we(t,i),Object.defineProperty(t,"prototype",{writable:!1}),n}();function be(n){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function ye(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,i)}return e}function ke(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(e),!0).forEach((function(t){Se(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):ye(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function Se(n,t,e){return(t=Ie(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Ce(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function xe(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,Ie(i.key),i)}}function Ie(n){var t=function(n,t){if("object"!==be(n)||null===n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var i=e.call(n,t||"default");if("object"!==be(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"===be(t)?t:String(t)}function Pe(n,t){return(Pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,t){return n.__proto__=t,n})(n,t)}function Me(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}();return function(){var e,i=Re(n);if(t){var r=Re(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return Ee(this,e)}}function Ee(n,t){if(t&&("object"===be(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function Re(n){return(Re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}var Le=Shopware.Classes.ApiService,Oe=function(n){!function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&Pe(n,t)}(o,n);var t,e,i,r=Me(o);function o(n,t){var e,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"migration";return Ce(this,o),(e=r.call(this,n,t,i)).basicConfig={timeout:3e4},e}return t=o,(e=[{key:"indexing",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=this.getBasicHeaders(i),o={};return null!=n&&(o.lastIndexer=n),null!=t&&(o.offset=t),null!=e&&(o.timestamp=e),this.httpClient.post("_action/".concat(this.getApiBasePath(),"/indexing"),o,ke(ke({},this.basicConfig),{},{headers:r})).then((function(n){return Le.handleResponse(n)}))}}])&&xe(t.prototype,e),i&&xe(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Le),ze=Shopware.Application;function Te(n){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function Ne(){Ne=function(){return n};var n={},t=Object.prototype,e=t.hasOwnProperty,i=Object.defineProperty||function(n,t,e){n[t]=e.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(n,t,e){return Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}),n[t]}try{c({},"")}catch(n){c=function(n,t,e){return n[t]=e}}function l(n,t,e,r){var o=t&&t.prototype instanceof u?t:u,a=Object.create(o.prototype),s=new x(r||[]);return i(a,"_invoke",{value:y(n,e,s)}),a}function g(n,t,e){try{return{type:"normal",arg:n.call(t,e)}}catch(n){return{type:"throw",arg:n}}}n.wrap=l;var d={};function u(){}function m(){}function p(){}var f={};c(f,o,(function(){return this}));var h=Object.getPrototypeOf,w=h&&h(h(I([])));w&&w!==t&&e.call(w,o)&&(f=w);var _=p.prototype=u.prototype=Object.create(f);function v(n){["next","throw","return"].forEach((function(t){c(n,t,(function(n){return this._invoke(t,n)}))}))}function b(n,t){function r(i,o,a,s){var c=g(n[i],n,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==Te(d)&&e.call(d,"__await")?t.resolve(d.__await).then((function(n){r("next",n,a,s)}),(function(n){r("throw",n,a,s)})):t.resolve(d).then((function(n){l.value=n,a(l)}),(function(n){return r("throw",n,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(n,e){function i(){return new t((function(t,i){r(n,e,t,i)}))}return o=o?o.then(i,i):i()}})}function y(n,t,e){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return P()}for(e.method=r,e.arg=o;;){var a=e.delegate;if(a){var s=k(a,e);if(s){if(s===d)continue;return s}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===i)throw i="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);i="executing";var c=g(n,t,e);if("normal"===c.type){if(i=e.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(i="completed",e.method="throw",e.arg=c.arg)}}}function k(n,t){var e=t.method,i=n.iterator[e];if(void 0===i)return t.delegate=null,"throw"===e&&n.iterator.return&&(t.method="return",t.arg=void 0,k(n,t),"throw"===t.method)||"return"!==e&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+e+"' method")),d;var r=g(i,n.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[n.resultName]=o.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(n){var t={tryLoc:n[0]};1 in n&&(t.catchLoc=n[1]),2 in n&&(t.finallyLoc=n[2],t.afterLoc=n[3]),this.tryEntries.push(t)}function C(n){var t=n.completion||{};t.type="normal",delete t.arg,n.completion=t}function x(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(S,this),this.reset(!0)}function I(n){if(n){var t=n[o];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var i=-1,r=function t(){for(;++i<n.length;)if(e.call(n,i))return t.value=n[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:P}}function P(){return{value:void 0,done:!0}}return m.prototype=p,i(_,"constructor",{value:p,configurable:!0}),i(p,"constructor",{value:m,configurable:!0}),m.displayName=c(p,s,"GeneratorFunction"),n.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,p):(n.__proto__=p,c(n,s,"GeneratorFunction")),n.prototype=Object.create(_),n},n.awrap=function(n){return{__await:n}},v(b.prototype),c(b.prototype,a,(function(){return this})),n.AsyncIterator=b,n.async=function(t,e,i,r,o){void 0===o&&(o=Promise);var a=new b(l(t,e,i,r),o);return n.isGeneratorFunction(e)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},v(_),c(_,s,"Generator"),c(_,o,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),n.keys=function(n){var t=Object(n),e=[];for(var i in t)e.push(i);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},n.values=I,x.prototype={constructor:x,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!n)for(var t in this)"t"===t.charAt(0)&&e.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function i(e,i){return a.type="throw",a.arg=n,t.next=e,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=e.call(o,"catchLoc"),c=e.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(n,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===n||"continue"===n)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=n,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),d},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.finallyLoc===n)return this.complete(e.completion,e.afterLoc),C(e),d}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.tryLoc===n){var i=e.completion;if("throw"===i.type){var r=i.arg;C(e)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(n,t,e){return this.delegate={iterator:I(n),resultName:t,nextLoc:e},"next"===this.method&&(this.arg=void 0),d}},n}function $e(n,t,e,i,r,o,a){try{var s=n[o](a),c=s.value}catch(n){return void e(n)}s.done?t(c):Promise.resolve(c).then(i,r)}function je(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,(r=i.key,o=void 0,o=function(n,t){if("object"!==Te(n)||null===n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var i=e.call(n,t||"default");if("object"!==Te(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(r,"string"),"symbol"===Te(o)?o:String(o)),i)}var r,o}ze.addServiceProvider("migrationService",(function(n){var t=ze.getContainer("init");return new ge(t.httpClient,n.loginService)})),ze.addServiceProvider("processStoreInitService",(function(n){return new fe(n.migrationService,n.repositoryFactory,Shopware.Context.api)})),ze.addServiceProvider("uiStoreInitService",(function(n){return new ve(n.migrationService)})),ze.addServiceProvider("migrationIndexingApiService",(function(n){var t=ze.getContainer("init");return new Oe(t.httpClient,n.loginService)}));var De=function(){function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._indexingApiService=t}var t,e,i;return t=n,(e=[{key:"start",value:function(){var n=this;return new Promise(function(){var t,e=(t=Ne().mark((function t(e){var i,r;return Ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=!0,r={};case 2:if(!i){t.next=7;break}return t.next=5,n._indexingApiService.indexing(r.lastIndexer,r.offset,r.timestamp).then((function(n){void 0===n.done||!0!==n.done?r=n:i=!1}));case 5:t.next=2;break;case 7:e();case 8:case"end":return t.stop()}}),t)})),function(){var n=this,e=arguments;return new Promise((function(i,r){var o=t.apply(n,e);function a(n){$e(o,i,r,a,s,"next",n)}function s(n){$e(o,i,r,a,s,"throw",n)}a(void 0)}))});return function(n){return e.apply(this,arguments)}}())}}])&&je(t.prototype,e),i&&je(t,i),Object.defineProperty(t,"prototype",{writable:!1}),n}(),Ae=Shopware.Application;Ae.addServiceProvider("migrationWorkerService",(function(n){return new _t(n.migrationService,n.migrationIndexingWorkerService)})),Ae.addServiceProvider("migrationIndexingWorkerService",(function(n){return new De(n.migrationIndexingApiService)}));e("RmzT")},yYla:function(n,t,e){},ydqr:function(n,t,e){"use strict";function i(n,t){for(var e=[],i={},r=0;r<t.length;r++){var o=t[r],a=o[0],s={id:n+":"+r,css:o[1],media:o[2],sourceMap:o[3]};i[a]?i[a].parts.push(s):e.push(i[a]={id:a,parts:[s]})}return e}e.r(t),e.d(t,"default",(function(){return p}));var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},a=r&&(document.head||document.getElementsByTagName("head")[0]),s=null,c=0,l=!1,g=function(){},d=null,u="data-vue-ssr-id",m="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(n,t,e,r){l=e,d=r||{};var a=i(n,t);return f(a),function(t){for(var e=[],r=0;r<a.length;r++){var s=a[r];(c=o[s.id]).refs--,e.push(c)}t?f(a=i(n,t)):a=[];for(r=0;r<e.length;r++){var c;if(0===(c=e[r]).refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete o[c.id]}}}}function f(n){for(var t=0;t<n.length;t++){var e=n[t],i=o[e.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](e.parts[r]);for(;r<e.parts.length;r++)i.parts.push(w(e.parts[r]));i.parts.length>e.parts.length&&(i.parts.length=e.parts.length)}else{var a=[];for(r=0;r<e.parts.length;r++)a.push(w(e.parts[r]));o[e.id]={id:e.id,refs:1,parts:a}}}}function h(){var n=document.createElement("style");return n.type="text/css",a.appendChild(n),n}function w(n){var t,e,i=document.querySelector("style["+u+'~="'+n.id+'"]');if(i){if(l)return g;i.parentNode.removeChild(i)}if(m){var r=c++;i=s||(s=h()),t=b.bind(null,i,r,!1),e=b.bind(null,i,r,!0)}else i=h(),t=y.bind(null,i),e=function(){i.parentNode.removeChild(i)};return t(n),function(i){if(i){if(i.css===n.css&&i.media===n.media&&i.sourceMap===n.sourceMap)return;t(n=i)}else e()}}var _,v=(_=[],function(n,t){return _[n]=t,_.filter(Boolean).join("\n")});function b(n,t,e,i){var r=e?"":i.css;if(n.styleSheet)n.styleSheet.cssText=v(t,r);else{var o=document.createTextNode(r),a=n.childNodes;a[t]&&n.removeChild(a[t]),a.length?n.insertBefore(o,a[t]):n.appendChild(o)}}function y(n,t){var e=t.css,i=t.media,r=t.sourceMap;if(i&&n.setAttribute("media",i),d.ssrId&&n.setAttribute(u,t.id),r&&(e+="\n/*# sourceURL="+r.sources[0]+" */",e+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},zTKk:function(n,t){Shopware.Component.extend("swag-migration-profile-shopware55-api-page-information","swag-migration-profile-shopware-api-page-information",{})},ztaO:function(n,t,e){}});
//# sourceMappingURL=swag-migration-assistant.js.map